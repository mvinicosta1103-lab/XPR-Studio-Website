<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>XPR Studio - Roblox Game Development</title>
    
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Exo:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    
    <!-- AOS (Animate On Scroll) -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    
    <!-- Pace.js (Loading Bar) -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pace-js@latest/themes/blue/pace-theme-minimal.css">
    
    <style>
        :root { --theme-text: #ffffff; --theme-head: #00d4ff; }
        body { color: var(--theme-text) !important; }
        h1, h2, h3, .nav-link { color: var(--theme-head) !important; }
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Exo', sans-serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 50%, #7e8ba3 100%);
            min-height: 100vh;
            color: #333;
            overflow-x: hidden;
            position: relative;
        }

        /* Animated Background with Particles */
        #particles-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -2;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 50%, #7e8ba3 100%);
        }

        .particle {
            position: absolute;
            background: rgba(255, 255, 255, 0.5);
            border-radius: 50%;
            animation: float 20s infinite;
        }

        @keyframes float {
            0%, 100% {
                transform: translateY(0px) translateX(0px);
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                transform: translateY(-100vh) translateX(100px);
                opacity: 0;
            }
        }

        /* Wave SVG Background */
        .wave-container {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 200px;
            z-index: -1;
        }

        .wave {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 200%;
            height: 100%;
            background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1200 120'%3E%3Cpath d='M0,50 Q300,0 600,50 T1200,50 L1200,120 L0,120 Z' fill='%23f3f4f6' opacity='0.9'/%3E%3C/svg%3E") repeat-x;
            animation: wave 15s linear infinite;
        }

        .wave:nth-child(2) {
            bottom: 10px;
            animation: wave 10s linear infinite reverse;
            opacity: 0.5;
        }

        .wave:nth-child(3) {
            bottom: 20px;
            animation: wave 8s linear infinite;
            opacity: 0.3;
        }

        @keyframes wave {
            0% { transform: translateX(0); }
            100% { transform: translateX(600px); }
        }

        /* Header Styles */
        header {
            background: rgba(20, 30, 48, 0.95);
            color: #ffffff;
            padding: 20px;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
            animation: slideDown 0.6s ease-out;
            backdrop-filter: blur(10px);
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .header-content {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
        }

        header h1 {
            font-size: 2.2rem;
            font-weight: 700;
            margin: 0;
            background: linear-gradient(135deg, #00d4ff 0%, #0099ff 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            letter-spacing: 2px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        /* Navegação */
        nav {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 5px;
            margin: 15px 0;
        }

        nav a {
            color: #ffffff;
            text-decoration: none;
            font-weight: 600;
            padding: 8px 16px;
            border-radius: 20px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            font-size: 0.9rem;
        }

        nav a::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #00d4ff 0%, #0099ff 100%);
            z-index: -1;
            transition: left 0.3s ease;
        }

        nav a:hover {
            color: #ffffff;
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 212, 255, 0.4);
        }

        nav a:hover::before {
            left: 0;
        }

        /* User Info Display */
        .user-info {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 8px 16px;
            background: rgba(0, 212, 255, 0.1);
            border-radius: 20px;
            border: 2px solid rgba(0, 212, 255, 0.3);
        }

        .user-avatar {
            width: 35px;
            height: 35px;
            background: linear-gradient(135deg, #00d4ff 0%, #0099ff 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }

        .user-details {
            display: flex;
            flex-direction: column;
        }

        .user-name {
            font-weight: 600;
            font-size: 0.9rem;
        }

        .user-type {
            font-size: 0.7rem;
            color: #00d4ff;
        }

        .btn-logout {
            padding: 6px 12px;
            background: rgba(255, 107, 107, 0.2);
            color: #ff6b6b;
            border: 2px solid #ff6b6b;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .btn-logout:hover {
            background: #ff6b6b;
            color: white;
        }

        /* Language Selector */
        .language-selector {
            position: relative;
            margin: 0 15px;
        }

        .language-btn {
            background: rgba(0, 212, 255, 0.1);
            color: white;
            border: 2px solid rgba(0, 212, 255, 0.3);
            border-radius: 20px;
            padding: 8px 16px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 600;
            font-size: 0.9rem;
            transition: all 0.3s ease;
        }

        .language-btn:hover {
            background: rgba(0, 212, 255, 0.2);
            transform: translateY(-2px);
        }

        .language-dropdown {
            position: absolute;
            top: 100%;
            right: 0;
            margin-top: 10px;
            background: rgba(20, 30, 48, 0.98);
            border-radius: 15px;
            padding: 10px 0;
            min-width: 180px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
            display: none;
            z-index: 1000;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(0, 212, 255, 0.2);
        }

        .language-dropdown.show {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .language-option {
            padding: 12px 20px;
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }

        .language-option:hover {
            background: rgba(0, 212, 255, 0.1);
            color: #00d4ff;
        }

        .language-option.active {
            background: rgba(0, 212, 255, 0.2);
            color: #00d4ff;
            font-weight: 600;
        }

        .language-flag {
            width: 24px;
            height: 16px;
            border-radius: 2px;
            object-fit: cover;
        }

        /* Auth Section (Login/Register) */
        .auth-section {
            background: rgba(255, 255, 255, 0.95);
            padding: 80px 20px;
            margin: 0;
            position: relative;
            z-index: 2;
            min-height: 100vh;
            display: flex;
            align-items: center;
        }

        .auth-container {
            max-width: 1000px;
            margin: 0 auto;
            width: 100%;
        }

        .auth-tabs {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 40px;
        }

        .auth-tab {
            padding: 12px 40px;
            background: rgba(0, 212, 255, 0.1);
            border: 2px solid rgba(0, 212, 255, 0.3);
            border-radius: 25px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            font-size: 1.1rem;
        }

        .auth-tab.active {
            background: linear-gradient(135deg, #00d4ff 0%, #0099ff 100%);
            color: white;
            border-color: transparent;
        }

        .auth-tab:hover:not(.active) {
            background: rgba(0, 212, 255, 0.2);
            transform: translateY(-2px);
        }

        .auth-box {
            background: linear-gradient(135deg, #f5f7fa 0%, #f0f4f8 100%);
            padding: 50px;
            border-radius: 20px;
            box-shadow: 0 15px 50px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(0, 212, 255, 0.1);
            max-width: 600px;
            margin: 0 auto;
        }

        .auth-header {
            text-align: center;
            margin-bottom: 40px;
        }

        .auth-header h2 {
            font-size: 2rem;
            color: #1e3c72;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .auth-header p {
            color: #666;
            font-size: 1rem;
        }

        .auth-form .form-group {
            margin-bottom: 25px;
        }

        .auth-form label {
            display: block;
            color: #1e3c72;
            font-weight: 600;
            margin-bottom: 10px;
            font-size: 1rem;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .auth-form input {
            width: 100%;
            padding: 14px 16px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 1rem;
            font-family: 'Exo', sans-serif;
            transition: all 0.3s ease;
        }

        .auth-form input:focus {
            outline: none;
            border-color: #00d4ff;
            box-shadow: 0 0 15px rgba(0, 212, 255, 0.2);
            transform: translateY(-2px);
        }

        .btn-auth-submit {
            width: 100%;
            padding: 14px;
            background: linear-gradient(135deg, #00d4ff 0%, #0099ff 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-weight: 700;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 10px;
        }

        .btn-auth-submit:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(0, 212, 255, 0.3);
        }

        .auth-message {
            text-align: center;
            margin-top: 20px;
            padding: 15px;
            border-radius: 10px;
            display: none;
        }

        .auth-message.success {
            background: rgba(0, 184, 148, 0.1);
            color: #00b894;
            border: 2px solid #00b894;
        }

        .auth-message.error {
            background: rgba(255, 107, 107, 0.1);
            color: #ff6b6b;
            border: 2px solid #ff6b6b;
        }

        .password-strength {
            margin-top: 10px;
            height: 5px;
            background: #e0e0e0;
            border-radius: 5px;
            overflow: hidden;
            display: none;
        }

        .password-strength-bar {
            height: 100%;
            width: 0;
            transition: all 0.3s ease;
        }

        .password-strength-text {
            font-size: 0.85rem;
            margin-top: 5px;
            font-weight: 600;
        }

        /* Hide/Show sections based on auth state */
        .auth-section.hidden {
            display: none;
        }

        .main-content.hidden {
            display: none;
        }

        /* Hero Section */
        .hero {
            min-height: 70vh;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            color: #ffffff;
            padding: 60px 20px;
            position: relative;
            overflow: hidden;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(circle at 50% 50%, rgba(0, 212, 255, 0.1) 0%, transparent 70%);
            z-index: 0;
        }

        .hero-content {
            max-width: 900px;
            z-index: 1;
            animation: fadeInUp 1s ease-out;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .hero h1 {
            font-size: 4rem;
            font-weight: 900;
            margin-bottom: 20px;
            background: linear-gradient(135deg, #00d4ff 0%, #0099ff 50%, #ff006e 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            line-height: 1.2;
        }

        .hero p {
            font-size: 1.3rem;
            margin-bottom: 30px;
            color: rgba(255, 255, 255, 0.9);
            font-weight: 300;
        }

        .hero-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .btn-primary-custom, .btn-secondary-custom {
            padding: 15px 40px;
            font-size: 1.1rem;
            border: none;
            border-radius: 30px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
        }

        .btn-primary-custom {
            background: linear-gradient(135deg, #00d4ff 0%, #0099ff 100%);
            color: #ffffff;
            box-shadow: 0 8px 25px rgba(0, 212, 255, 0.3);
        }

        .btn-primary-custom:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 35px rgba(0, 212, 255, 0.5);
            color: #ffffff;
            text-decoration: none;
        }

        .btn-secondary-custom {
            background: rgba(255, 255, 255, 0.1);
            color: #ffffff;
            border: 2px solid rgba(0, 212, 255, 0.5);
        }

        .btn-secondary-custom:hover {
            background: rgba(0, 212, 255, 0.2);
            border-color: #00d4ff;
            transform: translateY(-3px);
            color: #ffffff;
            text-decoration: none;
        }

        /* Stats Section */
        .stats-section {
            background: rgba(255, 255, 255, 0.95);
            padding: 80px 20px;
            margin: 60px 0;
            position: relative;
            z-index: 2;
        }

        .stats-container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .stats-title {
            text-align: center;
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 60px;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
        }

        .stat-card {
            background: linear-gradient(135deg, #f5f7fa 0%, #f0f4f8 100%);
            padding: 40px 20px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.08);
            transition: all 0.3s ease;
            border: 1px solid rgba(0, 212, 255, 0.1);
        }

        .stat-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 40px rgba(0, 212, 255, 0.2);
            border-color: rgba(0, 212, 255, 0.3);
        }

        .stat-icon {
            font-size: 3rem;
            color: #00d4ff;
            margin-bottom: 15px;
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: 900;
            background: linear-gradient(135deg, #00d4ff 0%, #0099ff 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
        }

        .stat-label {
            font-size: 1.1rem;
            color: #555;
            font-weight: 600;
        }

        /* About Section */
        .about-section {
            background: rgba(255, 255, 255, 0.95);
            padding: 80px 20px;
            margin: 0;
            position: relative;
            z-index: 2;
        }

        .about-container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .about-title {
            text-align: center;
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 60px;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .about-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 50px;
            align-items: center;
        }

        .about-text h3 {
            font-size: 1.8rem;
            color: #1e3c72;
            margin-bottom: 20px;
            font-weight: 700;
        }

        .about-text p {
            font-size: 1.1rem;
            color: #555;
            line-height: 1.8;
            margin-bottom: 15px;
        }

        .about-image {
            text-align: center;
        }

        .about-image img {
            max-width: 100%;
            height: auto;
            border-radius: 15px;
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.2);
        }

        /* Projects Section */
        .projects-section {
            background: rgba(255, 255, 255, 0.95);
            padding: 80px 20px;
            margin: 0;
            position: relative;
            z-index: 2;
        }

        .projects-container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .projects-title {
            text-align: center;
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 60px;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .projects-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 30px;
        }

        .project-card {
            background: linear-gradient(135deg, #f5f7fa 0%, #f0f4f8 100%);
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.08);
            transition: all 0.3s ease;
            border: 1px solid rgba(0, 212, 255, 0.1);
        }

        .project-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 40px rgba(0, 212, 255, 0.2);
            border-color: rgba(0, 212, 255, 0.3);
        }

        .project-image {
            width: 100%;
            height: 200px;
            background: linear-gradient(135deg, #00d4ff 0%, #0099ff 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            color: rgba(255, 255, 255, 0.8);
        }

        .project-content {
            padding: 25px;
        }

        .project-content h3 {
            font-size: 1.5rem;
            color: #1e3c72;
            margin-bottom: 12px;
            font-weight: 700;
        }

        .project-content p {
            color: #555;
            line-height: 1.6;
            margin-bottom: 15px;
        }

        .project-stats {
            display: flex;
            justify-content: space-between;
            padding-top: 15px;
            border-top: 1px solid rgba(0, 212, 255, 0.2);
        }

        .project-stat {
            text-align: center;
            flex: 1;
        }

        .project-stat-number {
            font-size: 1.5rem;
            font-weight: 900;
            color: #00d4ff;
        }

        .project-stat-label {
            font-size: 0.85rem;
            color: #999;
            margin-top: 5px;
        }

        .project-links {
            display: flex;
            gap: 10px;
            margin-top: 15px;
            flex-wrap: wrap;
        }

        .project-link {
            flex: 1;
            min-width: 50px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, #00d4ff 0%, #0099ff 100%);
            color: white;
            border-radius: 8px;
            text-decoration: none;
            font-size: 0.9rem;
            transition: all 0.3s ease;
            border: none;
            cursor: pointer;
        }

        .project-link:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 15px rgba(0, 212, 255, 0.3);
        }

        /* Team Section */
        .team-section {
            background: rgba(255, 255, 255, 0.95);
            padding: 80px 20px;
            margin: 0;
            position: relative;
            z-index: 2;
        }

        .team-container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .team-title {
            text-align: center;
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 60px;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .team-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 30px;
        }

        .team-member {
            background: linear-gradient(135deg, #f5f7fa 0%, #f0f4f8 100%);
            border-radius: 15px;
            padding: 30px;
            text-align: center;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.08);
            transition: all 0.3s ease;
            border: 1px solid rgba(0, 212, 255, 0.1);
        }

        .team-member:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 40px rgba(0, 212, 255, 0.2);
            border-color: rgba(0, 212, 255, 0.3);
        }

        .member-avatar {
            width: 100px;
            height: 100px;
            background: linear-gradient(135deg, #00d4ff 0%, #0099ff 100%);
            border-radius: 50%;
            margin: 0 auto 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            color: white;
        }

        .member-name {
            font-size: 1.5rem;
            color: #1e3c72;
            margin-bottom: 8px;
            font-weight: 700;
        }

        .member-role {
            font-size: 1rem;
            color: #00d4ff;
            margin-bottom: 12px;
            font-weight: 600;
        }

        .member-bio {
            color: #555;
            line-height: 1.6;
            font-size: 0.95rem;
        }

        /* FAQ Section */
        .faq-section {
            background: rgba(255, 255, 255, 0.95);
            padding: 80px 20px;
            margin: 0;
            position: relative;
            z-index: 2;
        }

        .faq-container {
            max-width: 900px;
            margin: 0 auto;
        }

        .faq-title {
            text-align: center;
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 60px;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .faq-item {
            background: linear-gradient(135deg, #f5f7fa 0%, #f0f4f8 100%);
            margin-bottom: 20px;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
            border: 1px solid rgba(0, 212, 255, 0.1);
            transition: all 0.3s ease;
        }

        .faq-item:hover {
            box-shadow: 0 8px 25px rgba(0, 212, 255, 0.15);
            border-color: rgba(0, 212, 255, 0.3);
        }

        .faq-question {
            padding: 20px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-weight: 600;
            color: #1e3c72;
            font-size: 1.1rem;
            transition: all 0.3s ease;
        }

        .faq-question:hover {
            color: #00d4ff;
        }

        .faq-icon {
            font-size: 1.5rem;
            color: #00d4ff;
            transition: transform 0.3s ease;
        }

        .faq-item.active .faq-icon {
            transform: rotate(180deg);
        }

        .faq-answer {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
            background: rgba(0, 212, 255, 0.05);
        }

        .faq-item.active .faq-answer {
            max-height: 500px;
        }

        .faq-answer-content {
            padding: 0 20px 20px;
            color: #555;
            line-height: 1.8;
        }

        /* Wiki Section */
        .wiki-section {
            background: rgba(255, 255, 255, 0.95);
            padding: 80px 20px;
            margin: 0;
            position: relative;
            z-index: 2;
        }

        .wiki-container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .wiki-title {
            text-align: center;
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 60px;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .wiki-search-bar {
            max-width: 600px;
            margin: 0 auto 50px;
            position: relative;
        }

        .wiki-search-bar input {
            width: 100%;
            padding: 18px 50px 18px 20px;
            border: 2px solid #e0e0e0;
            border-radius: 50px;
            font-size: 1.1rem;
            font-family: 'Exo', sans-serif;
            transition: all 0.3s ease;
        }

        .wiki-search-bar input:focus {
            outline: none;
            border-color: #00d4ff;
            box-shadow: 0 0 20px rgba(0, 212, 255, 0.2);
        }

        .wiki-search-bar button {
            position: absolute;
            right: 5px;
            top: 50%;
            transform: translateY(-50%);
            background: linear-gradient(135deg, #00d4ff 0%, #0099ff 100%);
            border: none;
            width: 45px;
            height: 45px;
            border-radius: 50%;
            color: white;
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .wiki-search-bar button:hover {
            transform: translateY(-50%) scale(1.1);
            box-shadow: 0 5px 15px rgba(0, 212, 255, 0.4);
        }

        .wiki-categories {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin-bottom: 50px;
        }

        .wiki-category {
            background: linear-gradient(135deg, #f5f7fa 0%, #f0f4f8 100%);
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.08);
            border: 1px solid rgba(0, 212, 255, 0.1);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .wiki-category:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 40px rgba(0, 212, 255, 0.2);
            border-color: rgba(0, 212, 255, 0.3);
        }

        .wiki-category-icon {
            font-size: 3rem;
            color: #00d4ff;
            margin-bottom: 15px;
        }

        .wiki-category-title {
            font-size: 1.3rem;
            color: #1e3c72;
            font-weight: 700;
            margin-bottom: 10px;
        }

        .wiki-category-count {
            font-size: 0.95rem;
            color: #999;
        }

        .wiki-articles {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
        }

        .wiki-article {
            background: linear-gradient(135deg, #f5f7fa 0%, #f0f4f8 100%);
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.08);
            border-left: 4px solid #00d4ff;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .wiki-article:hover {
            transform: translateX(10px);
            box-shadow: 0 10px 30px rgba(0, 212, 255, 0.2);
        }

        .wiki-article-title {
            font-size: 1.2rem;
            color: #1e3c72;
            font-weight: 700;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .wiki-article-excerpt {
            color: #666;
            font-size: 0.95rem;
            line-height: 1.6;
            margin-bottom: 15px;
        }

        .wiki-article-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.85rem;
            color: #999;
            padding-top: 10px;
            border-top: 1px solid rgba(0, 212, 255, 0.2);
        }

        /* Business Section */
        .business-section {
            background: rgba(255, 255, 255, 0.95);
            padding: 80px 20px;
            margin: 0;
            position: relative;
            z-index: 2;
        }

        .business-container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .business-title {
            text-align: center;
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 60px;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .business-intro {
            text-align: center;
            max-width: 800px;
            margin: 0 auto 60px;
            font-size: 1.15rem;
            color: #555;
            line-height: 1.8;
        }

        .business-services {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-bottom: 60px;
        }

        .business-service {
            background: linear-gradient(135deg, #f5f7fa 0%, #f0f4f8 100%);
            padding: 35px;
            border-radius: 15px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.08);
            border: 1px solid rgba(0, 212, 255, 0.1);
            transition: all 0.3s ease;
        }

        .business-service:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 40px rgba(0, 212, 255, 0.2);
            border-color: rgba(0, 212, 255, 0.3);
        }

        .business-service-icon {
            font-size: 3rem;
            color: #00d4ff;
            margin-bottom: 20px;
        }

        .business-service-title {
            font-size: 1.5rem;
            color: #1e3c72;
            font-weight: 700;
            margin-bottom: 15px;
        }

        .business-service-description {
            color: #666;
            line-height: 1.7;
            margin-bottom: 20px;
            font-size: 0.95rem;
        }

        .business-service-price {
            display: flex;
            align-items: center;
            gap: 10px;
            padding-top: 15px;
            border-top: 1px solid rgba(0, 212, 255, 0.2);
        }

        .price-label {
            font-size: 0.9rem;
            color: #999;
        }

        .price-value {
            font-size: 1.8rem;
            font-weight: 900;
            background: linear-gradient(135deg, #00d4ff 0%, #0099ff 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .business-cta {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            padding: 60px 30px;
            border-radius: 20px;
            text-align: center;
            color: white;
            box-shadow: 0 15px 50px rgba(0, 0, 0, 0.15);
        }

        .business-cta h3 {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 15px;
        }

        .business-cta p {
            font-size: 1.1rem;
            margin-bottom: 30px;
            opacity: 0.9;
        }

        .business-cta-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .btn-business-primary, .btn-business-secondary {
            padding: 15px 40px;
            font-size: 1.1rem;
            border-radius: 30px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
        }

        .btn-business-primary {
            background: white;
            color: #1e3c72;
            border: none;
        }

        .btn-business-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(255, 255, 255, 0.3);
            color: #1e3c72;
            text-decoration: none;
        }

        .btn-business-secondary {
            background: transparent;
            color: white;
            border: 2px solid white;
        }

        .btn-business-secondary:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: translateY(-3px);
            color: white;
            text-decoration: none;
        }

        /* Contributors Section */
        .contributors-section {
            background: rgba(255, 255, 255, 0.95);
            padding: 80px 20px;
            margin: 0;
            position: relative;
            z-index: 2;
        }

        .contributors-container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .contributors-title {
            text-align: center;
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 60px;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .contributors-intro {
            text-align: center;
            max-width: 800px;
            margin: 0 auto 50px;
            font-size: 1.1rem;
            color: #555;
            line-height: 1.8;
        }

        .contributors-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 25px;
            margin-bottom: 60px;
        }

        .contributor-stat {
            background: linear-gradient(135deg, #f5f7fa 0%, #f0f4f8 100%);
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.08);
            border: 1px solid rgba(0, 212, 255, 0.1);
            transition: all 0.3s ease;
        }

        .contributor-stat:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 212, 255, 0.15);
        }

        .contributor-stat-icon {
            font-size: 2.5rem;
            color: #00d4ff;
            margin-bottom: 15px;
        }

        .contributor-stat-number {
            font-size: 2.2rem;
            font-weight: 900;
            background: linear-gradient(135deg, #00d4ff 0%, #0099ff 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 8px;
        }

        .contributor-stat-label {
            font-size: 0.95rem;
            color: #666;
            font-weight: 600;
        }

        .contributors-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 25px;
            margin-bottom: 50px;
        }

        .contributor-card {
            background: linear-gradient(135deg, #f5f7fa 0%, #f0f4f8 100%);
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.08);
            border: 1px solid rgba(0, 212, 255, 0.1);
            transition: all 0.3s ease;
        }

        .contributor-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 12px 35px rgba(0, 212, 255, 0.2);
            border-color: rgba(0, 212, 255, 0.3);
        }

        .contributor-avatar {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, #00d4ff 0%, #0099ff 100%);
            border-radius: 50%;
            margin: 0 auto 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            color: white;
            position: relative;
        }

        .contributor-badge {
            position: absolute;
            bottom: -5px;
            right: -5px;
            background: linear-gradient(135deg, #ff6b6b 0%, #ff0000 100%);
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.9rem;
            border: 3px solid #f5f7fa;
        }

        .contributor-name {
            font-size: 1.2rem;
            color: #1e3c72;
            font-weight: 700;
            margin-bottom: 5px;
        }

        .contributor-role {
            font-size: 0.9rem;
            color: #00d4ff;
            margin-bottom: 15px;
            font-weight: 600;
        }

        .contributor-contributions {
            display: flex;
            justify-content: space-around;
            padding-top: 15px;
            border-top: 1px solid rgba(0, 212, 255, 0.2);
        }

        .contribution-item {
            text-align: center;
        }

        .contribution-number {
            font-size: 1.3rem;
            font-weight: 900;
            color: #00d4ff;
        }

        .contribution-label {
            font-size: 0.75rem;
            color: #999;
            margin-top: 3px;
        }

        .become-contributor {
            background: linear-gradient(135deg, #00d4ff 0%, #0099ff 100%);
            padding: 50px 30px;
            border-radius: 20px;
            text-align: center;
            color: white;
            box-shadow: 0 15px 50px rgba(0, 212, 255, 0.3);
        }

        .become-contributor h3 {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 15px;
        }

        .become-contributor p {
            font-size: 1.1rem;
            margin-bottom: 30px;
            opacity: 0.95;
        }

        .become-contributor-btn {
            padding: 15px 40px;
            font-size: 1.1rem;
            background: white;
            color: #00d4ff;
            border: none;
            border-radius: 30px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
        }

        .become-contributor-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(255, 255, 255, 0.3);
            color: #0099ff;
            text-decoration: none;
        }

        /* Business Contact Section */
        .business-contact-section {
            margin-top: 60px;
            padding: 50px 30px;
            background: linear-gradient(135deg, #f5f7fa 0%, #f0f4f8 100%);
            border-radius: 20px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
        }

        .business-contact-title {
            text-align: center;
            font-size: 2rem;
            color: #1e3c72;
            font-weight: 700;
            margin-bottom: 10px;
        }

        .business-contact-subtitle {
            text-align: center;
            font-size: 1.1rem;
            color: #666;
            margin-bottom: 50px;
        }

        .business-contact-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
        }

        .business-contact-card {
            background: white;
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.08);
            border: 2px solid transparent;
            transition: all 0.3s ease;
        }

        .business-contact-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 12px 35px rgba(0, 212, 255, 0.2);
            border-color: rgba(0, 212, 255, 0.3);
        }

        .business-contact-card.general {
            grid-column: span 2;
        }

        @media (max-width: 768px) {
            .business-contact-card.general {
                grid-column: span 1;
            }
        }

        .contact-icon {
            width: 80px;
            height: 80px;
            margin: 0 auto 20px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            color: white;
        }

        .contact-icon.partnership {
            background: linear-gradient(135deg, #00d4ff 0%, #0099ff 100%);
        }

        .contact-icon.hiring {
            background: linear-gradient(135deg, #00b894 0%, #00a86b 100%);
        }

        .contact-icon.work {
            background: linear-gradient(135deg, #6c5ce7 0%, #5f3dc4 100%);
        }

        .contact-icon.policy {
            background: linear-gradient(135deg, #fdcb6e 0%, #f39c12 100%);
        }

        .contact-icon.report {
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a6f 100%);
        }

        .contact-icon.general-contact {
            background: linear-gradient(135deg, #a29bfe 0%, #6c5ce7 100%);
        }

        .business-contact-card h4 {
            font-size: 1.3rem;
            color: #1e3c72;
            font-weight: 700;
            margin-bottom: 12px;
        }

        .business-contact-card p {
            color: #666;
            font-size: 0.95rem;
            line-height: 1.6;
            margin-bottom: 20px;
        }

        .contact-email {
            display: inline-block;
            color: #00d4ff;
            text-decoration: none;
            font-weight: 600;
            margin-bottom: 20px;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }

        .contact-email:hover {
            color: #0099ff;
            transform: scale(1.05);
        }

        .btn-contact-modal {
            width: 100%;
            padding: 12px 20px;
            background: linear-gradient(135deg, #00d4ff 0%, #0099ff 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-weight: 700;
            font-size: 0.95rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .btn-contact-modal:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0, 212, 255, 0.3);
        }

        /* Business Modal */
        .business-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: center;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .business-modal-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(5px);
        }

        .business-modal-content {
            position: relative;
            background: white;
            border-radius: 20px;
            padding: 40px;
            max-width: 600px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            animation: slideUp 0.3s ease;
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .modal-close {
            position: absolute;
            top: 20px;
            right: 20px;
            width: 40px;
            height: 40px;
            background: #ff6b6b;
            border: none;
            border-radius: 50%;
            color: white;
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-close:hover {
            background: #ff0000;
            transform: rotate(90deg);
        }

        .modal-header {
            margin-bottom: 30px;
        }

        .modal-header h2 {
            font-size: 1.8rem;
            color: #1e3c72;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .business-modal-form .form-group {
            margin-bottom: 20px;
        }

        .business-modal-form label {
            display: block;
            color: #1e3c72;
            font-weight: 600;
            margin-bottom: 8px;
            font-size: 1rem;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .business-modal-form input,
        .business-modal-form textarea {
            width: 100%;
            padding: 12px 14px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 1rem;
            font-family: 'Exo', sans-serif;
            transition: all 0.3s ease;
        }

        .business-modal-form input:focus,
        .business-modal-form textarea:focus {
            outline: none;
            border-color: #00d4ff;
            box-shadow: 0 0 12px rgba(0, 212, 255, 0.2);
        }

        .business-modal-form textarea {
            resize: vertical;
            min-height: 150px;
        }

        .btn-modal-submit {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #00d4ff 0%, #0099ff 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-weight: 700;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .btn-modal-submit:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(0, 212, 255, 0.3);
        }

        /* Support Section Styles */
        .support-section {
            background: rgba(255, 255, 255, 0.95);
            padding: 100px 20px;
            margin: 0;
            position: relative;
            z-index: 2;
        }

        .support-container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .support-header {
            text-align: center;
            margin-bottom: 70px;
        }

        .support-header h2 {
            font-size: 2.5rem;
            font-weight: 700;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 15px;
        }

        .support-header p {
            font-size: 1.2rem;
            color: #666;
        }

        .support-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 50px;
        }

        .support-form-section,
        .staff-panel {
            background: linear-gradient(135deg, #f5f7fa 0%, #f0f4f8 100%);
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 10px 35px rgba(0, 0, 0, 0.08);
            border: 1px solid rgba(0, 212, 255, 0.1);
            transition: all 0.3s ease;
        }

        .support-form-section:hover,
        .staff-panel:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 50px rgba(0, 212, 255, 0.15);
        }

        .form-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid rgba(0, 212, 255, 0.2);
        }

        .form-header h3 {
            color: #1e3c72;
            font-weight: 700;
            font-size: 1.4rem;
            margin: 0;
        }

        .staff-badge {
            background: linear-gradient(135deg, #ff6b6b 0%, #ff0000 100%);
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
        }

        .support-form-section .form-group,
        .staff-panel .form-group {
            margin-bottom: 20px;
        }

        .support-form-section label,
        .staff-panel label {
            display: block;
            color: #1e3c72;
            font-weight: 600;
            margin-bottom: 8px;
        }

        .support-form-section input,
        .support-form-section textarea,
        .support-form-section select,
        .staff-panel input,
        .staff-panel textarea,
        .staff-panel select {
            width: 100%;
            padding: 12px 14px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 1rem;
            font-family: 'Exo', sans-serif;
            transition: all 0.3s ease;
        }

        .support-form-section input:focus,
        .support-form-section textarea:focus,
        .support-form-section select:focus,
        .staff-panel input:focus,
        .staff-panel textarea:focus,
        .staff-panel select:focus {
            outline: none;
            border-color: #00d4ff;
            box-shadow: 0 0 12px rgba(0, 212, 255, 0.2);
        }

        .support-form-section textarea {
            resize: vertical;
            min-height: 120px;
        }

        .btn-submit-support {
            width: 100%;
            padding: 14px;
            background: linear-gradient(135deg, #00d4ff 0%, #0099ff 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-weight: 700;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 15px;
        }

        .btn-submit-support:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0, 212, 255, 0.3);
        }

        .support-ticket {
            background: white;
            padding: 20px;
            margin-bottom: 20px;
            border-radius: 12px;
            border-left: 5px solid #00d4ff;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
            transition: all 0.3s ease;
        }

        .support-ticket:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 30px rgba(0, 212, 255, 0.2);
        }

        .ticket-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .ticket-id {
            font-weight: 700;
            color: #1e3c72;
            font-size: 1.05rem;
        }

        .ticket-status {
            padding: 6px 14px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
        }

        .ticket-status.open {
            background: #ffeaa7;
            color: #d63031;
        }

        .ticket-status.resolved {
            background: #55efc4;
            color: #00b894;
        }

        .ticket-user,
        .ticket-message {
            color: #555;
            margin-bottom: 10px;
            line-height: 1.6;
            font-size: 0.95rem;
        }

        .ticket-actions {
            display: flex;
            gap: 10px;
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid #e0e0e0;
        }

        .ticket-action-btn {
            padding: 8px 14px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }

        .ticket-action-btn.resolve {
            background: #00d4ff;
            color: white;
        }

        .ticket-action-btn.resolve:hover {
            background: #0099ff;
            transform: translateY(-2px);
        }

        .ticket-action-btn.delete {
            background: #ff6b6b;
            color: white;
        }

        .ticket-action-btn.delete:hover {
            background: #ff0000;
            transform: translateY(-2px);
        }

        .no-tickets {
            text-align: center;
            padding: 50px 20px;
            color: #999;
            font-size: 1.1rem;
        }

        /* Footer */
        footer {
            text-align: center;
            padding: 40px 20px;
            background: rgba(20, 30, 48, 0.95);
            color: #ffffff;
            position: relative;
            width: 100%;
            margin-top: 60px;
            border-top: 2px solid rgba(0, 212, 255, 0.3);
            z-index: 10;
        }

        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
        }

        .footer-links {
            display: flex;
            justify-content: center;
            gap: 30px;
            flex-wrap: wrap;
            margin-bottom: 30px;
        }

        .footer-links a {
            color: rgba(255, 255, 255, 0.8);
            text-decoration: none;
            transition: all 0.3s ease;
        }

        .footer-links a:hover {
            color: #00d4ff;
        }

        .social-links {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 30px;
        }

        .social-link {
            width: 45px;
            height: 45px;
            background: linear-gradient(135deg, #00d4ff 0%, #0099ff 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            text-decoration: none;
            transition: all 0.3s ease;
            font-size: 1.2rem;
        }

        .social-link:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0, 212, 255, 0.4);
        }

        footer p {
            margin: 0;
            font-weight: 500;
            letter-spacing: 0.5px;
            color: rgba(255, 255, 255, 0.8);
        }

        /* Responsive */
        @media (max-width: 768px) {
            header h1 {
                font-size: 1.5rem;
            }

            .hero h1 {
                font-size: 2.5rem;
            }

            .hero p {
                font-size: 1rem;
            }

            .stats-title, .about-title, .projects-title, .team-title, .faq-title, .wiki-title, .business-title, .contributors-title {
                font-size: 1.8rem;
            }

            .about-content {
                grid-template-columns: 1fr;
            }

            .hero-buttons {
                flex-direction: column;
            }

            .btn-primary-custom, .btn-secondary-custom {
                width: 100%;
            }

            nav {
                gap: 3px;
            }

            nav a {
                padding: 6px 12px;
                font-size: 0.8rem;
            }

            .header-content {
                flex-direction: column;
                gap: 15px;
            }

            .auth-box {
                padding: 30px 20px;
            }

            .auth-tabs {
                flex-direction: column;
            }

            .user-info {
                font-size: 0.85rem;
            }

            .support-content {
                grid-template-columns: 1fr;
                gap: 40px;
            }
            
            .language-selector {
                margin: 10px 0;
                width: 100%;
                justify-content: center;
            }
            
            .language-dropdown {
                position: fixed;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                width: 90%;
                max-width: 300px;
            }
        }

        /* Smooth scrolling */
        html {
            scroll-behavior: smooth;
        }

        /* Loading bar customization */
        .pace {
            pointer-events: none;
        }

        .pace-progress {
            background: linear-gradient(135deg, #00d4ff 0%, #0099ff 100%);
            height: 3px;
        }

        /* Scroll Animation */
        [data-aos] {
            opacity: 0;
            transition: opacity 1s ease-in-out-cubic, transform 1s ease-in-out-cubic;
        }

        [data-aos].aos-animate {
            opacity: 1;
        }

        /* AOS Animations */
        [data-aos="fade-up"] {
            transform: translateY(30px);
        }

        [data-aos="fade-up"].aos-animate {
            transform: translateY(0);
        }

        [data-aos="fade-down"] {
            transform: translateY(-30px);
        }

        [data-aos="fade-down"].aos-animate {
            transform: translateY(0);
        }

        [data-aos="fade-left"] {
            transform: translateX(-30px);
        }

        [data-aos="fade-left"].aos-animate {
            transform: translateX(0);
        }

        [data-aos="fade-right"] {
            transform: translateX(30px);
        }

        [data-aos="fade-right"].aos-animate {
            transform: translateX(0);
        }

        [data-aos="zoom-in"] {
            transform: scale(0.9);
        }

        [data-aos="zoom-in"].aos-animate {
            transform: scale(1);
        }
    
        /* Theme Selector Styles */
        .theme-selector {
            position: relative;
            margin: 0 10px;
        }

        .theme-btn {
            background: rgba(0, 212, 255, 0.1);
            color: white;
            border: 2px solid rgba(0, 212, 255, 0.3);
            border-radius: 20px;
            padding: 8px 16px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 600;
            font-size: 0.9rem;
            transition: all 0.3s ease;
        }

        .theme-btn:hover {
            background: rgba(0, 212, 255, 0.2);
            transform: translateY(-2px);
        }

        .theme-dropdown {
            position: absolute;
            top: 100%;
            right: 0;
            margin-top: 10px;
            background: rgba(20, 30, 48, 0.98);
            border-radius: 15px;
            padding: 10px 0;
            min-width: 180px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
            display: none;
            z-index: 1000;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(0, 212, 255, 0.2);
        }

        .theme-dropdown.show {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        .theme-option {
            padding: 12px 20px;
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }

        .theme-option:hover {
            background: rgba(0, 212, 255, 0.1);
            color: #00d4ff;
        }

        .theme-option.active {
            background: rgba(0, 212, 255, 0.2);
            color: #00d4ff;
            font-weight: 600;
        }

        .theme-circle {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            border: 1px solid rgba(255,255,255,0.5);
        }

        
        /* Theme Definitions */
        body.theme-ocean { background: linear-gradient(135deg, #1e3c72 0%, #2a5298 50%, #7e8ba3 100%); }
        body.theme-midnight { background: linear-gradient(135deg, #0f0c29 0%, #302b63 50%, #24243e 100%); }
        body.theme-abyss { background: linear-gradient(135deg, #000000 0%, #434343 100%); }
        body.theme-ember { background: linear-gradient(135deg, #0f0f0f 0%, #2c0b0e 100%); }
        body.theme-forest { background: linear-gradient(135deg, #134e5e 0%, #71b280 100%); }
        body.theme-purple { background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%); }
        body.theme-dark { background: linear-gradient(135deg, #232526 0%, #414345 100%); }

        body.theme-ocean #particles-container { background: linear-gradient(135deg, #1e3c72 0%, #2a5298 50%, #7e8ba3 100%); }
        body.theme-midnight #particles-container { background: linear-gradient(135deg, #0f0c29 0%, #302b63 50%, #24243e 100%); }
        body.theme-abyss #particles-container { background: linear-gradient(135deg, #000000 0%, #434343 100%); }
        body.theme-ember #particles-container { background: linear-gradient(135deg, #0f0f0f 0%, #2c0b0e 100%); }
        body.theme-forest #particles-container { background: linear-gradient(135deg, #134e5e 0%, #71b280 100%); }
        body.theme-purple #particles-container { background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%); }
        body.theme-dark #particles-container { background: linear-gradient(135deg, #232526 0%, #414345 100%); }


    
        /* Wiki Modal Styles */
        .wiki-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.85);
            z-index: 2000;
            backdrop-filter: blur(10px);
            align-items: center;
            justify-content: center;
        }

        .wiki-modal.show {
            display: flex;
            animation: fadeIn 0.3s ease;
        }

        .wiki-modal-content {
            background: rgba(20, 30, 48, 0.98);
            width: 90%;
            max-width: 800px;
            max-height: 85vh;
            border-radius: 20px;
            border: 1px solid rgba(0, 212, 255, 0.3);
            padding: 40px;
            position: relative;
            overflow-y: auto;
            color: white;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.5);
        }

        .wiki-modal-close {
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 1.5rem;
            color: #999;
            cursor: pointer;
            transition: color 0.3s ease;
        }

        .wiki-modal-close:hover {
            color: #ff6b6b;
        }

        .wiki-article-full-title {
            font-size: 2rem;
            margin-bottom: 20px;
            color: #00d4ff;
            border-bottom: 2px solid rgba(0, 212, 255, 0.2);
            padding-bottom: 10px;
        }

        .wiki-article-body {
            line-height: 1.8;
            font-size: 1.1rem;
            color: #ddd;
        }

        .wiki-article-body h4 {
            color: #fff;
            margin-top: 25px;
            margin-bottom: 10px;
        }

        .wiki-article-body ul {
            margin-bottom: 20px;
            padding-left: 20px;
        }

        .wiki-article-body li {
            margin-bottom: 8px;
        }

        .wiki-category {
            cursor: pointer;
            transition: transform 0.3s ease, border-color 0.3s ease;
        }

        .wiki-category:hover {
            transform: translateY(-5px);
            border-color: #00d4ff;
        }

        .wiki-category.active {
            border-color: #00d4ff;
            background: rgba(0, 212, 255, 0.1);
        }

        .wiki-article {
            cursor: pointer;
        }
/* Ticket Response System */
.ticket-response-section {
    margin-top: 20px;
    padding-top: 20px;
    border-top: 1px solid rgba(0, 212, 255, 0.2);
    display: none;
}

.ticket-response-section.show {
    display: block;
    animation: fadeIn 0.3s ease;
}

.response-form textarea {
    width: 100%;
    padding: 12px 14px;
    border: 2px solid #e0e0e0;
    border-radius: 10px;
    font-size: 1rem;
    font-family: 'Exo', sans-serif;
    resize: vertical;
    min-height: 100px;
    margin-bottom: 15px;
    transition: all 0.3s ease;
}

.response-form textarea:focus {
    outline: none;
    border-color: #00d4ff;
    box-shadow: 0 0 12px rgba(0, 212, 255, 0.2);
}

.btn-response-submit {
    padding: 10px 20px;
    background: linear-gradient(135deg, #00d4ff 0%, #0099ff 100%);
    color: white;
    border: none;
    border-radius: 8px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    font-size: 0.9rem;
    display: flex;
    align-items: center;
    gap: 8px;
}

.btn-response-submit:hover {
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(0, 212, 255, 0.3);
}

.ticket-conversation {
    margin-top: 20px;
    max-height: 200px;
    overflow-y: auto;
    padding-right: 10px;
}

.message-item {
    margin-bottom: 15px;
    padding: 12px 15px;
    border-radius: 10px;
    position: relative;
    animation: slideIn 0.3s ease;
}

@keyframes slideIn {
    from {
        opacity: 0;
        transform: translateY(10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.message-item.user {
    background: rgba(0, 212, 255, 0.1);
    border-left: 4px solid #00d4ff;
    margin-left: 20px;
}

.message-item.staff {
    background: rgba(0, 184, 148, 0.1);
    border-left: 4px solid #00b894;
    margin-right: 20px;
}

.message-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 5px;
    font-size: 0.85rem;
}

.message-author {
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: 5px;
}

.message-author.user {
    color: #00d4ff;
}

.message-author.staff {
    color: #00b894;
}

.message-time {
    color: #999;
    font-size: 0.8rem;
}

.message-content {
    color: #333;
    line-height: 1.5;
    font-size: 0.95rem;
}

.no-messages {
    text-align: center;
    padding: 20px;
    color: #999;
    font-style: italic;
}

.btn-response {
    background: linear-gradient(135deg, #00b894 0%, #00a86b 100%);
    color: white;
    border: none;
    border-radius: 8px;
    padding: 6px 12px;
    cursor: pointer;
    font-weight: 600;
    font-size: 0.8rem;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    gap: 5px;
    margin-left: 10px;
}

.btn-response:hover {
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(0, 184, 148, 0.3);
}

.ticket-actions {
    display: flex;
    gap: 10px;
    margin-top: 15px;
    padding-top: 15px;
    border-top: 1px solid #e0e0e0;
}

.ticket-action-btn {
    padding: 8px 14px;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    font-weight: 600;
    transition: all 0.3s ease;
    font-size: 0.9rem;
    display: flex;
    align-items: center;
    gap: 5px;
}

.ticket-action-btn.response {
    background: #00b894;
    color: white;
}

.ticket-action-btn.response:hover {
    background: #00a86b;
    transform: translateY(-2px);
}

.ticket-action-btn.resolve {
    background: #00d4ff;
    color: white;
}

.ticket-action-btn.resolve:hover {
    background: #0099ff;
    transform: translateY(-2px);
}

.ticket-action-btn.delete {
    background: #ff6b6b;
    color: white;
}

.ticket-action-btn.delete:hover {
    background: #ff0000;
    transform: translateY(-2px);
}

/* Progress Bar for Scroll */
.scroll-progress-container {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 4px;
    background: rgba(255, 255, 255, 0.1);
    z-index: 10001;
    display: none;
}

.scroll-progress-bar {
    height: 100%;
    width: 0%;
    background: linear-gradient(135deg, #00d4ff 0%, #0099ff 50%, #ff006e 100%);
    transition: width 0.1s ease-out;
    border-radius: 0 2px 2px 0;
    box-shadow: 0 0 10px rgba(0, 212, 255, 0.5);
}

/* Quando esta classe está no body, o scroll é fisicamente impossível */
body.auth-active {
    overflow: hidden !important;
    height: 100vh !important;
    width: 100vw !important;
    position: fixed; /* Previne scroll em dispositivos móveis */
}


/* Blog Section Styles */
.blog-section {
    background: rgba(255, 255, 255, 0.95);
    padding: 80px 20px;
    position: relative;
    z-index: 2;
}

.blog-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 30px;
    max-width: 1200px;
    margin: 0 auto;
}

.blog-post-card {
    background: linear-gradient(135deg, #f5f7fa 0%, #f0f4f8 100%);
    border-radius: 20px;
    overflow: hidden;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.05);
    transition: all 0.3s ease;
    border: 1px solid rgba(0, 212, 255, 0.1);
}

.blog-post-card:hover {
    transform: translateY(-10px);
    box-shadow: 0 15px 40px rgba(0, 212, 255, 0.2);
}

.blog-post-image {
    width: 100%;
    height: 200px;
    background: #1e3c72;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 3rem;
}

.blog-post-content {
    padding: 25px;
}

.blog-post-tag {
    display: inline-block;
    padding: 4px 12px;
    background: rgba(0, 212, 255, 0.1);
    color: #00d4ff;
    border-radius: 15px;
    font-size: 0.8rem;
    font-weight: 700;
    margin-bottom: 15px;
    text-transform: uppercase;
}

.blog-post-title {
    font-size: 1.4rem;
    color: #1e3c72;
    margin-bottom: 10px;
    font-weight: 700;
}

.blog-post-excerpt {
    color: #666;
    line-height: 1.6;
    font-size: 0.95rem;
    margin-bottom: 20px;
}

.blog-post-meta {
    display: flex;
    justify-content: space-between;
    font-size: 0.85rem;
    color: #999;
    padding-top: 15px;
    border-top: 1px solid rgba(0, 0, 0, 0.05);
}


    </style>
</head>
<body>

    <!-- Scroll Progress Bar -->
<div class="scroll-progress-container" id="scrollProgressContainer">
    <div class="scroll-progress-bar" id="scrollProgressBar"></div>
</div>

    <!-- Adicionar próximo ao music player -->
<div id="pomodoroTimer" style="position: fixed; bottom: 140px; right: 20px; z-index: 999;">
    <button onclick="togglePomodoro()" style="background: #ff6b6b; color: white; border: none; border-radius: 50%; width: 50px; height: 50px; font-size: 1.5rem; cursor: pointer; box-shadow: 0 4px 15px rgba(255,107,107,0.3);">
        <i class="fas fa-clock"></i>
    </button>
    
    <div id="pomodoroPanel" style="display: none; position: absolute; bottom: 60px; right: 0; width: 250px; background: rgba(20,30,48,0.95); border-radius: 15px; padding: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.3); backdrop-filter: blur(10px); border: 1px solid rgba(255,107,107,0.3);">
        <h4 style="color: #ff6b6b; text-align: center; margin-bottom: 15px;">Pomodoro Timer</h4>
        
        <div id="timerDisplay" style="text-align: center; font-size: 2.5rem; font-weight: bold; color: white; margin: 20px 0;">
            25:00
        </div>
        
        <div style="display: flex; justify-content: center; gap: 10px; margin-bottom: 15px;">
            <button onclick="startPomodoro()" id="startBtn" style="background: #00d4ff; color: white; border: none; padding: 8px 20px; border-radius: 20px; cursor: pointer;">
                <i class="fas fa-play"></i> Iniciar
            </button>
            <button onclick="pausePomodoro()" id="pauseBtn" style="background: #ffa502; color: white; border: none; padding: 8px 20px; border-radius: 20px; cursor: pointer; display: none;">
                <i class="fas fa-pause"></i> Pausar
            </button>
            <button onclick="resetPomodoro()" style="background: #999; color: white; border: none; padding: 8px 20px; border-radius: 20px; cursor: pointer;">
                <i class="fas fa-redo"></i> Resetar
            </button>
        </div>
        
        <div style="display: flex; justify-content: space-around; margin-top: 15px;">
            <button onclick="setPomodoroTime(25)" style="background: rgba(0,212,255,0.2); color: #00d4ff; border: 1px solid #00d4ff; padding: 5px 10px; border-radius: 15px; cursor: pointer;">
                25 min
            </button>
            <button onclick="setPomodoroTime(5)" style="background: rgba(0,184,148,0.2); color: #00b894; border: 1px solid #00b894; padding: 5px 10px; border-radius: 15px; cursor: pointer;">
                5 min
            </button>
            <button onclick="setPomodoroTime(15)" style="background: rgba(255,107,107,0.2); color: #ff6b6b; border: 1px solid #ff6b6b; padding: 5px 10px; border-radius: 15px; cursor: pointer;">
                15 min
            </button>
        </div>
        
        <div id="pomodoroStats" style="margin-top: 15px; padding-top: 15px; border-top: 1px solid rgba(255,255,255,0.1); text-align: center; color: #999; font-size: 0.9rem;">
            Pomodoros hoje: <span id="pomodoroCount">0</span>
        </div>
    </div>
</div>

<script>
let pomodoroInterval;
let timeLeft = 25 * 60;
let isRunning = false;
let pomodoroCount = 0;

function togglePomodoro() {
    const panel = document.getElementById('pomodoroPanel');
    panel.style.display = panel.style.display === 'none' ? 'block' : 'none';
    updatePomodoroStats();
}

function updateDisplay() {
    const minutes = Math.floor(timeLeft / 60);
    const seconds = timeLeft % 60;
    document.getElementById('timerDisplay').textContent = 
        `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
}

function startPomodoro() {
    if (isRunning) return;
    
    isRunning = true;
    document.getElementById('startBtn').style.display = 'none';
    document.getElementById('pauseBtn').style.display = 'inline-block';
    
    pomodoroInterval = setInterval(() => {
        timeLeft--;
        updateDisplay();
        
        if (timeLeft <= 0) {
            clearInterval(pomodoroInterval);
            isRunning = false;
            pomodoroCount++;
            localStorage.setItem('xpr_pomodoro_count', pomodoroCount);
            updatePomodoroStats();
            
            // Notificação
            if (Notification.permission === "granted") {
                new Notification("Pomodoro Completo!", {
                    body: "Hora de fazer uma pausa!",
                    icon: "https://img.icons8.com/color/96/000000/tomato.png"
                });
            }
            
            // Som de notificação
            const audio = new Audio('https://assets.mixkit.co/sfx/preview/mixkit-alarm-digital-clock-beep-989.mp3');
            audio.play();
            
            alert("Pomodoro completo! Hora de uma pausa.");
        }
    }, 1000);
}

function pausePomodoro() {
    clearInterval(pomodoroInterval);
    isRunning = false;
    document.getElementById('startBtn').style.display = 'inline-block';
    document.getElementById('pauseBtn').style.display = 'none';
}

function resetPomodoro() {
    clearInterval(pomodoroInterval);
    isRunning = false;
    timeLeft = 25 * 60;
    updateDisplay();
    document.getElementById('startBtn').style.display = 'inline-block';
    document.getElementById('pauseBtn').style.display = 'none';
}

function setPomodoroTime(minutes) {
    clearInterval(pomodoroInterval);
    isRunning = false;
    timeLeft = minutes * 60;
    updateDisplay();
    document.getElementById('startBtn').style.display = 'inline-block';
    document.getElementById('pauseBtn').style.display = 'none';
}

function updatePomodoroStats() {
    const today = new Date().toDateString();
    const stats = JSON.parse(localStorage.getItem('xpr_pomodoro_stats') || '{}');
    
    if (stats.date !== today) {
        stats.date = today;
        stats.count = 0;
    }
    
    pomodoroCount = stats.count || 0;
    document.getElementById('pomodoroCount').textContent = pomodoroCount;
}

// Solicitar permissão para notificações
if ('Notification' in window) {
    Notification.requestPermission();
}
</script>

<!-- Animated Background -->
<div id="particles-container"></div>
<div class="wave-container">
    <div class="wave"></div>
    <div class="wave"></div>
    <div class="wave"></div>
</div>

<!-- Header -->
<header data-aos="fade-down">
    <div class="header-content">
        <h1 data-aos="fade-right" data-aos-delay="100">
            <img src="https://cdn.discordapp.com/attachments/1238818966013612113/1455964921698320457/XPRLogo.png?ex=695d3bff&is=695bea7f&hm=5f596a597ebe6b0f8c8729a1222d7916df7bec443c1f61e664f5363a5005be1e" alt="XPR Studio logo featuring a stylized sword and shield design with geometric elements. The logo is designed in shades of cyan and dark blue, set against a transparent background. The text 'XPR Studio' is integrated into the design, conveying a sense of creativity and strength." style="width: 80px; height: auto;"> XPR Studio
        </h1>
        
        <!-- Navegação Adicionada Aqui -->
        <nav>
            <a href="#hero" onclick="scrollToSection('hero')">
                <i class="fas fa-home"></i> <span data-i18n="nav.home">Home</span>
            </a>
            <a href="#about" onclick="scrollToSection('about')">
                <i class="fas fa-info-circle"></i> <span data-i18n="nav.about">Sobre</span>
            </a>
            <a href="#projects" onclick="scrollToSection('projects')">
                <i class="fas fa-gamepad"></i> <span data-i18n="nav.projects">Projetos</span>
            </a>
            <a href="#team" onclick="scrollToSection('team')">
                <i class="fas fa-users"></i> <span data-i18n="nav.team">Equipe</span>
            </a>
            <a href="#wiki" onclick="scrollToSection('wiki')">
                <i class="fas fa-book"></i> <span data-i18n="nav.wiki">Wiki</span>
            </a>
            <a href="#business" onclick="scrollToSection('business')">
                <i class="fas fa-briefcase"></i> <span data-i18n="nav.business">Business</span>
            </a>
            <a href="#contributors" onclick="scrollToSection('contributors')">
                <i class="fas fa-code-branch"></i> <span data-i18n="nav.contributors">Contributors</span>
            </a>
            <a href="#faq" onclick="scrollToSection('faq')">
                <i class="fas fa-question-circle"></i> <span data-i18n="nav.faq">FAQ</span>
            </a>
            <a href="#support" onclick="scrollToSection('support')">
                <i class="fas fa-headset"></i> <span data-i18n="nav.support">Suporte</span>
            </a>
            <a href="#authSection" onclick="handleNavLogin()">
                <i class="fas fa-sign-in-alt"></i> <span data-i18n="nav.login">Login</span>
            </a>
            <a href="#blog" onclick="scrollToSection('blog')">
                <i class="fas fa-rss"></i> <span data-i18n="nav.blog">Blog</span>
            </a>
        </nav>
        
        
        
        <!-- Theme Selector -->
        <div class="theme-selector" id="themeSelector">
            <button class="theme-btn" onclick="toggleThemeDropdown()">
                <i class="fas fa-palette"></i>
                <span data-i18n="nav.theme">Tema</span>
                <i class="fas fa-chevron-down"></i>
            </button>
            <div class="theme-dropdown" id="themeDropdown">
                <div class="theme-option active" onclick="changeTheme('ocean')">
                    <div class="theme-circle" style="background: #1e3c72;"></div>
                    <span data-i18n="theme.ocean">Ocean</span>
                </div>
                <div class="theme-option" onclick="changeTheme('midnight')">
                    <div class="theme-circle" style="background: #0f0c29;"></div>
                    <span data-i18n="theme.midnight">Midnight</span>
                </div>
                <div class="theme-option" onclick="changeTheme('abyss')">
                    <div class="theme-circle" style="background: #000000;"></div>
                    <span data-i18n="theme.abyss">Abyss</span>
                </div>
                <div class="theme-option" onclick="changeTheme('ember')">
                    <div class="theme-circle" style="background: #2c0b0e;"></div>
                    <span data-i18n="theme.ember">Ember Dark</span>
                </div>
                <div class="theme-option" onclick="changeTheme('forest')">
                    <div class="theme-circle" style="background: #134e5e;"></div>
                    <span data-i18n="theme.forest">Forest</span>
                </div>
                <div class="theme-option" onclick="changeTheme('purple')">
                    <div class="theme-circle" style="background: #6a11cb;"></div>
                    <span data-i18n="theme.purple">Purple</span>
                </div>
                <div class="theme-option" onclick="changeTheme('dark')">
                    <div class="theme-circle" style="background: #232526;"></div>
                    <span data-i18n="theme.dark">Dark</span>
                </div>
            </div>
        </div>

        <!-- Language Selector -->
        <div class="language-selector" id="languageSelector">
            <button class="language-btn" onclick="toggleLanguageDropdown()">
                <i class="fas fa-globe"></i>
                <span id="currentLanguage">Português</span>
                <i class="fas fa-chevron-down"></i>
            </button>
            <div class="language-dropdown" id="languageDropdown">
                <div class="language-option active" onclick="changeLanguage('pt')">
                    <img src="https://flagcdn.com/w20/br.png" class="language-flag" alt="Português">
                    <span>Português (BR)</span>
                </div>
                <div class="language-option" onclick="changeLanguage('en')">
                    <img src="https://flagcdn.com/w20/us.png" class="language-flag" alt="English">
                    <span>English (US)</span>
                </div>
                <div class="language-option" onclick="changeLanguage('es')">
                    <img src="https://flagcdn.com/w20/es.png" class="language-flag" alt="Español">
                    <span>Español</span>
                </div>
                <div class="language-option" onclick="changeLanguage('de')">
                    <img src="https://flagcdn.com/w20/de.png" class="language-flag" alt="Deutsch">
                    <span>Deutsch</span>
                </div>
                <div class="language-option" onclick="changeLanguage('it')">
                    <img src="https://flagcdn.com/w20/it.png" class="language-flag" alt="Italiano">
                    <span>Italiano</span>
                </div>
            </div>
        </div>
        
        <div id="headerUserInfo"></div>
    </div>
</header>

<!-- Auth Section (Login/Register) -->
<section class="auth-section" id="authSection">
    <div class="auth-container">
        <div class="auth-tabs">
            <div class="auth-tab active" onclick="switchTab('login')">
                <i class="fas fa-sign-in-alt"></i> <span data-i18n="auth.login">Login</span>
            </div>
            <div class="auth-tab" onclick="switchTab('register')">
                <i class="fas fa-user-plus"></i> <span data-i18n="auth.register">Registrar</span>
            </div>
        </div>

        <!-- Login Form -->
        <div class="auth-box" id="loginForm">
            <div class="auth-header">
                <h2><i class="fas fa-lock"></i> <span data-i18n="auth.login_title">Faça Login</span></h2>
                <p data-i18n="auth.login_subtitle">Acesse sua conta XPR Studio</p>
            </div>


            
            <form onsubmit="handleLogin(event)" class="auth-form">
                <div class="form-group">
                    <label for="loginUsername">
                        <i class="fas fa-user"></i> <span data-i18n="auth.username">Usuário:</span>
                    </label>
                    <input type="text" id="loginUsername" data-i18n-placeholder="auth.username_placeholder" placeholder="Digite seu usuário" required>
                </div>

                <div class="form-group">
    <label for="loginPassword"><i class="fas fa-lock"></i> <span data-i18n="auth.password">Senha:</span></label>
    <input type="password" id="loginPassword" required>
    <div style="text-align: right; margin-top: 5px;">
        <a href="javascript:void(0)" onclick="forgotPassword()" style="font-size: 0.85rem; color: #00d4ff; text-decoration: none;">
            <span data-i18n="auth.forgot_password">Esqueceu sua senha?</span>
        </a>
    </div>
</div>
                
                <div class="form-group">
                    <label for="loginPassword">
                        <i class="fas fa-key"></i> <span data-i18n="auth.password">Senha:</span>
                    </label>
                    <input type="password" id="loginPassword" data-i18n-placeholder="auth.password_placeholder" placeholder="Digite sua senha" required>
                </div>
                
                <button type="submit" class="btn-auth-submit">
                    <i class="fas fa-sign-in-alt"></i> <span data-i18n="auth.login_button">Entrar</span>
                </button>
            </form>
            
            <div class="auth-message" id="loginMessage"></div>
        </div>


        <!-- Register Form -->
        <div class="auth-box" id="registerForm" style="display: none;">
            <div class="auth-header">
                <h2><i class="fas fa-user-plus"></i> <span data-i18n="auth.register_title">Criar Conta</span></h2>
                <p data-i18n="auth.register_subtitle">Registre-se gratuitamente no XPR Studio</p>
            </div>
            
            <form onsubmit="handleRegister(event)" class="auth-form">
                <div class="form-group">
                    <label for="registerUsername">
                        <i class="fas fa-user"></i> <span data-i18n="auth.username">Usuário:</span>
                    </label>
                    <input type="text" id="registerUsername" data-i18n-placeholder="auth.username_register_placeholder" placeholder="Escolha um usuário" required minlength="3">
                    <small data-i18n="auth.username_hint" style="color: #666; font-size: 0.85rem;">Mínimo 3 caracteres</small>
                </div>
                
                <div class="form-group">
                    <label for="registerEmail">
                        <i class="fas fa-envelope"></i> <span data-i18n="auth.email">Email:</span>
                    </label>
                    <input type="email" id="registerEmail" data-i18n-placeholder="auth.email_placeholder" placeholder="seu@email.com" required>
                </div>
                
                <div class="form-group">
                    <label for="registerPassword">
                        <i class="fas fa-key"></i> <span data-i18n="auth.password">Senha:</span>
                    </label>
                    <input type="password" id="registerPassword" data-i18n-placeholder="auth.password_register_placeholder" placeholder="Crie uma senha forte" required minlength="6" oninput="checkPasswordStrength(this.value)">
                    <div class="password-strength" id="passwordStrength">
                        <div class="password-strength-bar" id="passwordStrengthBar"></div>
                    </div>
                    <div class="password-strength-text" id="passwordStrengthText"></div>
                </div>
                
                <div class="form-group">
                    <label for="registerPasswordConfirm">
                        <i class="fas fa-check-double"></i> <span data-i18n="auth.confirm_password">Confirmar Senha:</span>
                    </label>
                    <input type="password" id="registerPasswordConfirm" data-i18n-placeholder="auth.confirm_password_placeholder" placeholder="Digite a senha novamente" required>
                </div>
                
                <button type="submit" class="btn-auth-submit">
                    <i class="fas fa-user-plus"></i> <span data-i18n="auth.register_button">Criar Conta</span>
                </button>
            </form>
            
            <div class="auth-message" id="registerMessage"></div>
        </div>
    </div>
</section>

<!-- Main Content (Hidden until login) -->
<div class="main-content hidden" id="mainContent">

<!-- Hero Section -->
<section class="hero" id="hero" data-aos="fade-up">
    <div class="hero-content">
        <h1 data-aos="fade-down" data-aos-delay="100">
            <img src="https://cdn.discordapp.com/attachments/1238818966013612113/1455964921698320457/XPRLogo.png?ex=695d3bff&is=695bea7f&hm=5f596a597ebe6b0f8c8729a1222d7916df7bec443c1f61e664f5363a5005be1e" alt="XPR Studio logo featuring a stylized sword and shield design with geometric elements. The logo is designed in shades of cyan and dark blue, set against a transparent background. The text 'XPR Studio' is integrated into the design, conveying a sense of creativity and strength." style="width: 200px; height: auto;"> XPR Studio
        </h1>
        <p data-aos="fade-up" data-aos-delay="200" data-i18n="hero.description">
            Criando experiências inesquecíveis no Roblox. Somos uma equipe dedicada a trazer inovação e diversão para milhares de jogadores.
        </p>
        <div class="hero-buttons" data-aos="fade-up" data-aos-delay="300">
            <a href="https://www.roblox.com/pt/communities/462498361/XPR-Studio-New#!/about" class="btn-primary-custom" target="_blank">
                <i class="fas fa-play"></i> <span data-i18n="hero.play_now">Jogar Agora</span>
            </a>
            <a href="#projects" class="btn-secondary-custom" onclick="scrollToSection('projects')">
                <i class="fas fa-arrow-down"></i> <span data-i18n="hero.our_projects">Nossos Projetos</span>
            </a>
        </div>
    </div>
</section>

<!-- Stats Section -->
<section class="stats-section" id="stats" data-aos="fade-up">
    <div class="stats-container">
        <h2 class="stats-title" data-aos="fade-up" data-i18n="stats.title">Quem Somos</h2>
        <div class="stats-grid">
            <div class="stat-card" data-aos="fade-up" data-aos-delay="100">
                <div class="stat-icon"><i class="fas fa-users"></i></div>
                <div class="stat-number counter" data-target="150">0</div>
                <div class="stat-label" data-i18n="stats.active_players">Jogadores Ativos</div>
            </div>
            <div class="stat-card" data-aos="fade-up" data-aos-delay="200">
                <div class="stat-icon"><i class="fas fa-comments"></i></div>
                <div class="stat-number counter" data-target="400">0</div>
                <div class="stat-label" data-i18n="stats.discord_members">Membros Discord</div>
            </div>
            <div class="stat-card" data-aos="fade-up" data-aos-delay="300">
                <div class="stat-icon"><i class="fas fa-gamepad"></i></div>
                <div class="stat-number counter" data-target="1">0</div>
                <div class="stat-label" data-i18n="stats.active_games">Jogos Ativos</div>
            </div>
            <div class="stat-card" data-aos="fade-up" data-aos-delay="400">
                <div class="stat-icon"><i class="fas fa-star"></i></div>
                <div class="stat-number">5.0</div>
                <div class="stat-label" data-i18n="stats.average_rating">Classificação Média</div>
            </div>
        </div>
    </div>
</section>

<!-- About Section -->
<section class="about-section" id="about" data-aos="fade-up">
    <div class="about-container">
        <h2 class="about-title" data-aos="fade-up" data-i18n="about.title">Sobre a XPR Studio</h2>
        <div class="about-content">
            <div class="about-text" data-aos="fade-right" data-aos-delay="100">
                <h3 data-i18n="about.mission_title">Missão & Visão</h3>
                <p data-i18n="about.mission_text1">
                    A XPR Studio foi fundada com a missão de criar experiências de jogos incríveis no Roblox. Nosso objetivo é ir além dos limites da plataforma, oferecendo conteúdo inovador e envolvente.
                </p>
                <p data-i18n="about.mission_text2">
                    Acreditamos que cada jogo deve contar uma história, desafiar os jogadores e criar comunidades vibrantes. Nossos projetos são desenvolvidos com paixão e dedicação.
                </p>
                <p data-i18n="about.mission_text3">
                    Com uma equipe talentosa de desenvolvedores, designers e criadores de conteúdo, estamos comprometidos em trazer o melhor para nossos jogadores.
                </p>
            </div>
            <div class="about-image" data-aos="fade-left" data-aos-delay="100">
                <div style="width: 100%; height: 300px; background: linear-gradient(135deg, #00d4ff 0%, #0099ff 100%); border-radius: 15px; display: flex; align-items: center; justify-content: center; font-size: 5rem; color: rgba(255,255,255,0.8);">
                    <img src="https://cdn.discordapp.com/attachments/1238818966013612113/1454170121323937862/image.png?ex=6956b476&is=695562f6&hm=4b8496e1dd8dd67e71ce520218cac8c751d38b1797e002aecd0b5ac8567ca715" alt="XPR Studio Logo" style="width: 200%; height: 110%; object-fit: contain;">
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Projects Section -->
<section class="projects-section" id="projects" data-aos="fade-up">
    <div class="projects-container">
        <h2 class="projects-title" data-aos="fade-up" data-i18n="projects.title">Nossos Projetos</h2>
        <div class="projects-grid">
            <div class="project-card" data-aos="fade-up" data-aos-delay="100">
                <div class="project-image" style="position: relative; overflow: hidden; background: #000;">
                    <img id="gameVideo" width="10%" height="10%" autoplay muted loop style="display: block; width: 10%; height: 10%; object-fit: cover;">
                        <source src="game-video.mp4" type="video/mp4">
                        <img src="https://tr.rbxcdn.com/180DAY-e7373480ff4e87416c6ce2d212ca9be3/256/256/Image/png/noFilter" style="position: absolute; top: 30%; left: 50%; width: 100%; height: 150%; transform: translate(-50%, -50%); font-size: 3rem; color: rgba(255,255,255,0.8);">
                    </img>
                </div>
                <div class="project-content">
                    <h3 data-aos="fade-up" data-aos-delay="150" data-i18n="projects.project1.title">Attack On Titan: New Hope</h3>
                    <p data-aos="fade-up" data-aos-delay="200" data-i18n="projects.project1.description">
                        Uma aventura épica repleta de desafios e mistérios. Explore mundos fantásticos e enfrente inimigos poderosos.
                    </p>
                    <div class="project-stats" data-aos="fade-up" data-aos-delay="250">
                        <div class="project-stat">
                            <div class="project-stat-number">100</div>
                            <div class="project-stat-label" data-i18n="projects.players">Jogadores</div>
                        </div>
                        <div class="project-stat">
                            <div class="project-stat-number">4.5</div>
                            <div class="project-stat-label" data-i18n="projects.rating">Avaliação</div>
                        </div>
                        <div class="project-stat">
                            <div class="project-stat-number">1.0M</div>
                            <div class="project-stat-label" data-i18n="projects.visits">Visitas</div>
                        </div>
                    </div>
                    <div class="project-links" data-aos="fade-up" data-aos-delay="300">
                        <a href="https://discord.gg/baWY2xcfEp" class="project-link" title="Discord"><i class="fab fa-discord"></i></a>
                        <a href="https://www.roblox.com/pt/games/14419410196/AOT-New-Hope" class="project-link" title="Roblox"><i class="fab fa-roblox"></i></a>
                        <a href="https://discord.gg/baWY2xcfEp" class="project-link" title="Ver Mais" data-i18n="projects.view">Ver</a>
                    </div>
                </div>
            </div>

            <div class="project-card" data-aos="fade-up" data-aos-delay="200">
                <div class="project-image">
                    <i class="fas fa-chess"></i>
                </div>
                <div class="project-content">
                    <h3 data-aos="fade-up" data-aos-delay="250" data-i18n="projects.project2.title">Projeto Beta</h3>
                    <p data-aos="fade-up" data-aos-delay="300" data-i18n="projects.project2.description">
                        Um jogo de estratégia intenso onde suas decisões determinam o destino. Trabalhe em equipe para alcançar a vitória.
                    </p>
                    <div class="project-stats" data-aos="fade-up" data-aos-delay="350">
                        <div class="project-stat">
                            <div class="project-stat-number">-</div>
                            <div class="project-stat-label" data-i18n="projects.players">Jogadores</div>
                        </div>
                        <div class="project-stat">
                            <div class="project-stat-number">-</div>
                            <div class="project-stat-label" data-i18n="projects.rating">Avaliação</div>
                        </div>
                        <div class="project-stat">
                            <div class="project-stat-number">-</div>
                            <div class="project-stat-label" data-i18n="projects.visits">Visitas</div>
                        </div>
                    </div>
                    <div class="project-links" data-aos="fade-up" data-aos-delay="400">
                        <a href="#" class="project-link" title="Discord"><i class="fab fa-discord"></i></a>
                        <a href="#" class="project-link" title="Roblox"><i class="fab fa-roblox"></i></a>
                        <a href="#" class="project-link" title="Ver Mais" data-i18n="projects.view">Ver</a>
                    </div>
                </div>
            </div>

            <div class="project-card" data-aos="fade-up" data-aos-delay="300">
                <div class="project-image">
                    <i class="fas fa-rocket"></i>
                </div>
                <div class="project-content">
                    <h3 data-aos="fade-up" data-aos-delay="350" data-i18n="projects.project3.title">Projeto Gamma (Em Breve)</h3>
                    <p data-aos="fade-up" data-aos-delay="400" data-i18n="projects.project3.description">
                        O próximo grande lançamento! Uma experiência revolucionária que mudará tudo que você sabe sobre jogos Roblox.
                    </p>
                    <div class="project-stats" data-aos="fade-up" data-aos-delay="450">
                        <div class="project-stat">
                            <div class="project-stat-number">-</div>
                            <div class="project-stat-label" data-i18n="projects.players">Jogadores</div>
                        </div>
                        <div class="project-stat">
                            <div class="project-stat-number">-</div>
                            <div class="project-stat-label" data-i18n="projects.rating">Avaliação</div>
                        </div>
                        <div class="project-stat">
                            <div class="project-stat-number">-</div>
                            <div class="project-stat-label" data-i18n="projects.visits">Visitas</div>
                        </div>
                    </div>
                    <div class="project-links" data-aos="fade-up" data-aos-delay="500">
                        <a href="#" class="project-link" title="Discord"><i class="fab fa-discord"></i></a>
                        <a href="#" class="project-link" title="Notificações"><i class="fas fa-bell"></i></a>
                        <a href="#" class="project-link" title="Ver Mais" data-i18n="projects.view">Ver</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Team Section -->
<section class="team-section" id="team" data-aos="fade-up">
    <div class="team-container">
        <h2 class="team-title" data-aos="fade-up" data-i18n="team.title">Nossa Equipe</h2>
        <div class="team-grid">
            <div class="team-member" data-aos="fade-up" data-aos-delay="100">
                <div class="member-avatar">
                    <img src="https://i.pinimg.com/736x/00/83/2b/00832baa4fc04a010cbda98096bfb2ac.jpg" alt="Yagami" style="width: 100%; height: 100%; object-fit: cover; border-radius: 50%;">
                </div>
                <h3 class="member-name" data-aos="fade-up" data-aos-delay="150">Yagami</h3>
                <p class="member-role" data-aos="fade-up" data-aos-delay="200" data-i18n="team.role1">Co-Proprietário do Estudio</p>
                <p class="member-bio" data-aos="fade-up" data-aos-delay="250" data-i18n="team.bio1">
                    Junior Web Developer, UI Designer and LuaU Scripter.
                </p>
            </div>

            <div class="team-member" data-aos="fade-up" data-aos-delay="200">
                <div class="member-avatar">
                    <img src="https://cdn.discordapp.com/attachments/1238818966013612113/1454138119304646928/IMG_20251220_195929_357.webp?ex=695696a8&is=69554528&hm=1375e5d5d75e8920605f7bdddcbdeefcba5d05cdd461eb75d25dca8d89b2893b&" alt="Maria Santos" style="width: 100%; height: 100%; object-fit: cover; border-radius: 50%;">
                </div>
                <h3 class="member-name" data-aos="fade-up" data-aos-delay="250">AC4</h3>
                <p class="member-role" data-aos="fade-up" data-aos-delay="300" data-i18n="team.role2">Studio Founder</p>
                <p class="member-bio" data-aos="fade-up" data-aos-delay="350" data-i18n="team.bio2">
                    Especialista em Lua e Roblox Studio. Responsável pela arquitetura técnica e otimização de performance.
                </p>
            </div>

            <div class="team-member" data-aos="fade-up" data-aos-delay="300">
                <div class="member-avatar">
                    <img src="https://cdn.discordapp.com/attachments/1446588916135100681/1456047227033096273/1765915537812.jpg?ex=6956f126&is=69559fa6&hm=0bf31294bb37229fcc87e69479263ed4e9c1c75bf9015d7ab658b242a23e0eda" alt="Maria Santos" style="width: 100%; height: 100%; object-fit: cover; border-radius: 50%;">
                </div>
                <h3 class="member-name" data-aos="fade-up" data-aos-delay="250">L0nelyKing</h3>
                <p class="member-role" data-aos="fade-up" data-aos-delay="300" data-i18n="team.role3">Desenvolvedor Sub-Chefe de Web</p>
                <p class="member-bio" data-aos="fade-up" data-aos-delay="350" data-i18n="team.bio3">
                    Especialista em Lua e Roblox Studio. Responsável pela arquitetura técnica e otimização de performance.
                </p>
            </div>
        </div>
    </div>
</section>

<!-- Wiki Section -->
<section class="wiki-section" id="wiki" data-aos="fade-up">
    <div class="wiki-container">
        <h2 class="wiki-title" data-aos="fade-up"><i class="fas fa-book"></i> <span data-i18n="wiki.title">Wiki & Documentação</span></h2>
        
        <div class="wiki-search-bar" data-aos="fade-up" data-aos-delay="100">
            <input type="text" data-i18n-placeholder="wiki.search_placeholder" placeholder="Pesquisar na Wiki..." id="wikiSearch">
            <button><i class="fas fa-search"></i></button>
        </div>

        <div class="wiki-categories">
            <div class="wiki-category" data-aos="fade-up" data-aos-delay="100">
                <div class="wiki-category-icon"><i class="fas fa-book-open"></i></div>
                <div class="wiki-category-title" data-i18n="wiki.category1.title">Guias Iniciais</div>
                <div class="wiki-category-count" data-i18n="wiki.category1.count">12 artigos</div>
            </div>
            
            <div class="wiki-category" data-aos="fade-up" data-aos-delay="200">
                <div class="wiki-category-icon"><i class="fas fa-code"></i></div>
                <div class="wiki-category-title" data-i18n="wiki.category2.title">Desenvolvimento</div>
                <div class="wiki-category-count" data-i18n="wiki.category2.count">24 artigos</div>
            </div>
            
            <div class="wiki-category" data-aos="fade-up" data-aos-delay="300">
                <div class="wiki-category-icon"><i class="fas fa-gamepad"></i></div>
                <div class="wiki-category-title" data-i18n="wiki.category3.title">Gameplay</div>
                <div class="wiki-category-count" data-i18n="wiki.category3.count">18 artigos</div>
            </div>
            
            <div class="wiki-category" data-aos="fade-up" data-aos-delay="400">
                <div class="wiki-category-icon"><i class="fas fa-question-circle"></i></div>
                <div class="wiki-category-title" data-i18n="wiki.category4.title">Troubleshooting</div>
                <div class="wiki-category-count" data-i18n="wiki.category4.count">15 artigos</div>
            </div>
        </div>

        <div class="wiki-articles">
            <div class="wiki-article" data-aos="fade-up" data-aos-delay="100">
                <div class="wiki-article-title">
                    <i class="fas fa-file-alt"></i>
                    <span data-i18n="wiki.article1.title">Como Começar no XPR Studio</span>
                </div>
                <div class="wiki-article-excerpt" data-i18n="wiki.article1.excerpt">
                    Aprenda os fundamentos básicos para começar sua jornada nos jogos do XPR Studio. Este guia cobre tudo desde criar uma conta até suas primeiras missões.
                </div>
                <div class="wiki-article-meta">
                    <span><i class="fas fa-eye"></i> <span data-i18n="wiki.views">2.5K visualizações</span></span>
                    <span><i class="fas fa-clock"></i> <span data-i18n="wiki.reading_time">5 min leitura</span></span>
                </div>
            </div>

            <div class="wiki-article" data-aos="fade-up" data-aos-delay="200">
                <div class="wiki-article-title">
                    <i class="fas fa-file-code"></i>
                    <span data-i18n="wiki.article2.title">API de Desenvolvimento</span>
                </div>
                <div class="wiki-article-excerpt" data-i18n="wiki.article2.excerpt">
                    Documentação completa da API para desenvolvedores que desejam criar conteúdo customizado ou plugins para nossos jogos.
                </div>
                <div class="wiki-article-meta">
                    <span><i class="fas fa-eye"></i> <span data-i18n="wiki.views">1.8K visualizações</span></span>
                    <span><i class="fas fa-clock"></i> <span data-i18n="wiki.reading_time">15 min leitura</span></span>
                </div>
            </div>

            <div class="wiki-article" data-aos="fade-up" data-aos-delay="300">
                <div class="wiki-article-title">
                    <i class="fas fa-trophy"></i>
                    <span data-i18n="wiki.article3.title">Sistema de Conquistas</span>
                </div>
                <div class="wiki-article-excerpt" data-i18n="wiki.article3.excerpt">
                    Descubra todas as conquistas disponíveis, como desbloqueá-las e as recompensas exclusivas que você pode ganhar.
                </div>
                <div class="wiki-article-meta">
                    <span><i class="fas fa-eye"></i> <span data-i18n="wiki.views">3.2K visualizações</span></span>
                    <span><i class="fas fa-clock"></i> <span data-i18n="wiki.reading_time">8 min leitura</span></span>
                </div>
            </div>

            <div class="wiki-article" data-aos="fade-up" data-aos-delay="400">
                <div class="wiki-article-title">
                    <i class="fas fa-shield-alt"></i>
                    <span data-i18n="wiki.article4.title">Segurança da Conta</span>
                </div>
                <div class="wiki-article-excerpt" data-i18n="wiki.article4.excerpt">
                    Dicas importantes para manter sua conta segura, incluindo autenticação de dois fatores e boas práticas de senha.
                </div>
                <div class="wiki-article-meta">
                    <span><i class="fas fa-eye"></i> <span data-i18n="wiki.views">1.5K visualizações</span></span>
                    <span><i class="fas fa-clock"></i> <span data-i18n="wiki.reading_time">7 min leitura</span></span>
                </div>
            </div>

            <div class="wiki-article" data-aos="fade-up" data-aos-delay="500">
                <div class="wiki-article-title">
                    <i class="fas fa-paint-brush"></i>
                    <span data-i18n="wiki.article5.title">Customização de Personagem</span>
                </div>
                <div class="wiki-article-excerpt" data-i18n="wiki.article5.excerpt">
                    Guia completo sobre como personalizar seu personagem, desde roupas e acessórios até habilidades especiais.
                </div>
                <div class="wiki-article-meta">
                    <span><i class="fas fa-eye"></i> <span data-i18n="wiki.views">4.1K visualizações</span></span>
                    <span><i class="fas fa-clock"></i> <span data-i18n="wiki.reading_time">10 min leitura</span></span>
                </div>
            </div>

            <div class="wiki-article" data-aos="fade-up" data-aos-delay="600">
                <div class="wiki-article-title">
                    <i class="fas fa-users"></i>
                    <span data-i18n="wiki.article6.title">Modo Multiplayer</span>
                </div>
                <div class="wiki-article-excerpt" data-i18n="wiki.article6.excerpt">
                    Tudo sobre jogar com amigos, criar grupos, e dominar os modos de jogo competitivos e cooperativos.
                </div>
                <div class="wiki-article-meta">
                    <span><i class="fas fa-eye"></i> <span data-i18n="wiki.views">2.9K visualizações</span></span>
                    <span><i class="fas fa-clock"></i> <span data-i18n="wiki.reading_time">12 min leitura</span></span>
                </div>
            </div>
        </div>
    </div>
    <!-- Adicionar na seção Wiki -->
<div id="codeSnippetModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); z-index: 10002; justify-content: center; align-items: center;">
    <div style="background: #1e1e1e; border-radius: 15px; padding: 20px; width: 90%; max-width: 800px; max-height: 90vh; overflow: hidden; display: flex; flex-direction: column;">
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
            <h3 style="color: #00d4ff; margin: 0;"><i class="fas fa-code"></i> Code Snippet</h3>
            <button onclick="closeCodeSnippet()" style="background: none; border: none; color: #999; font-size: 1.5rem; cursor: pointer;">
                <i class="fas fa-times"></i>
            </button>
        </div>
        
        <div style="display: flex; gap: 10px; margin-bottom: 15px;">
            <select id="codeLanguage" style="flex: 1; padding: 8px; border-radius: 8px; border: 1px solid #333; background: #2d2d2d; color: white;">
                <option value="lua">Lua (Luau)</option>
                <option value="javascript">JavaScript</option>
                <option value="html">HTML</option>
                <option value="css">CSS</option>
                <option value="python">Python</option>
                <option value="cpp">C++</option>
                <option value="java">Java</option>
            </select>
            
            <button onclick="formatCode()" style="padding: 8px 15px; background: #00b894; color: white; border: none; border-radius: 8px; cursor: pointer;">
                <i class="fas fa-broom"></i> Format
            </button>
            
            <button onclick="beautifyCode()" style="padding: 8px 15px; background: #6c5ce7; color: white; border: none; border-radius: 8px; cursor: pointer;">
                <i class="fas fa-magic"></i> Beautify
            </button>
        </div>
        
        <textarea id="codeEditor" style="flex: 1; width: 100%; padding: 15px; border-radius: 8px; border: 1px solid #333; background: #252525; color: #00d4ff; font-family: 'Courier New', monospace; font-size: 14px; resize: none; margin-bottom: 15px;" placeholder="// Digite seu código aqui...">
-- Exemplo Lua
function exemplo()
    print("Olá Mundo!")
end

exemplo()</textarea>
        
        <div style="display: flex; gap: 10px;">
            <button onclick="runCode()" style="flex: 1; background: #00d4ff; color: white; border: none; padding: 10px; border-radius: 8px; cursor: pointer;">
                <i class="fas fa-play"></i> Executar
            </button>
            <button onclick="copyCode()" style="flex: 1; background: #00b894; color: white; border: none; padding: 10px; border-radius: 8px; cursor: pointer;">
                <i class="fas fa-copy"></i> Copiar
            </button>
            <button onclick="saveSnippet()" style="flex: 1; background: #6c5ce7; color: white; border: none; padding: 10px; border-radius: 8px; cursor: pointer;">
                <i class="fas fa-save"></i> Salvar
            </button>
            <button onclick="shareSnippet()" style="flex: 1; background: #ffa502; color: white; border: none; padding: 10px; border-radius: 8px; cursor: pointer;">
                <i class="fas fa-share"></i> Compartilhar
            </button>
        </div>
        
        <div id="codeOutput" style="margin-top: 15px; padding: 15px; background: #2d2d2d; border-radius: 8px; min-height: 100px; max-height: 200px; overflow-y: auto; color: white; font-family: monospace; font-size: 12px;">
            <strong style="color: #00d4ff;">Output:</strong>
            <div id="outputContent"></div>
        </div>
    </div>
</div>

<button onclick="openCodeSnippet()" style="position: fixed; bottom: 320px; right: 20px; z-index: 996; background: #ffa502; color: white; border: none; border-radius: 50%; width: 40px; height: 40px; font-size: 1.2rem; cursor: pointer; box-shadow: 0 4px 15px rgba(255,165,2,0.3);">
    <i class="fas fa-code"></i>
</button>

<script>
function openCodeSnippet() {
    document.getElementById('codeSnippetModal').style.display = 'flex';
    loadSavedSnippets();
}

function closeCodeSnippet() {
    document.getElementById('codeSnippetModal').style.display = 'none';
}

function runCode() {
    const code = document.getElementById('codeEditor').value;
    const language = document.getElementById('codeLanguage').value;
    const output = document.getElementById('outputContent');
    
    output.innerHTML = '<span style="color: #00d4ff;">Executando código...</span>';
    
    // Simulação de execução (em produção, usar uma API real)
    setTimeout(() => {
        if (language === 'lua') {
            output.innerHTML = `
                <div style="color: #00b894;">✓ Código Lua executado com sucesso!</div>
                <div style="color: white; margin-top: 5px;">Output: Olá Mundo!</div>
                <div style="color: #999; margin-top: 5px;">Tempo de execução: 0.02s</div>
            `;
        } else if (language === 'javascript') {
            try {
                const result = eval(code);
                output.innerHTML = `
                    <div style="color: #00b894;">✓ JavaScript executado</div>
                    <div style="color: white; margin-top: 5px;">Resultado: ${result}</div>
                `;
            } catch (error) {
                output.innerHTML = `<div style="color: #ff6b6b;">✗ Erro: ${error.message}</div>`;
            }
        } else {
            output.innerHTML = `
                <div style="color: #00b894;">✓ Código ${language} analisado</div>
                <div style="color: white; margin-top: 5px;">[Execução simulada]</div>
                <div style="color: #999; margin-top: 5px;">Linhas: ${code.split('\n').length}</div>
            `;
        }
    }, 500);
}

function formatCode() {
    const editor = document.getElementById('codeEditor');
    const code = editor.value;
    
    // Formatação básica (em produção usar uma biblioteca como Prettier)
    let formatted = code
        .replace(/\t/g, '  ')
        .replace(/\n{3,}/g, '\n\n')
        .trim() + '\n';
    
    editor.value = formatted;
    
    // Highlight para Lua
    if (document.getElementById('codeLanguage').value === 'lua') {
        formatted = formatted
            .replace(/\b(function|end|if|then|else|elseif|for|while|do|repeat|until|break|return|local|and|or|not|nil|false|true)\b/g, 
                     '<span style="color: #569cd6;">$1</span>')
            .replace(/\b(print|tostring|tonumber|type|pairs|ipairs|next)\b/g, 
                     '<span style="color: #dcdcaa;">$1</span>')
            .replace(/--.*$/gm, 
                     '<span style="color: #6a9955;">$&</span>')
            .replace(/"[^"]*"/g, 
                     '<span style="color: #ce9178;">$&</span>');
    }
    
    document.getElementById('outputContent').innerHTML = `
        <div style="color: #00b894;">✓ Código formatado</div>
        <div style="margin-top: 10px; background: #1e1e1e; padding: 10px; border-radius: 5px; overflow-x: auto;">
            ${formatted.replace(/\n/g, '<br>').replace(/ /g, '&nbsp;')}
        </div>
    `;
}

function beautifyCode() {
    const editor = document.getElementById('codeEditor');
    let code = editor.value;
    
    // Beautify simples
    const indentSize = 2;
    let indent = 0;
    let beautified = '';
    const lines = code.split('\n');
    
    lines.forEach(line => {
        const trimmed = line.trim();
        
        // Decrementar indent antes de linha que fecha
        if (trimmed.match(/^\s*(end|else|elseif|until|\)|\}|\])/)) {
            indent--;
        }
        
        // Adicionar indentação
        beautified += ' '.repeat(Math.max(0, indent * indentSize)) + trimmed + '\n';
        
        // Incrementar indent após linha que abre
        if (trimmed.match(/(function|if|for|while|repeat|then|do|\{|\{|\(|\[).*$/)) {
            indent++;
        }
        
        // Ajustar para palavras que fecham na mesma linha
        if (trimmed.match(/end$/)) {
            indent = Math.max(0, indent - 1);
        }
    });
    
    editor.value = beautified.trim();
    document.getElementById('outputContent').innerHTML = '<span style="color: #00b894;">✓ Código beautified!</span>';
}

function copyCode() {
    const code = document.getElementById('codeEditor').value;
    navigator.clipboard.writeText(code).then(() => {
        const output = document.getElementById('outputContent');
        output.innerHTML = '<span style="color: #00b894;">✓ Código copiado para a área de transferência!</span>';
    });
}

function saveSnippet() {
    const snippets = JSON.parse(localStorage.getItem('xpr_code_snippets') || '[]');
    const snippet = {
        id: Date.now(),
        code: document.getElementById('codeEditor').value,
        language: document.getElementById('codeLanguage').value,
        name: prompt('Nome do snippet:', `Snippet_${Date.now()}`) || `Snippet_${Date.now()}`,
        date: new Date().toISOString()
    };
    
    snippets.push(snippet);
    localStorage.setItem('xpr_code_snippets', JSON.stringify(snippets));
    
    document.getElementById('outputContent').innerHTML = `<span style="color: #00b894;">✓ Snippet "${snippet.name}" salvo!</span>`;
    loadSavedSnippets();
}

function loadSavedSnippets() {
    const snippets = JSON.parse(localStorage.getItem('xpr_code_snippets') || '[]');
    const output = document.getElementById('outputContent');
    
    if (snippets.length > 0) {
        let html = '<strong style="color: #00d4ff;">Snippets Salvos:</strong><br>';
        snippets.slice(-5).forEach(snippet => {
            html += `
                <div style="background: rgba(0,0,0,0.3); padding: 5px 10px; margin: 5px 0; border-radius: 5px; display: flex; justify-content: space-between; align-items: center;">
                    <span style="color: white;">${snippet.name}</span>
                    <button onclick="loadSnippet(${snippet.id})" style="background: #00d4ff; color: white; border: none; padding: 3px 8px; border-radius: 3px; cursor: pointer; font-size: 0.8rem;">
                        Carregar
                    </button>
                </div>
            `;
        });
        output.innerHTML = html;
    }
}

function loadSnippet(id) {
    const snippets = JSON.parse(localStorage.getItem('xpr_code_snippets') || '[]');
    const snippet = snippets.find(s => s.id === id);
    
    if (snippet) {
        document.getElementById('codeEditor').value = snippet.code;
        document.getElementById('codeLanguage').value = snippet.language;
        document.getElementById('outputContent').innerHTML = `<span style="color: #00b894;">✓ Snippet "${snippet.name}" carregado!</span>`;
    }
}

function shareSnippet() {
    const code = document.getElementById('codeEditor').value;
    const language = document.getElementById('codeLanguage').value;
    
    // Criar um link compartilhável (em produção, usar uma API)
    const shareText = `Código ${language}:\n\`\`\`${language}\n${code}\n\`\`\`\n\nCriado no XPR Studio Code Snippet`;
    
    if (navigator.share) {
        navigator.share({
            title: 'XPR Studio Code Snippet',
            text: shareText
        });
    } else {
        prompt('Copie para compartilhar:', shareText);
    }
}

// Adicionar syntax highlighting básico
document.getElementById('codeEditor').addEventListener('input', function() {
    // Em produção, usar uma biblioteca como Prism.js ou Highlight.js
    this.style.color = '#00d4ff';
});
</script>
</section>

<!-- Business Section -->
<section class="business-section" id="business" data-aos="fade-up">
    <div class="business-container">
        <h2 class="business-title" data-aos="fade-up"><i class="fas fa-briefcase"></i> <span data-i18n="business.title">Soluções para Negócios</span></h2>
        
        <p class="business-intro" data-aos="fade-up" data-aos-delay="100" data-i18n="business.intro">
            Oferecemos serviços profissionais de desenvolvimento de jogos Roblox para empresas, marcas e criadores que desejam levar suas ideias ao próximo nível.
        </p>

        <div class="business-services">
            <div class="business-service" data-aos="fade-up" data-aos-delay="100">
                <div class="business-service-icon"><i class="fas fa-rocket"></i></div>
                <div class="business-service-title" data-i18n="business.service1.title">Desenvolvimento Completo</div>
                <div class="business-service-description" data-i18n="business.service1.description">
                    Desenvolvemos jogos Roblox do zero, desde o conceito inicial até o lançamento. Inclui game design, programação, arte 3D, e testes completos.
                </div>
                <div class="business-service-price">
                    <span class="price-label" data-i18n="business.starting_from">A partir de</span>
                    <span class="price-value">U$ 1.000</span>
                </div>
            </div>

            <div class="business-service" data-aos="fade-up" data-aos-delay="200">
                <div class="business-service-icon"><i class="fas fa-tools"></i></div>
                <div class="business-service-title" data-i18n="business.service2.title">Consultoria & Suporte</div>
                <div class="business-service-description" data-i18n="business.service2.description">
                    Ajudamos a otimizar jogos existentes, melhorar performance, implementar novos recursos e fornecer suporte técnico contínuo.
                </div>
                <div class="business-service-price">
                    <span class="price-label" data-i18n="business.starting_from">A partir de</span>
                    <span class="price-value">U$ 0/month</span>
                </div>
            </div>

            <div class="business-service" data-aos="fade-up" data-aos-delay="400">
                <div class="business-service-icon"><i class="fas fa-paint-brush"></i></div>
                <div class="business-service-title" data-i18n="business.service4.title">Design & Arte 3D</div>
                <div class="business-service-description" data-i18n="business.service4.description">
                    Criação de assets 3D customizados, ambientes imersivos, personagens únicos e interfaces de usuário profissionais.
                </div>
                <div class="business-service-price">
                    <span class="price-label" data-i18n="business.starting_from">A partir de</span>
                    <span class="price-value">Contact us!</span>
                </div>
            </div>

            <div class="business-service" data-aos="fade-up" data-aos-delay="500">
                <div class="business-service-icon"><i class="fas fa-store"></i></div>
                <div class="business-service-title" data-i18n="business.service5.title">Branded Experiences</div>
                <div class="business-service-description" data-i18n="business.service5.description">
                    Criamos experiências de marca imersivas no Roblox para empresas que desejam se conectar com a comunidade gamer.
                </div>
                <div class="business-service-price">
                    <span class="price-label" data-i18n="business.starting_from">A partir de</span>
                    <span class="price-value">U$ 1.000</span>
                </div>
            </div>

            <div class="business-service" data-aos="fade-up" data-aos-delay="600">
                <div class="business-service-icon"><i class="fas fa-graduation-cap"></i></div>
                <div class="business-service-title" data-i18n="business.service6.title">Treinamento & Workshops</div>
                <div class="business-service-description" data-i18n="business.service6.description">
                    Workshops personalizados e treinamentos para equipes que desejam aprender desenvolvimento Roblox e melhores práticas.
                </div>
                <div class="business-service-price">
                    <span class="price-label" data-i18n="business.starting_from">A partir de</span>
                    <span class="price-value">U$ 50</span>
                </div>
            </div>
        </div>

        <div class="business-cta" data-aos="zoom-in" data-aos-delay="100">
            <h3 data-i18n="business.cta.title">Pronto para transformar sua ideia em realidade?</h3>
            <p data-i18n="business.cta.subtitle">Entre em contato conosco para discutir seu projeto e receber um orçamento personalizado.</p>
            <div class="business-cta-buttons">
                <a href="#support" class="btn-business-primary" onclick="scrollToSection('support')">
                    <i class="fas fa-envelope"></i> <span data-i18n="business.cta.quote">Solicitar Orçamento</span>
                </a>
                <a href="https://ac4-portfolio.carrd.co/" class="btn-business-secondary">
                    <i class="fas fa-file-alt"></i> <span data-i18n="business.cta.portfolio">Ver Portfólio</span>
                </a>
            </div>
        </div>

        <!-- Business Contact Section -->
        <div class="business-contact-section" data-aos="fade-up" data-aos-delay="200">
            <h3 class="business-contact-title"><i class="fas fa-envelope"></i> <span data-i18n="business.contact.title">Contatos Profissionais</span></h3>
            <p class="business-contact-subtitle" data-i18n="business.contact.subtitle">Entre em contato conosco através dos canais especializados abaixo</p>
            
            <div class="business-contact-grid">
                <div class="business-contact-card" data-aos="fade-up" data-aos-delay="100">
                    <div class="contact-icon partnership">
                        <i class="fas fa-handshake"></i>
                    </div>
                    <h4 data-i18n="business.contact.partnership.title">Parcerias</h4>
                    <p data-i18n="business.contact.partnership.description">Interessado em parcerias estratégicas ou colaborações?</p>
                    <a href="mailto:?subject=[XPR Studio - Parceria]" class="contact-email">
                        <i class="fas fa-envelope"></i> 
                    </a>
                    <button class="btn-contact-modal" onclick="openBusinessModal('partnership')">
                        <i class="fas fa-paper-plane"></i> <span data-i18n="business.contact.send_proposal">Enviar Proposta</span>
                    </button>
                </div>

                <div class="business-contact-card" data-aos="fade-up" data-aos-delay="200">
                    <div class="contact-icon hiring">
                        <i class="fas fa-user-plus"></i>
                    </div>
                    <h4 data-i18n="business.contact.hiring.title">Contratação</h4>
                    <p data-i18n="business.contact.hiring.description">Procurando talentos excepcionais? Fale conosco.</p>
                    <a href="mailto:?subject=[XPR Studio - Contratação]" class="contact-email">
                        <i class="fas fa-envelope"></i> 
                    </a>
                    <button class="btn-contact-modal" onclick="openBusinessModal('hiring')">
                        <i class="fas fa-paper-plane"></i> <span data-i18n="business.contact.request_hiring">Solicitar Contratação</span>
                    </button>
                </div>

                <div class="business-contact-card" data-aos="fade-up" data-aos-delay="300">
                    <div class="contact-icon work">
                        <i class="fas fa-briefcase"></i>
                    </div>
                    <h4 data-i18n="business.contact.work.title">Trabalhe Conosco</h4>
                    <p data-i18n="business.contact.work.description">Quer fazer parte da equipe XPR Studio?</p>
                    <a href="mailto:?subject=[XPR Studio - Candidatura]" class="contact-email">
                        <i class="fas fa-envelope"></i> 
                    </a>
                    <button class="btn-contact-modal" onclick="openBusinessModal('work')">
                        <i class="fas fa-paper-plane"></i> <span data-i18n="business.contact.register_application">Registrar Candidatura</span>
                    </button>
                </div>

                <div class="business-contact-card" data-aos="fade-up" data-aos-delay="400">
                    <div class="contact-icon policy">
                        <i class="fas fa-shield-alt"></i>
                    </div>
                    <h4 data-i18n="business.contact.policy.title">Reportar Violação</h4>
                    <p data-i18n="business.contact.policy.description">Reporte violações de políticas ou termos de uso.</p>
                    <a href="mailto:?subject=[XPR Studio - Violação de Política]" class="contact-email">
                        <i class="fas fa-envelope"></i> 
                    </a>
                    <button class="btn-contact-modal" onclick="openBusinessModal('policy')">
                        <i class="fas fa-paper-plane"></i> <span data-i18n="business.contact.report_violation">Reportar Violação</span>
                    </button>
                </div>

                <div class="business-contact-card" data-aos="fade-up" data-aos-delay="500">
                    <div class="contact-icon report">
                        <i class="fas fa-exclamation-triangle"></i>
                    </div>
                    <h4 data-i18n="business.contact.report.title">Reportar Staff</h4>
                    <p data-i18n="business.contact.report.description">Reporte comportamento inadequado de membros da equipe.</p>
                    <a href="mailto:?subject=[XPR Studio - Reportar Staff]" class="contact-email">
                        <i class="fas fa-envelope"></i> 
                    </a>
                    <button class="btn-contact-modal" onclick="openBusinessModal('report')">
                        <i class="fas fa-paper-plane"></i> <span data-i18n="business.contact.send_report">Enviar Relatório</span>
                    </button>
                </div>

                <div class="business-contact-card general" data-aos="fade-up" data-aos-delay="600">
                    <div class="contact-icon general-contact">
                        <i class="fas fa-at"></i>
                    </div>
                    <h4 data-i18n="business.contact.general.title">Contato Geral</h4>
                    <p data-i18n="business.contact.general.description">Para outras questões ou dúvidas gerais.</p>
                    <a href="mailto:?subject=[XPR Studio - Contato Geral]" class="contact-email">
                        <i class="fas fa-envelope"></i> 
                    </a>
                    <button class="btn-contact-modal" onclick="openBusinessModal('general')">
                        <i class="fas fa-paper-plane"></i> <span data-i18n="business.contact.send_message">Enviar Mensagem</span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Business Contact Modal -->
<div id="businessModal" class="business-modal" style="display: none;">
    <div class="business-modal-overlay" onclick="closeBusinessModal()"></div>
    <div class="business-modal-content">
        <button class="modal-close" onclick="closeBusinessModal()">
            <i class="fas fa-times"></i>
        </button>
        <div class="modal-header">
            <h2 id="modalTitle"><i class="fas fa-envelope"></i> <span data-i18n="modal.contact">Contato</span></h2>
        </div>
        <form onsubmit="submitBusinessForm(event)" class="business-modal-form">
            <input type="hidden" id="contactType" value="">

            
            <div class="form-group">
                <label for="businessName"><i class="fas fa-user"></i> <span data-i18n="modal.full_name">Nome Completo:</span></label>
                <input type="text" id="businessName" data-i18n-placeholder="modal.full_name_placeholder" placeholder="Seu nome completo" required>
            </div>
            
            <div class="form-group">
                <label for="businessEmail"><i class="fas fa-envelope"></i> <span data-i18n="modal.email">Email:</span></label>
                <input type="email" id="businessEmail" data-i18n-placeholder="modal.email_placeholder" placeholder="seu@email.com" required>
            </div>
            
            <div class="form-group">
                <label for="businessCompany"><i class="fas fa-building"></i> <span data-i18n="modal.company">Empresa/Organização:</span></label>
                <input type="text" id="businessCompany" data-i18n-placeholder="modal.company_placeholder" placeholder="Nome da empresa (opcional)">
            </div>
            
            <div class="form-group">
                <label for="businessSubject"><i class="fas fa-tag"></i> <span data-i18n="modal.subject">Assunto:</span></label>
                <input type="text" id="businessSubject" data-i18n-placeholder="modal.subject_placeholder" placeholder="Resumo do assunto" required>
            </div>
            
            <div class="form-group">
                <label for="businessMessage"><i class="fas fa-comment"></i> <span data-i18n="modal.message">Mensagem:</span></label>
                <textarea id="businessMessage" data-i18n-placeholder="modal.message_placeholder" placeholder="Descreva sua solicitação em detalhes..." required></textarea>
            </div>
            
            <button type="submit" class="btn-modal-submit">
                <i class="fas fa-paper-plane"></i> <span data-i18n="modal.send_request">Enviar Solicitação</span>
            </button>
        </form>
    </div>
</div>



<!-- Contributors Section -->
<section class="contributors-section" id="contributors" data-aos="fade-up">
    <div class="contributors-container">
        <h2 class="contributors-title" data-aos="fade-up"><i class="fas fa-code-branch"></i> <span data-i18n="contributors.title">Contribuidores</span></h2>
        
        <p class="contributors-intro" data-aos="fade-up" data-aos-delay="100" data-i18n="contributors.intro">
            Nosso sucesso é resultado do trabalho dedicado de incríveis desenvolvedores, designers, testadores e membros da comunidade que contribuem para nossos projetos.
        </p>

        <div class="contributors-stats">
            <div class="contributor-stat" data-aos="fade-up" data-aos-delay="100">
                <div class="contributor-stat-icon"><i class="fas fa-users"></i></div>
                <div class="contributor-stat-number">30</div>
                <div class="contributor-stat-label" data-i18n="contributors.stat1">Total de Contribuidores</div>
            </div>

            <div class="contributor-stat" data-aos="fade-up" data-aos-delay="200">
                <div class="contributor-stat-icon"><i class="fas fa-code"></i></div>
                <div class="contributor-stat-number">3.2K+</div>
                <div class="contributor-stat-label" data-i18n="contributors.stat2">Commits</div>
            </div>

            <div class="contributor-stat" data-aos="fade-up" data-aos-delay="300">
                <div class="contributor-stat-icon"><i class="fas fa-bug"></i></div>
                <div class="contributor-stat-number">300+</div>
                <div class="contributor-stat-label" data-i18n="contributors.stat3">Issues Resolvidas</div>
            </div>

            <div class="contributor-stat" data-aos="fade-up" data-aos-delay="400">
                <div class="contributor-stat-icon"><i class="fas fa-star"></i></div>
                <div class="contributor-stat-number">200+</div>
                <div class="contributor-stat-label" data-i18n="contributors.stat4">Pull Requests</div>
            </div>
        </div>

        <div class="contributors-grid">
            <div class="contributor-card" data-aos="fade-up" data-aos-delay="100">
                <div class="contributor-avatar">
                    <i class="fas fa-crown"></i>
                    <span class="contributor-badge">🥇</span>
                </div>
                <div class="contributor-name">-</div>
                <div class="contributor-role" data-i18n="contributors.role1">Web Developer</div>
                <div class="contributor-contributions">
                    <div class="contribution-item">
                        <div class="contribution-number">-</div>
                        <div class="contribution-label" data-i18n="contributors.commits">Commits</div>
                    </div>
                    <div class="contribution-item">
                        <div class="contribution-number">-</div>
                        <div class="contribution-label" data-i18n="contributors.prs">PRs</div>
                    </div>
                </div>
            </div>

            <div class="contributor-card" data-aos="fade-up" data-aos-delay="200">
                <div class="contributor-avatar">
                    <i class="fas fa-code"></i>
                    <span class="contributor-badge">🥈</span>
                </div>
                <div class="contributor-name">-</div>
                <div class="contributor-role" data-i18n="contributors.role2">Senior Developer</div>
                <div class="contributor-contributions">
                    <div class="contribution-item">
                        <div class="contribution-number">-</div>
                        <div class="contribution-label" data-i18n="contributors.commits">Commits</div>
                    </div>
                    <div class="contribution-item">
                        <div class="contribution-number">-</div>
                        <div class="contribution-label" data-i18n="contributors.prs">PRs</div>
                    </div>
                </div>
            </div>

            <div class="contributor-card" data-aos="fade-up" data-aos-delay="300">
                <div class="contributor-avatar">
                    <i class="fas fa-laptop-code"></i>
                    <span class="contributor-badge">🥉</span>
                </div>
                <div class="contributor-name">-</div>
                <div class="contributor-role" data-i18n="contributors.role3">Backend Developer</div>
                <div class="contributor-contributions">
                    <div class="contribution-item">
                        <div class="contribution-number">-</div>
                        <div class="contribution-label" data-i18n="contributors.commits">Commits</div>
                    </div>
                    <div class="contribution-item">
                        <div class="contribution-number">-</div>
                        <div class="contribution-label" data-i18n="contributors.prs">PRs</div>
                    </div>
                </div>
            </div>

            <div class="contributor-card" data-aos="fade-up" data-aos-delay="400">
                <div class="contributor-avatar">
                    <i class="fas fa-paint-brush"></i>
                </div>
                <div class="contributor-name">-</div>
                <div class="contributor-role" data-i18n="contributors.role4">UI/UX Designer</div>
                <div class="contributor-contributions">
                    <div class="contribution-item">
                        <div class="contribution-number">-</div>
                        <div class="contribution-label" data-i18n="contributors.commits">Commits</div>
                    </div>
                    <div class="contribution-item">
                        <div class="contribution-number">-</div>
                        <div class="contribution-label" data-i18n="contributors.prs">PRs</div>
                    </div>
                </div>
            </div>

            <div class="contributor-card" data-aos="fade-up" data-aos-delay="500">
                <div class="contributor-avatar">
                    <i class="fas fa-bug"></i>
                </div>
                <div class="contributor-name">-</div>
                <div class="contributor-role" data-i18n="contributors.role5">QA Engineer</div>
                <div class="contributor-contributions">
                    <div class="contribution-item">
                        <div class="contribution-number">-</div>
                        <div class="contribution-label" data-i18n="contributors.issues">Issues</div>
                    </div>
                    <div class="contribution-item">
                        <div class="contribution-number">-</div>
                        <div class="contribution-label" data-i18n="contributors.prs">PRs</div>
                    </div>
                </div>
            </div>

            <div class="contributor-card" data-aos="fade-up" data-aos-delay="600">
                <div class="contributor-avatar">
                    <i class="fas fa-cube"></i>
                </div>
                <div class="contributor-name">-</div>
                <div class="contributor-role" data-i18n="contributors.role6">3D Artist</div>
                <div class="contributor-contributions">
                    <div class="contribution-item">
                        <div class="contribution-number">-</div>
                        <div class="contribution-label" data-i18n="contributors.assets">Assets</div>
                    </div>
                    <div class="contribution-item">
                        <div class="contribution-number">-</div>
                        <div class="contribution-label" data-i18n="contributors.prs">PRs</div>
                    </div>
                </div>
            </div>

            <div class="contributor-card" data-aos="fade-up" data-aos-delay="700">
                <div class="contributor-avatar">
                    <i class="fas fa-file-code"></i>
                </div>
                <div class="contributor-name">-</div>
                <div class="contributor-role" data-i18n="contributors.role7">Documentation</div>
                <div class="contributor-contributions">
                    <div class="contribution-item">
                        <div class="contribution-number">-</div>
                        <div class="contribution-label" data-i18n="contributors.docs">Docs</div>
                    </div>
                    <div class="contribution-item">
                        <div class="contribution-number">-</div>
                        <div class="contribution-label" data-i18n="contributors.prs">PRs</div>
                    </div>
                </div>
            </div>

            <div class="contributor-card" data-aos="fade-up" data-aos-delay="800">
                <div class="contributor-avatar">
                    <i class="fas fa-language"></i>
                </div>
                <div class="contributor-name">-</div>
                <div class="contributor-role" data-i18n="contributors.role8">Localization</div>
                <div class="contributor-contributions">
                    <div class="contribution-item">
                        <div class="contribution-number">-</div>
                        <div class="contribution-label" data-i18n="contributors.strings">Strings</div>
                    </div>
                    <div class="contribution-item">
                        <div class="contribution-number">-</div>
                        <div class="contribution-label" data-i18n="contributors.prs">PRs</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="become-contributor" data-aos="zoom-in" data-aos-delay="100">
            <h3 data-i18n="contributors.become.title">Torne-se um Contribuidor</h3>
            <p data-i18n="contributors.become.description">Junte-se à nossa comunidade de desenvolvedores e ajude a construir o futuro do XPR Studio!</p>
            <a href="https://patreon.com/AC4_Dev_4?utm_medium=unknown&utm_source=join_link&utm_campaign=creatorshare_creator&utm_content=copyLink" class="become-contributor-btn">
                <i class="fas fa-code-branch"></i> <span data-i18n="contributors.become.button">Começar a Contribuir</span>
            </a>
        </div>
    </div>
</section>

<!-- FAQ Section -->
<section class="faq-section" id="faq" data-aos="fade-up">
    <div class="faq-container">
        <h2 class="faq-title" data-aos="fade-up" data-i18n="faq.title">Perguntas Frequentes</h2>
        
        <div class="faq-item" data-aos="fade-up" data-aos-delay="100">
            <div class="faq-question">
                <span data-i18n="faq.q1">Como posso jogar os jogos da XPR Studio?</span>
                <i class="fas fa-chevron-down faq-icon"></i>
            </div>
            <div class="faq-answer">
                <div class="faq-answer-content" data-i18n="faq.a1">
                    Você pode acessar todos os nossos jogos através da plataforma Roblox. Basta procurar por "XPR Studio" na barra de busca e escolher o jogo que deseja jogar. Todos os nossos jogos são gratuitos!
                </div>
            </div>
        </div>

        <div class="faq-item" data-aos="fade-up" data-aos-delay="200">
            <div class="faq-question">
                <span data-i18n="faq.q2">Preciso pagar para jogar?</span>
                <i class="fas fa-chevron-down faq-icon"></i>
            </div>
            <div class="faq-answer">
                <div class="faq-answer-content" data-i18n="faq.a2">
                    Não! Todos os nossos jogos são completamente gratuitos. Oferecemos itens opcionais dentro do jogo (cosmética) que podem ser comprados, mas não são necessários para jogar e se divertir.
                </div>
            </div>
        </div>

        <div class="faq-item" data-aos="fade-up" data-aos-delay="300">
            <div class="faq-question">
                <span data-i18n="faq.q3">Como faço para entrar no Discord da comunidade?</span>
                <i class="fas fa-chevron-down faq-icon"></i>
            </div>
            <div class="faq-answer">
                <div class="faq-answer-content" data-i18n="faq.a3">
                    Você pode encontrar o link do nosso servidor Discord nos rodapés de cada página do jogo ou visitando nosso site. Lá você pode conversar com outros jogadores, receber atualizações e participar de eventos especiais.
                </div>
            </div>
        </div>

        <div class="faq-item" data-aos="fade-up" data-aos-delay="400">
            <div class="faq-question">
                <span data-i18n="faq.q4">O que fazer se encontrar um bug ou problema?</span>
                <i class="fas fa-chevron-down faq-icon"></i>
            </div>
            <div class="faq-answer">
                <div class="faq-answer-content" data-i18n="faq.a4">
                    Se encontrar um bug, por favor reporte-o no nosso servidor Discord ou através do formulário de suporte no jogo. Nossa equipe investigará e corrigirá o problema o mais rápido possível.
                </div>
            </div>
        </div>

        <div class="faq-item" data-aos="fade-up" data-aos-delay="500">
            <div class="faq-question">
                <span data-i18n="faq.q5">Quando será lançado o próximo jogo?</span>
                <i class="fas fa-chevron-down faq-icon"></i>
            </div>
            <div class="faq-answer">
                <div class="faq-answer-content" data-i18n="faq.a5">
                    Estamos trabalhando em novos projetos emocionantes! Fique atento ao nosso Discord e redes sociais para anúncios oficiais sobre lançamentos futuros. Você será um dos primeiros a saber!
                </div>
            </div>
        </div>

        <div class="faq-item" data-aos="fade-up" data-aos-delay="600">
            <div class="faq-question">
                <span data-i18n="faq.q6">Posso sugerir ideias para os jogos?</span>
                <i class="fas fa-chevron-down faq-icon"></i>
            </div>
            <div class="faq-answer">
                <div class="faq-answer-content" data-i18n="faq.a6">
                    Claro! Adoramos ouvir sugestões da comunidade. Você pode compartilhar suas ideias no canal #sugestões do nosso Discord. Nossas melhores ideias frequentemente vêm de jogadores como você!
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Blog Section -->

<section id="blog" class="blog-section" style="background: #f8f9fa; padding: 60px 0;">
    <div class="container">
        <h2 class="text-center mb-5" style="color: #1e3c72; font-weight: 800;">
            <i class="fas fa-newspaper"></i> <span data-i18n="blog.title">Blog & Novidades</span>
        </h2>
        <div class="blog-grid" id="blogGrid">
            </div>
    </div>
</section>

<div id="profileModal" class="auth-overlay" style="display:none; position: fixed; z-index: 9999; width: 100%; height: 100%; background: rgba(0,0,0,0.8); top: 0; left: 0; align-items: center; justify-content: center;">
    <div class="profile-modal-content" style="background: #111; border: 1px solid #00d4ff; padding: 2rem; border-radius: 15px; text-align: center; min-width: 300px;">
        <h3 id="prof-display-name" style="color: #00d4ff;">Perfil</h3>
        <p id="prof-username" style="color: #ccc;"></p>
        <hr style="border-color: #333;">
        <button class="btn btn-outline-info btn-block mb-2" onclick="changePasswordPrompt()" data-i18n="profile.change_password">Alterar Senha</button>
        <button class="btn btn-outline-danger btn-block" onclick="deleteAccount()" data-i18n="auth.delete_account">Deletar Conta</button>
        <button class="btn btn-link text-white mt-3" onclick="closeProfile()">Fechar</button>
    </div>
</div>

<!-- Support Section -->

<div id="yagamiRecruitPanel" style="display: none; background: rgba(0, 212, 255, 0.05); border: 2px dashed #00d4ff; padding: 20px; border-radius: 15px; margin-bottom: 25px;">
    <h3 style="color: #00d4ff;"><i class="fas fa-user-shield"></i> Painel de Gerenciamento Staff (Mestre: Yagami)</h3>
    <p>Gerencie o cargo de usuários cadastrados no site.</p>
    <div class="input-group">
        <input type="text" id="recruitUsername" class="form-control" placeholder="Username exato do usuário..." style="background: rgba(0,0,0,0.2); color: white; border: 1px solid #00d4ff;">
        <div class="input-group-append">
            <button class="btn btn-info" onclick="yagamiManageStaff('promote')">
                <i class="fas fa-check"></i> Promover
            </button>
            <button class="btn btn-danger" onclick="yagamiManageStaff('demote')" style="margin-left: 5px; background-color: #ff4757; border-color: #ff4757;">
                <i class="fas fa-user-minus"></i> Remover Staff
            </button>
        </div>
    </div>
    <div id="recruitFeedback" style="margin-top: 10px; font-weight: bold;"></div>
</div>

<section class="support-section" id="support" data-aos="fade-up">
    <div class="support-container">
        <div class="support-header" data-aos="fade-down">
            <h2><i class="fas fa-headset"></i> <span data-i18n="support.title">Centro de Suporte</span></h2>
            <p data-i18n="support.subtitle">Envie seus pedidos e acompanhe o status em tempo real</p>
        </div>
        
        <div class="support-content">

          <div class="staff-panel business-mission-control" id="staffBusinessPanel" style="display: none;" data-aos="zoom-in">
    <div class="mission-header d-flex justify-content-between align-items-center mb-4">
        <div>
            <h2 class="neon-text"><i class="fas fa-satellite-dish"></i> Business Staff Control</h2>
            <div class="staff-stats-mini">
                <span class="badge badge-info"><i class="fas fa-user-shield"></i> Operativo: <span id="currentStaffName">---</span></span>
                <span class="badge badge-warning"><i class="fas fa-trophy"></i> XP Ganho: <span id="staffXP">0</span></span>
            </div>
        </div>
        <div class="filter-dashboard">
            <button class="btn-mission-filter active" onclick="filterBiz('all')">Todas</button>
            <button class="btn-mission-filter" onclick="filterBiz('open')">Ativas</button>
        </div>
    </div>
    
    <div id="businessRequestsList" class="mission-grid">
        </div>
</div>

<style>
    .business-mission-control {
        background: rgba(10, 10, 25, 0.95);
        border: 2px solid #00d4ff;
        box-shadow: 0 0 20px rgba(0, 212, 255, 0.3);
        border-radius: 20px;
        padding: 30px;
        color: white;
    }
    .neon-text { color: #00d4ff; text-shadow: 0 0 10px #00d4ff; font-weight: 800; }
    .mission-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)); gap: 20px; }
    
    .mission-card {
        background: rgba(255, 255, 255, 0.05);
        border: 1px solid rgba(0, 212, 255, 0.2);
        border-radius: 15px;
        padding: 20px;
        transition: 0.3s;
        position: relative;
    }
    .mission-card:hover { border-color: #00d4ff; transform: translateY(-5px); background: rgba(0, 212, 255, 0.1); }
    
    .priority-tag { position: absolute; top: 15px; right: 15px; font-size: 10px; padding: 3px 10px; border-radius: 10px; }
    .p-high { background: #ff4757; color: white; }
    .p-medium { background: #ffa502; color: white; }
    .p-low { background: #2ed573; color: white; }
    
    .mission-body p { font-size: 0.9rem; color: #ccc; margin-top: 10px; background: rgba(0,0,0,0.3); padding: 10px; border-radius: 8px; }
    .btn-action { border-radius: 5px; font-size: 0.75rem; padding: 8px; margin: 2px; flex: 1; border: none; cursor: pointer; transition: 0.2s; }
    .btn-claim { background: #1e3799; color: white; }
    .btn-resolve { background: #009432; color: white; }
    .btn-delete { background: #ea2027; color: white; }
</style>

<style>
    .biz-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(350px, 1fr)); gap: 20px; }
    .biz-card { 
        background: rgba(255, 255, 255, 0.03);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 15px;
        padding: 20px;
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
    }
    .biz-card:hover { transform: translateY(-5px); background: rgba(255, 255, 255, 0.07); border-color: #00d4ff; }
    .priority-indicator { position: absolute; top: 0; left: 0; width: 5px; height: 100%; }
    .priority-high { background: #ff4757; box-shadow: 0 0 10px #ff4757; }
    .priority-medium { background: #ffa502; }
    .priority-low { background: #2ed573; }
    .biz-meta { font-size: 0.85rem; color: #aaa; margin-bottom: 15px; }
    .internal-note-box { 
        background: rgba(255, 165, 2, 0.1); 
        border-radius: 8px; 
        padding: 10px; 
        margin-top: 10px; 
        border-left: 3px solid #ffa502;
        font-size: 0.85rem;
    }
    .biz-actions .btn { border-radius: 20px; font-size: 0.8rem; }
    .status-select, .priority-select {
        background: #1a1a1a;
        color: white;
        border: 1px solid #333;
        border-radius: 5px;
        font-size: 0.8rem;
        padding: 2px 5px;
    }
    
</style>

<script>
    let currentBizFilter = 'all';

// Traduções extras divertidas
const funTranslations = {
    pt: {
        'business.priority_high': 'CRÍTICO 💀',
        'business.priority_medium': 'IMPORTANTE ⚡',
        'business.priority_low': 'TRANQUILO 🍃',
        'business.claim': 'ACEITAR MISSÃO',
        'business.resolve': 'COMPLETAR ✅',
        'business.reply_btn': 'CONTATAR'
    },
    en: {
        'business.priority_high': 'CRITICAL 💀',
        'business.priority_medium': 'IMPORTANT ⚡',
        'business.priority_low': 'CHILL 🍃',
        'business.claim': 'START MISSION',
        'business.resolve': 'COMPLETE ✅',
        'business.reply_btn': 'CONTACT'
    }
};

// Variável para rastrear XP da Staff (Persistente no navegador)
let staffXP = localStorage.getItem('xpr_staff_xp') || 0;

function loadBusinessPanel() {
    const list = document.getElementById('businessRequestsList');
    if (!list || !currentUser || currentUser.type !== 'staff') return;

    document.getElementById('currentStaffName').innerText = currentUser.username;
    document.getElementById('staffXP').innerText = staffXP;

    const filtered = businessRequests.filter(req => 
        currentBizFilter === 'all' ? true : req.status === 'open'

    );

    list.innerHTML = filtered.map((req, index) => {
        const rIndex = businessRequests.indexOf(req);
        return `
        <div class="mission-card">
            <span class="priority-tag p-${req.priority || 'medium'}">
                ${translations[currentLanguage]['biz.' + (req.priority || 'med')]}
            </span>
            
            <h5 class="neon-text">${req.subject}</h5>
            <div class="small mb-2">
                <strong>${req.name}</strong> (${req.company})<br>
                <i class="fas fa-clock"></i> ${req.date}
            </div>

            <div class="mission-body">
                <p>${req.message}</p>
            </div>

            <div class="internal-note small text-warning mb-2">
                ${req.internalNote ? `🔒 <i>${req.internalNote}</i>` : ''}
            </div>

            <div class="d-flex flex-wrap">
                <button onclick="claimMission(${rIndex})" class="btn-action btn-claim">
                    <i class="fas fa-hand-paper"></i> ${req.assignedTo || translations[currentLanguage]['biz.claim']}
                </button>
                <button onclick="addInternalNote(${rIndex})" class="btn-action btn-warning">
                    <i class="fas fa-sticky-note"></i>
                </button>
                <button onclick="resolveMission(${rIndex})" class="btn-action btn-resolve">
                    <i class="fas fa-check-double"></i>
                </button>
                <button onclick="deleteMission(${rIndex})" class="btn-action btn-delete">
                    <i class="fas fa-trash"></i>
                </button>
            </div>

            <div class="mt-2 d-flex gap-1">
                <select class="form-control form-control-sm bg-dark text-white border-info" onchange="updateBizPriority(${rIndex}, this.value)">
                    <option value="low" ${req.priority==='low'?'selected':''}>Prioridade Baixa</option>
                    <option value="medium" ${req.priority==='medium'?'selected':''}>Prioridade Média</option>
                    <option value="high" ${req.priority==='high'?'selected':''}>Prioridade Alta</option>
                </select>
            </div>
        </div>`;
    }).join('');
}

// Substitua o loadBusinessPanel local por este global
function loadGlobalBusinessPanel() {
    database.ref('business_requests').on('value', (snapshot) => {
        const data = snapshot.val();
        businessRequests = data ? Object.values(data) : [];
        
        // Chama a função que já tem para renderizar os cards na tela
        renderBusinessRequests(); 
        updateAdminStats();
    });
}

// FUNÇÕES DE MANIPULAÇÃO
function claimMission(index) {
    businessRequests[index].assignedTo = currentUser.username;
    saveAndRefresh();
}

function resolveMission(index) {
    if(confirm("Deseja marcar este contrato como resolvido?")) {
        businessRequests[index].status = 'closed';
        staffXP = parseInt(staffXP) + 50;
        localStorage.setItem('xpr_staff_xp', staffXP);
        saveAndRefresh();
        alert(translations[currentLanguage]['biz.msg_resolved']);
    }
}

function addInternalNote(index) {
    const note = prompt("Nota Interna (Só a Staff vê):", businessRequests[index].internalNote || "");
    if(note !== null) {
        businessRequests[index].internalNote = note;
        saveAndRefresh();
    }
}

function updateBizPriority(index, level) {
    businessRequests[index].priority = level;
    saveAndRefresh();
}

function deleteMission(index) {
    if(confirm("Apagar permanentemente este registo?")) {
        businessRequests.splice(index, 1);
        saveAndRefresh();
    }
}

// 1. Função para Exportar Dados (Backup)
function exportBusinessData() {
    const dataStr = "data:text/json;charset=utf-8," + encodeURIComponent(JSON.stringify(businessRequests));
    const downloadAnchorNode = document.createElement('a');
    downloadAnchorNode.setAttribute("href", dataStr);
    downloadAnchorNode.setAttribute("download", "xpr_business_report_" + new Date().toLocaleDateString() + ".json");
    document.body.appendChild(downloadAnchorNode);
    downloadAnchorNode.click();
    downloadAnchorNode.remove();
}

// 2. Função para Limpar Tudo (Cuidado!)
function clearBusinessDatabase() {
    if (confirm("⚠️ AVISO DE ADMINISTRADOR: Deseja apagar TODAS as propostas de business do sistema? Esta ação é irreversível.")) {
        businessRequests = [];
        localStorage.removeItem('xpr_business_requests');
        loadBusinessPanel();
        updateAdminStats();
    }
}

// 3. Atualização de Estatísticas em Tempo Real
function updateAdminStats() {
    if (!document.getElementById('statTotal')) return;
    
    const total = businessRequests.length;
    const resolved = businessRequests.filter(r => r.status === 'closed').length;
    const percentage = total > 0 ? Math.round((resolved / total) * 100) : 0;

    document.getElementById('statTotal').innerText = total;
    document.getElementById('statResolved').innerText = percentage + "%";
}

// 4. Sistema de Auditoria (Saber quem fez o quê)
function logAuditAction(action, targetId) {
    const auditEntry = {
        staff: currentUser.username,
        action: action,
        target: targetId,
        timestamp: new Date().toLocaleString()
    };
    let logs = JSON.parse(localStorage.getItem('xpr_audit_logs')) || [];
    logs.push(auditEntry);
    localStorage.setItem('xpr_audit_logs', JSON.stringify(logs));
}

// Aprimorando a função de deletar para administradores
function deleteMission(index) {
    const req = businessRequests[index];
    if(confirm(`Eliminar proposta de ${req.company}?`)) {
        logAuditAction("DELETED_PROPOSAL", req.id);
        businessRequests.splice(index, 1);
        saveAndRefresh();
        updateAdminStats();
    }
}

// Integre a atualização de stats no seu loadBusinessPanel
const originalLoadBusiness = loadBusinessPanel;
loadBusinessPanel = function() {
    originalLoadBusiness();
    updateAdminStats();
};

function saveAndRefresh() {
    localStorage.setItem('xpr_business_requests', JSON.stringify(businessRequests));
    loadBusinessPanel();
}

function getPriorityHex(p) {
    if (p === 'high') return '#ff4757';
    if (p === 'medium') return '#ffa502';
    return '#2ed573';
}

// Funções de manipulação permanecem as mesmas das versões anteriores, 
// apenas adicionei um alerta divertido
function resolveBiz(index) {
    businessRequests[index].status = 'closed';
    saveBiz();
    // Efeito de sucesso
    alert("✨ MISSÃO CUMPRIDA! +100 XP para " + currentUser.username);
}
// Funções de Gestão Pro
function updateBizData(index, field, value) {
    businessRequests[index][field] = value;
    saveAndRefresh();
}

function claimBiz(index) {
    businessRequests[index].assignedStaff = currentUser.username;
    businessRequests[index].status = 'progress'; // Muda automaticamente para "Em análise"
    saveAndRefresh();
}

function addBizNote(index) {
    const note = prompt("Nota Interna (Só a staff vê):", businessRequests[index].internalNote || "");
    if (note !== null) {
        businessRequests[index].internalNote = note;
        saveAndRefresh();
    }
}

function filterBiz(status) {
    currentBizFilter = status;
    // Atualiza botões
    document.getElementById('btnFilterAll').classList.toggle('active', status === 'all');
    document.getElementById('btnFilterOpen').classList.toggle('active', status === 'open');
    loadBusinessPanel();
}

function saveAndRefresh() {
    localStorage.setItem('xpr_business_requests', JSON.stringify(businessRequests));
    loadBusinessPanel();
}

// --- NOVAS FUNÇÕES DE ADMINISTRAÇÃO ---

// 1. Função para Abrir/Reabrir ou Fechar Manualmente
function toggleTicketStatus(index) {
    const currentStatus = businessRequests[index].status;
    const newStatus = (currentStatus === 'open' || currentStatus === 'progress') ? 'closed' : 'open';
    
    const confirmMsg = newStatus === 'open' ? "Deseja reabrir este ticket?" : "Deseja fechar este ticket?";
    
    if(confirm(confirmMsg)) {
        businessRequests[index].status = newStatus;
        addAuditLog(index, `Status alterado para ${newStatus}`);
        saveAndRefresh();
    }
}

// 2. Função para Editar o Conteúdo Original (Aprimorar)
function editMissionContent(index) {
    const req = businessRequests[index];
    const newSubject = prompt("Editar Assunto:", req.subject);
    const newMessage = prompt("Editar Mensagem do Cliente:", req.message);
    
    if (newSubject !== null && newMessage !== null) {
        businessRequests[index].subject = newSubject;
        businessRequests[index].message = newMessage;
        addAuditLog(index, "Conteúdo editado pelo admin");
        saveAndRefresh();
    }
}

// 3. Sistema de Auditoria Interna (Histórico)
function addAuditLog(index, action) {
    if (!businessRequests[index].logs) businessRequests[index].logs = [];
    businessRequests[index].logs.push({
        staff: currentUser.username,
        action: action,
        time: new Date().toLocaleString()
    });
}

// 4. Ver Histórico de Modificações
function viewMissionLogs(index) {
    const logs = businessRequests[index].logs || [];
    if (logs.length === 0) return alert("Nenhum histórico disponível.");
    
    let logMsg = "Histórico de Auditoria:\n";
    logs.forEach(l => logMsg += `[${l.time}] ${l.staff}: ${l.action}\n`);
    alert(logMsg);
}

// 5. Filtro por Prioridade (Para a UI)
let currentPriorityFilter = 'all';
function filterByPriority(priority) {
    currentPriorityFilter = priority;
    loadBusinessPanel();
}

// Dentro do seu map no loadBusinessPanel:
list.innerHTML = filtered.map((req, index) => {
    const rIndex = businessRequests.indexOf(req);
    const isClosed = req.status === 'closed';

    return `
    <div class="mission-card ${isClosed ? 'opacity-75' : ''}" style="border-top: 4px solid ${getPriorityColor(req.priority)}">
        <div class="d-flex justify-content-between align-items-start mb-2">
            <span class="badge ${isClosed ? 'badge-secondary' : 'badge-success'}">
                ${isClosed ? 'FECHADO' : 'ATIVO'}
            </span>
            <div class="dropdown">
                <button class="btn btn-sm text-white" onclick="viewMissionLogs(${rIndex})"><i class="fas fa-history"></i></button>
                <button class="btn btn-sm text-white" onclick="editMissionContent(${rIndex})"><i class="fas fa-edit"></i></button>
            </div>
        </div>

        <h5 class="neon-text">${req.subject}</h5>
        
        <div class="d-flex flex-wrap gap-1 mt-3">
            <button onclick="toggleTicketStatus(${rIndex})" class="btn-action ${isClosed ? 'btn-info' : 'btn-secondary'}">
                <i class="fas ${isClosed ? 'fa-folder-open' : 'fa-folder'}"></i> 
                ${isClosed ? 'Reabrir' : 'Fechar'}
            </button>

            <button onclick="contactUser(${rIndex})" class="btn-action btn-success">
                <i class="fas fa-paper-plane"></i> Responder
            </button>

            <button onclick="deleteMission(${rIndex})" class="btn-action btn-danger">
                <i class="fas fa-trash-alt"></i>
            </button>
        </div>
        
        <div class="mt-2">
            <label class="small text-muted m-0">Prioridade Operacional:</label>
            <select class="form-control form-control-sm bg-dark text-white border-secondary" 
                onchange="updateBizPriority(${rIndex}, this.value)" 
                style="color: ${getPriorityColor(req.priority)} !important">
                <option value="low" ${req.priority==='low'?'selected':''}>🍃 Baixa</option>
                <option value="medium" ${req.priority==='medium'?'selected':''}>⚡ Média</option>
                <option value="high" ${req.priority==='high'?'selected':''}>💀 Alta / Urgente</option>
            </select>
        </div>
    </div>`;
}).join('');

// Função auxiliar para cores
function getPriorityColor(p) {
    if (p === 'high') return '#ff4757';
    if (p === 'medium') return '#ffa502';
    return '#2ed573';
}

// 1. Configurar o login mestre do Yagami na inicialização
const originalInitialize = initializeDataStore;
initializeDataStore = function() {
    originalInitialize(); // Executa a inicialização padrão
    
    let users = JSON.parse(localStorage.getItem('xpr_users'));
    let staffList = JSON.parse(localStorage.getItem('xpr_staff_list'));

    // Garante que o Yagami exista com a senha específica
    users['Yagami_TheScripter'] = {
        username: 'Yagami_TheScripter',
        password: 'Yagami_110308', // Sua senha definida
        email: 'yagami@xprstudio.com',
        type: 'staff',
        createdAt: new Date().toISOString()
    };
    
    if (!staffList.includes('Yagami_TheScripter')) {
        staffList.push('Yagami_TheScripter');
    }

    localStorage.setItem('xpr_users', JSON.stringify(users));
    localStorage.setItem('xpr_staff_list', JSON.stringify(staffList));
};

// 2. Função para mostrar o painel apenas para o Yagami
function checkYagamiPrivileges() {
    const panel = document.getElementById('yagamiRecruitPanel');
    if (currentUser && currentUser.username === 'Yagami_TheScripter') {
        panel.style.display = 'block';
    } else {
        panel.style.display = 'none';
    }
}

// 3. Função de Promoção por Nome de Usuário
function yagamiPromoteUser() {
    const usernameToPromote = document.getElementById('recruitUsername').value.trim();
    const feedback = document.getElementById('recruitFeedback');
    
    let users = JSON.parse(localStorage.getItem('xpr_users'));
    let staffList = JSON.parse(localStorage.getItem('xpr_staff_list'));

    if (!users[usernameToPromote]) {
        feedback.style.color = "#ff6b6b";
        feedback.innerText = "❌ Erro: Usuário não encontrado no banco de dados.";
        return;
    }

    if (users[usernameToPromote].type === 'staff') {
        feedback.style.color = "#ffce00";
        feedback.innerText = "⚠️ Este usuário já é um membro da Staff.";
        return;
    }

    // Processo de promoção
    users[usernameToPromote].type = 'staff';
    if (!staffList.includes(usernameToPromote)) {
        staffList.push(usernameToPromote);
    }

    localStorage.setItem('xpr_users', JSON.stringify(users));
    localStorage.setItem('xpr_staff_list', JSON.stringify(staffList));

    feedback.style.color = "#00ff88";
    feedback.innerText = `✅ Sucesso! ${usernameToPromote} agora é Staff.`;
    document.getElementById('recruitUsername').value = "";
    
    // Log de auditoria (se o seu código já tiver a função logAuditAction)
    if (typeof logAuditAction === "function") {
        logAuditAction("PROMOTED_BY_YAGAMI", usernameToPromote);
    }
}

// 4. Hook na função de exibir conteúdo principal
if (!window.originalShowMainContentHooked) {
    const originalShowMainContent = window.showMainContent;
    window.showMainContent = function() {
        originalShowMainContent();
        checkYagamiPrivileges(); // Verifica se o painel do Yagami deve aparecer
    };
    window.originalShowMainContentHooked = true;
}

</script>


            <!-- User Form -->
            <div class="support-form-section" data-aos="fade-right">
                <div class="form-header">
                    <h3><i class="fas fa-paper-plane"></i> <span data-i18n="support.new_request">Novo Pedido</span></h3>
                </div>
                <form onsubmit="submitSupportTicket(event)">
                    <div class="form-group">
                        <label for="ticketName" data-i18n="support.name">Nome:</label>
                        <input type="text" id="ticketName" data-i18n-placeholder="support.name_placeholder" placeholder="Seu nome completo" required>
                    </div>
                    <div class="form-group">
                        <label for="ticketEmail" data-i18n="support.email">Email:</label>
                        <input type="email" id="ticketEmail" data-i18n-placeholder="support.email_placeholder" placeholder="seu@email.com" required>
                    </div>
                    <div class="form-group">
                        <label for="ticketCategory" data-i18n="support.category">Categoria:</label>
                        <select id="ticketCategory" required>
                            <option value="" data-i18n="support.select_category">Selecione uma categoria</option>
                            <option value="bug" data-i18n="support.category_bug">🐛 Reportar Bug</option>
                            <option value="sugestao" data-i18n="support.category_suggestion">💡 Sugestão</option>
                            <option value="problema" data-i18n="support.category_technical">⚠️ Problema Técnico</option>
                            <option value="outro" data-i18n="support.category_other">❓ Outro</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="ticketMessage" data-i18n="support.message">Mensagem:</label>
                        <textarea id="ticketMessage" data-i18n-placeholder="support.message_placeholder" placeholder="Descreva seu problema ou sugestão..." required></textarea>
                    </div>
                    <button type="submit" class="btn-submit-support"><i class="fas fa-paper-plane"></i> <span data-i18n="support.submit_request">Enviar Pedido</span></button>
                </form>
            </div>

            <!-- Staff Panel -->
            <div class="staff-panel" id="staffPanel" style="display: none;" data-aos="fade-left">
                <div class="form-header">
                    <h3><i class="fas fa-tasks"></i> <span data-i18n="support.staff_panel">Painel de Staff</span></h3>
                    <span class="staff-badge" data-i18n="support.manager">Gerenciador</span>
                </div>
                <div id="ticketsList"></div>
            </div>



            <!-- Normal User View -->
            <div class="staff-panel" id="normalUserPanel" style="display: none;" data-aos="fade-left">
                <div class="form-header">
                    <h3><i class="fas fa-list"></i> <span data-i18n="support.my_requests">Meus Pedidos</span></h3>
                </div>
                <div id="userTicketsList"></div>
            </div>
        </div>
    </div>

    <!-- Adicionar na seção de suporte -->
<div id="translationTool" style="position: fixed; bottom: 200px; right: 20px; z-index: 999; display: none;">
    <div style="background: rgba(20,30,48,0.95); border-radius: 15px; padding: 15px; width: 300px; box-shadow: 0 10px 30px rgba(0,0,0,0.3); backdrop-filter: blur(10px); border: 1px solid rgba(108,92,231,0.3);">
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
            <h5 style="color: #6c5ce7; margin: 0;"><i class="fas fa-language"></i> Tradutor</h5>
            <button onclick="closeTranslationTool()" style="background: none; border: none; color: #999; cursor: pointer;">
                <i class="fas fa-times"></i>
            </button>
        </div>
        
        <textarea id="translateInput" placeholder="Digite o texto para traduzir..." style="width: 100%; height: 80px; padding: 10px; border-radius: 8px; border: 1px solid rgba(108,92,231,0.3); background: rgba(0,0,0,0.3); color: white; resize: none; margin-bottom: 10px;"></textarea>
        
        <select id="targetLanguage" style="width: 100%; padding: 8px; border-radius: 8px; border: 1px solid rgba(108,92,231,0.3); background: rgba(0,0,0,0.3); color: white; margin-bottom: 10px;">
            <option value="en">Inglês</option>
            <option value="es">Espanhol</option>
            <option value="fr">Francês</option>
            <option value="de">Alemão</option>
            <option value="it">Italiano</option>
            <option value="ja">Japonês</option>
            <option value="ko">Coreano</option>
        </select>
        
        <button onclick="translateText()" style="width: 100%; background: linear-gradient(135deg, #6c5ce7 0%, #5f3dc4 100%); color: white; border: none; padding: 10px; border-radius: 8px; cursor: pointer; margin-bottom: 10px;">
            <i class="fas fa-exchange-alt"></i> Traduzir
        </button>
        
        <div id="translationResult" style="background: rgba(0,0,0,0.3); padding: 10px; border-radius: 8px; min-height: 50px; color: white; font-size: 0.9rem;">
            Resultado aparecerá aqui...
        </div>
        
        <button onclick="copyTranslation()" style="width: 100%; background: rgba(0,212,255,0.2); color: #00d4ff; border: 1px solid #00d4ff; padding: 8px; border-radius: 8px; cursor: pointer; margin-top: 10px; font-size: 0.8rem;">
            <i class="fas fa-copy"></i> Copiar Tradução
        </button>
    </div>
</div>

<button onclick="toggleTranslationTool()" style="position: fixed; bottom: 200px; right: 20px; z-index: 998; background: #6c5ce7; color: white; border: none; border-radius: 50%; width: 40px; height: 40px; font-size: 1.2rem; cursor: pointer; box-shadow: 0 4px 15px rgba(108,92,231,0.3);">
    <i class="fas fa-language"></i>
</button>

<script>
let translationHistory = [];

function toggleTranslationTool() {
    const tool = document.getElementById('translationTool');
    tool.style.display = tool.style.display === 'none' ? 'block' : 'none';
}

function closeTranslationTool() {
    document.getElementById('translationTool').style.display = 'none';
}

async function translateText() {
    const text = document.getElementById('translateInput').value;
    const targetLang = document.getElementById('targetLanguage').value;
    const resultDiv = document.getElementById('translationResult');
    
    if (!text.trim()) {
        resultDiv.innerHTML = '<span style="color: #ff6b6b;">Por favor, digite algum texto</span>';
        return;
    }
    
    resultDiv.innerHTML = '<span style="color: #00d4ff;"><i class="fas fa-spinner fa-spin"></i> Traduzindo...</span>';
    
    try {
        // Usando API gratuita do LibreTranslate (pode precisar de servidor proxy em produção)
        const response = await fetch(`https://libretranslate.com/translate`, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({
                q: text,
                source: 'auto',
                target: targetLang,
                format: 'text'
            })
        });
        
        const data = await response.json();
        
        if (data.translatedText) {
            resultDiv.innerHTML = `
                <div style="margin-bottom: 5px;"><strong>Tradução:</strong></div>
                <div style="background: rgba(108,92,231,0.1); padding: 8px; border-radius: 5px;">${data.translatedText}</div>
            `;
            
            // Salvar no histórico
            translationHistory.push({
                original: text,
                translated: data.translatedText,
                language: targetLang,
                date: new Date().toLocaleTimeString()
            });
            
            if (translationHistory.length > 10) translationHistory.shift();
            localStorage.setItem('xpr_translation_history', JSON.stringify(translationHistory));
        } else {
            resultDiv.innerHTML = '<span style="color: #ff6b6b;">Erro na tradução. Tente novamente.</span>';
        }
    } catch (error) {
        console.error('Translation error:', error);
        resultDiv.innerHTML = '<span style="color: #ff6b6b;">Erro de conexão. Usando tradução simulada...</span>';
        
        // Fallback com tradução simulada
        setTimeout(() => {
            resultDiv.innerHTML = `
                <div style="margin-bottom: 5px;"><strong>Tradução (simulada):</strong></div>
                <div style="background: rgba(108,92,231,0.1); padding: 8px; border-radius: 5px;">
                    ${text} [Traduzido para ${document.querySelector('#targetLanguage option:checked').textContent}]
                </div>
            `;
        }, 1000);
    }
}

function copyTranslation() {
    const resultDiv = document.getElementById('translationResult');
    const text = resultDiv.innerText.replace('Tradução:', '').trim();
    
    navigator.clipboard.writeText(text).then(() => {
        const originalColor = resultDiv.style.color;
        resultDiv.style.color = '#00d4ff';
        setTimeout(() => {
            resultDiv.style.color = originalColor;
        }, 1000);
    });
}

// Carregar histórico
document.addEventListener('DOMContentLoaded', () => {
    translationHistory = JSON.parse(localStorage.getItem('xpr_translation_history') || '[]');
});
</script>
</section>

</div>

<div id="notesWidget" style="position: fixed; bottom: 80px; right: 20px; z-index: 999;">
    <button onclick="toggleNotes()" id="notesMainBtn" style="background: #00d4ff; color: white; border: none; border-radius: 50%; width: 50px; height: 50px; font-size: 1.5rem; cursor: pointer; box-shadow: 0 4px 15px rgba(0,212,255,0.3);">
        <i class="fas fa-sticky-note"></i>
    </button>
    
    <div id="notesPanel" style="display: none; position: absolute; bottom: 60px; right: 0; width: 300px; background: rgba(20,30,48,0.95); border-radius: 15px; padding: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.3); backdrop-filter: blur(10px); border: 1px solid rgba(0,212,255,0.3);">
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
            <h4 id="notesTitle" style="color: #00d4ff; margin: 0;" data-i18n="notes.panel_title">Minhas Anotações</h4>
            <button onclick="addNewNote()" style="background: none; border: none; color: #00d4ff; cursor: pointer;">
                <i class="fas fa-plus"></i>
            </button>
        </div>
        <div id="notesList" style="max-height: 300px; overflow-y: auto;">
            </div>
    </div>
</div>

<script>
/* --- DICIONÁRIO DE TRADUÇÃO PARA NOTAS --- */
const notesTranslations = {
    'pt': {
        'notes.panel_title': 'Minhas Anotações',
        'notes.empty': 'Nenhuma anotação ainda',
        'notes.default_title': 'Nova Anotação',
        'notes.default_content': 'Clique para editar...',
        'notes.prompt_title': 'Título da anotação:',
        'notes.prompt_content': 'Conteúdo:',
        'notes.confirm_delete': 'Deseja deletar esta anotação?',
        'notes.btn_tooltip': 'Minhas Notas'
    },
    'en': {
        'notes.panel_title': 'My Notes',
        'notes.empty': 'No notes yet',
        'notes.default_title': 'New Note',
        'notes.default_content': 'Click to edit...',
        'notes.prompt_title': 'Note title:',
        'notes.prompt_content': 'Content:',
        'notes.confirm_delete': 'Do you want to delete this note?',
        'notes.btn_tooltip': 'My Notes'
    },
    'es': {
        'notes.panel_title': 'Mis Notas',
        'notes.empty': 'Aún no hay notas',
        'notes.default_title': 'Nueva Nota',
        'notes.default_content': 'Haga clic para editar...',
        'notes.prompt_title': 'Título de la nota:',
        'notes.prompt_content': 'Contenido:',
        'notes.confirm_delete': '¿Quieres eliminar esta nota?',
        'notes.btn_tooltip': 'Mis Notas'
    },
    'de': {
        'notes.panel_title': 'Meine Notizen',
        'notes.empty': 'Noch keine Notizen',
        'notes.default_title': 'Neue Notiz',
        'notes.default_content': 'Klicken zum Bearbeiten...',
        'notes.prompt_title': 'Notiztitel:',
        'notes.prompt_content': 'Inhalt:',
        'notes.confirm_delete': 'Möchten Sie diese Notiz löschen?',
        'notes.btn_tooltip': 'Meine Notizen'
    },
    'it': {
        'notes.panel_title': 'Le Mie Note',
        'notes.empty': 'Ancora nessuna nota',
        'notes.default_title': 'Nuova Nota',
        'notes.default_content': 'Clicca per modificare...',
        'notes.prompt_title': 'Titolo della nota:',
        'notes.prompt_content': 'Contenuto:',
        'notes.confirm_delete': 'Vuoi cancellare questa nota?',
        'notes.btn_tooltip': 'Le Mie Note'
    }
};

// Função para obter o idioma atual (fallback para 'pt')
function getAppLang() {
    return (typeof currentLanguage !== 'undefined') ? currentLanguage : 'pt';
}

function getNoteText(key) {
    const lang = getAppLang();
    return notesTranslations[lang][key] || notesTranslations['pt'][key];
}

/* --- LÓGICA DO WIDGET --- */
function toggleNotes() {
    const panel = document.getElementById('notesPanel');
    panel.style.display = panel.style.display === 'none' ? 'block' : 'none';
    if (panel.style.display === 'block') {
        updateNotesUI(); // Atualiza textos estáticos ao abrir
        loadNotes();
    }
}

// Atualiza os textos do painel de acordo com o idioma
function updateNotesUI() {
    document.getElementById('notesTitle').innerText = getNoteText('notes.panel_title');
    document.getElementById('notesMainBtn').title = getNoteText('notes.btn_tooltip');
}

function addNewNote() {
    const notes = JSON.parse(localStorage.getItem('xpr_notes') || '[]');
    const note = {
        id: Date.now(),
        title: getNoteText('notes.default_title'),
        content: '',
        date: new Date().toLocaleDateString(),
        color: '#00d4ff'
    };
    notes.push(note);
    localStorage.setItem('xpr_notes', JSON.stringify(notes));
    loadNotes();
    editNote(note.id);
}

function loadNotes() {
    const notes = JSON.parse(localStorage.getItem('xpr_notes') || '[]');
    const container = document.getElementById('notesList');
    
    if (notes.length === 0) {
        container.innerHTML = `<p style="color: #999; text-align: center; padding: 20px;">${getNoteText('notes.empty')}</p>`;
        return;
    }
    
    container.innerHTML = notes.map(note => `
        <div class="note-item" style="background: ${note.color}20; border-left: 4px solid ${note.color}; padding: 10px; margin-bottom: 10px; border-radius: 8px;">
            <div style="display: flex; justify-content: space-between;">
                <strong style="color: ${note.color};">${note.title}</strong>
                <div>
                    <button onclick="editNote(${note.id})" style="background: none; border: none; color: ${note.color}; cursor: pointer; margin-right: 5px;">
                        <i class="fas fa-edit"></i>
                    </button>
                    <button onclick="deleteNote(${note.id})" style="background: none; border: none; color: #ff6b6b; cursor: pointer;">
                        <i class="fas fa-trash"></i>
                    </button>
                </div>
            </div>
            <p style="color: white; font-size: 0.9rem; margin: 5px 0; white-space: pre-wrap;">${note.content || getNoteText('notes.default_content')}</p>
            <small style="color: ${note.color}; opacity: 0.7;">${note.date}</small>
        </div>
    `).join('');
}

function editNote(id) {
    const notes = JSON.parse(localStorage.getItem('xpr_notes') || '[]');
    const noteIndex = notes.findIndex(n => n.id === id);
    if (noteIndex === -1) return;

    const newTitle = prompt(getNoteText('notes.prompt_title'), notes[noteIndex].title);
    if (newTitle === null) return;
    
    const newContent = prompt(getNoteText('notes.prompt_content'), notes[noteIndex].content);
    if (newContent === null) return;
    
    notes[noteIndex].title = newTitle;
    notes[noteIndex].content = newContent;
    notes[noteIndex].date = new Date().toLocaleDateString();
    
    localStorage.setItem('xpr_notes', JSON.stringify(notes));
    loadNotes();
}

function deleteNote(id) {
    if (confirm(getNoteText('notes.confirm_delete'))) {
        let notes = JSON.parse(localStorage.getItem('xpr_notes') || '[]');
        notes = notes.filter(n => n.id !== id);
        localStorage.setItem('xpr_notes', JSON.stringify(notes));
        loadNotes();
    }
}

// Inicializar Tooltip
setTimeout(updateNotesUI, 2000);
</script>

<!-- Adicionar após a seção de suporte, antes do footer -->
<section class="tasks-section hidden" id="tasksManager" data-aos="fade-up">
    <script>
        
    </script>

    <div class="tasks-container">
        <div class="tasks-header">
            <h2><i class="fas fa-tasks"></i> <span data-i18n="tasks.title">Gerenciador de Tarefas</span></h2>
            <p data-i18n="tasks.subtitle">Sistema exclusivo para equipe XPR Studio</p>
        </div>
        
        <div class="tasks-controls">
            <div class="task-filters">
                <button class="filter-btn active" onclick="filterTasks('all')" data-i18n="tasks.filter_all">Todas</button>
                <button class="filter-btn" onclick="filterTasks('todo')" data-i18n="tasks.filter_todo">A Fazer</button>
                <button class="filter-btn" onclick="filterTasks('progress')" data-i18n="tasks.filter_progress">Em Progresso</button>
                <button class="filter-btn" onclick="filterTasks('review')" data-i18n="tasks.filter_review">Revisão</button>
                <button class="filter-btn" onclick="filterTasks('completed')" data-i18n="tasks.filter_completed">Concluídas</button>
                <button class="filter-btn" onclick="filterTasks('high')"><i class="fas fa-fire"></i> <span data-i18n="tasks.filter_high">Alta</span></button>
            </div>
            
            <div class="task-actions">
                <button class="btn-task-action" onclick="openTaskModal('new')">
                    <i class="fas fa-plus"></i> <span data-i18n="tasks.new_task">Nova Tarefa</span>
                </button>
                <button class="btn-task-action" onclick="exportTasks()">
                    <i class="fas fa-download"></i> <span data-i18n="tasks.export">Exportar</span>
                </button>
                <button class="btn-task-action" onclick="importTasks()">
                    <i class="fas fa-upload"></i> <span data-i18n="tasks.import">Importar</span>
                </button>
            </div>
        </div>
        
        <div class="tasks-stats">
            <div class="task-stat">
                <div class="stat-icon"><i class="fas fa-clock"></i></div>
                <div class="stat-info">
                    <div class="stat-number" id="totalTasks">0</div>
                    <div class="stat-label" data-i18n="tasks.total">Total</div>
                </div>
            </div>
            <div class="task-stat">
                <div class="stat-icon"><i class="fas fa-exclamation-triangle"></i></div>
                <div class="stat-info">
                    <div class="stat-number" id="urgentTasks">0</div>
                    <div class="stat-label" data-i18n="tasks.urgent">Urgentes</div>
                </div>
            </div>
            <div class="task-stat">
                <div class="stat-icon"><i class="fas fa-check-circle"></i></div>
                <div class="stat-info">
                    <div class="stat-number" id="completedTasks">0</div>
                    <div class="stat-label" data-i18n="tasks.completed">Concluídas</div>
                </div>
            </div>
            <div class="task-stat">
                <div class="stat-icon"><i class="fas fa-chart-line"></i></div>
                <div class="stat-info">
                    <div class="stat-number" id="completionRate">0%</div>
                    <div class="stat-label" data-i18n="tasks.rate">Taxa Conclusão</div>
                </div>
            </div>
        </div>
        
        <div class="tasks-grid" id="tasksGrid">
            <!-- Tarefas serão carregadas aqui -->
            <div class="no-tasks">
                <i class="fas fa-clipboard-list"></i>
                <h3 data-i18n="tasks.no_tasks">Nenhuma tarefa criada</h3>
                <p data-i18n="tasks.no_tasks_desc">Comece criando sua primeira tarefa!</p>
                <button class="btn-task-action" onclick="openTaskModal('new')">
                    <i class="fas fa-plus"></i> <span data-i18n="tasks.create_first">Criar Primeira Tarefa</span>
                </button>
            </div>
        </div>
    </div>
</section>

<!-- Modal para criar/editar tarefa -->
<div class="task-modal" id="taskModal" style="display: none;">
    <div class="task-modal-overlay" onclick="closeTaskModal()"></div>
    <div class="task-modal-content">
        <div class="modal-header">
            <h3 id="modalTaskTitle"><i class="fas fa-tasks"></i> <span data-i18n="tasks.new_task">Nova Tarefa</span></h3>
            <button class="modal-close" onclick="closeTaskModal()">
                <i class="fas fa-times"></i>
            </button>
        </div>
        
        <form id="taskForm" onsubmit="saveTask(event)">
            <input type="hidden" id="taskId" value="">
            <input type="hidden" id="taskCreatedAt" value="">
            
            <div class="form-row">
                <div class="form-group">
                    <label for="taskTitleInput"><i class="fas fa-heading"></i> <span data-i18n="tasks.title_label">Título:</span></label>
                    <input type="text" id="taskTitleInput" required maxlength="100" data-i18n-placeholder="tasks.title_placeholder" placeholder="Título da tarefa">
                </div>
                
                <div class="form-group">
                    <label for="taskPriority"><i class="fas fa-flag"></i> <span data-i18n="tasks.priority">Prioridade:</span></label>
                    <select id="taskPriority" required>
                        <option value="low" data-i18n="tasks.priority_low">Baixa</option>
                        <option value="medium" data-i18n="tasks.priority_medium" selected>Média</option>
                        <option value="high" data-i18n="tasks.priority_high">Alta</option>
                        <option value="urgent" data-i18n="tasks.priority_urgent">Urgente</option>
                    </select>
                </div>
            </div>
            
            <div class="form-group">
                <label for="taskDescription"><i class="fas fa-align-left"></i> <span data-i18n="tasks.description">Descrição:</span></label>
                <textarea id="taskDescription" rows="4" data-i18n-placeholder="tasks.description_placeholder" placeholder="Descreva a tarefa em detalhes..."></textarea>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label for="taskStatus"><i class="fas fa-tasks"></i> <span data-i18n="tasks.status">Status:</span></label>
                    <select id="taskStatus" required>
                        <option value="todo" data-i18n="tasks.status_todo">A Fazer</option>
                        <option value="progress" data-i18n="tasks.status_progress">Em Progresso</option>
                        <option value="review" data-i18n="tasks.status_review">Em Revisão</option>
                        <option value="completed" data-i18n="tasks.status_completed">Concluído</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="taskDeadline"><i class="fas fa-calendar-alt"></i> <span data-i18n="tasks.deadline">Prazo:</span></label>
                    <input type="date" id="taskDeadline">
                </div>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label for="taskAssignee"><i class="fas fa-user"></i> <span data-i18n="tasks.assignee">Responsável:</span></label>
                    <input type="text" id="taskAssignee" data-i18n-placeholder="tasks.assignee_placeholder" placeholder="Nome do responsável">
                </div>
                
                <div class="form-group">
                    <label for="taskCategory"><i class="fas fa-tag"></i> <span data-i18n="tasks.category">Categoria:</span></label>
                    <select id="taskCategory">
                        <option value="development" data-i18n="tasks.category_dev">Desenvolvimento</option>
                        <option value="design" data-i18n="tasks.category_design">Design</option>
                        <option value="testing" data-i18n="tasks.category_testing">Testes</option>
                        <option value="documentation" data-i18n="tasks.category_docs">Documentação</option>
                        <option value="meeting" data-i18n="tasks.category_meeting">Reunião</option>
                        <option value="other" data-i18n="tasks.category_other" selected>Outro</option>
                    </select>
                </div>
            </div>
            
            <div class="form-group">
                <label><i class="fas fa-tags"></i> <span data-i18n="tasks.tags">Tags:</span></label>
                <div class="tags-input">
                    <input type="text" id="taskTags" data-i18n-placeholder="tasks.tags_placeholder" placeholder="Adicione tags (separadas por vírgula)">
                    <div class="tags-suggestions">
                        <span class="tag-suggestion" onclick="addTag('bug')">bug</span>
                        <span class="tag-suggestion" onclick="addTag('feature')">feature</span>
                        <span class="tag-suggestion" onclick="addTag('urgent')">urgent</span>
                        <span class="tag-suggestion" onclick="addTag('backend')">backend</span>
                        <span class="tag-suggestion" onclick="addTag('frontend')">frontend</span>
                    </div>
                </div>
            </div>
            
            <div class="form-group">
                <label for="taskSubtasks"><i class="fas fa-list-check"></i> <span data-i18n="tasks.subtasks">Subtarefas:</span></label>
                <div id="subtasksContainer">
                    <!-- Subtarefas serão adicionadas aqui -->
                </div>
                <button type="button" class="btn-add-subtask" onclick="addSubtask()">
                    <i class="fas fa-plus"></i> <span data-i18n="tasks.add_subtask">Adicionar Subtarefa</span>
                </button>
            </div>
            
            <div class="form-group">
                <label for="taskComments"><i class="fas fa-comments"></i> <span data-i18n="tasks.notes">Anotações:</span></label>
                <textarea id="taskComments" rows="3" data-i18n-placeholder="tasks.notes_placeholder" placeholder="Adicione anotações ou comentários..."></textarea>
            </div>
            
            <div class="modal-actions">
                <button type="button" class="btn-modal-cancel" onclick="closeTaskModal()">
                    <i class="fas fa-times"></i> <span data-i18n="tasks.cancel">Cancelar</span>
                </button>
                <button type="submit" class="btn-modal-save">
                    <i class="fas fa-save"></i> <span data-i18n="tasks.save">Salvar Tarefa</span>
                </button>
            </div>
        </form>
    </div>
</div>

<!-- Modal de confirmação para exclusão -->
<div class="confirm-modal" id="confirmModal" style="display: none;">
    <div class="confirm-modal-overlay" onclick="closeConfirmModal()"></div>
    <div class="confirm-modal-content">
        <div class="confirm-header">
            <i class="fas fa-exclamation-triangle"></i>
            <h3 data-i18n="tasks.confirm_title">Confirmar Exclusão</h3>
        </div>
        <p id="confirmMessage" data-i18n="tasks.confirm_message">Tem certeza que deseja excluir esta tarefa?</p>
        <div class="confirm-actions">
            <button class="btn-confirm-cancel" onclick="closeConfirmModal()" data-i18n="tasks.cancel">Cancelar</button>
            <button class="btn-confirm-delete" onclick="deleteTaskConfirmed()" data-i18n="tasks.delete">Excluir</button>
        </div>
    </div>
</div>

<style>
    /* Estilos para o Gerenciador de Tarefas */
    .tasks-section {
        background: rgba(255, 255, 255, 0.95);
        padding: 80px 20px;
        margin: 0;
        position: relative;
        z-index: 2;
    }

    .tasks-container {
        max-width: 1400px;
        margin: 0 auto;
    }

    .tasks-header {
        text-align: center;
        margin-bottom: 40px;
    }

    .tasks-header h2 {
        font-size: 2.5rem;
        font-weight: 700;
        margin-bottom: 10px;
        background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
    }

    .tasks-header p {
        font-size: 1.1rem;
        color: #666;
    }

    .tasks-controls {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 30px;
        flex-wrap: wrap;
        gap: 20px;
    }

    .task-filters {
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
    }

    .filter-btn {
        padding: 10px 20px;
        background: rgba(0, 212, 255, 0.1);
        border: 2px solid rgba(0, 212, 255, 0.3);
        border-radius: 20px;
        color: #1e3c72;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        gap: 8px;
    }

    .filter-btn.active {
        background: linear-gradient(135deg, #00d4ff 0%, #0099ff 100%);
        color: white;
        border-color: transparent;
    }

    .filter-btn:hover:not(.active) {
        background: rgba(0, 212, 255, 0.2);
        transform: translateY(-2px);
    }

    .task-actions {
        display: flex;
        gap: 15px;
        flex-wrap: wrap;
    }

    .btn-task-action {
        padding: 12px 24px;
        background: linear-gradient(135deg, #00d4ff 0%, #0099ff 100%);
        color: white;
        border: none;
        border-radius: 20px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        gap: 8px;
    }

    .btn-task-action:hover {
        transform: translateY(-3px);
        box-shadow: 0 8px 25px rgba(0, 212, 255, 0.3);
    }

    .tasks-stats {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 20px;
        margin-bottom: 40px;
    }

    .task-stat {
        background: linear-gradient(135deg, #f5f7fa 0%, #f0f4f8 100%);
        padding: 25px;
        border-radius: 15px;
        display: flex;
        align-items: center;
        gap: 20px;
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.08);
        border: 1px solid rgba(0, 212, 255, 0.1);
        transition: all 0.3s ease;
    }

    .task-stat:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 30px rgba(0, 212, 255, 0.15);
    }

    .stat-icon {
        width: 50px;
        height: 50px;
        background: linear-gradient(135deg, #00d4ff 0%, #0099ff 100%);
        border-radius: 12px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.5rem;
        color: white;
    }

    .stat-info {
        flex: 1;
    }

    .stat-number {
        font-size: 2rem;
        font-weight: 900;
        background: linear-gradient(135deg, #00d4ff 0%, #0099ff 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        margin-bottom: 5px;
    }

    .stat-label {
        font-size: 0.9rem;
        color: #666;
        font-weight: 600;
    }

    .tasks-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
        gap: 25px;
        min-height: 300px;
    }

    .no-tasks {
        grid-column: 1 / -1;
        text-align: center;
        padding: 60px 20px;
        background: linear-gradient(135deg, #f5f7fa 0%, #f0f4f8 100%);
        border-radius: 20px;
        border: 2px dashed rgba(0, 212, 255, 0.3);
    }

    .no-tasks i {
        font-size: 4rem;
        color: #00d4ff;
        margin-bottom: 20px;
        opacity: 0.5;
    }

    .no-tasks h3 {
        font-size: 1.5rem;
        color: #1e3c72;
        margin-bottom: 10px;
    }

    .no-tasks p {
        color: #666;
        margin-bottom: 20px;
    }

    .task-card {
        background: white;
        border-radius: 15px;
        padding: 25px;
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.08);
        border: 1px solid rgba(0, 212, 255, 0.1);
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
    }

    .task-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 12px 35px rgba(0, 212, 255, 0.15);
    }

    .task-card::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 5px;
        height: 100%;
    }

    .task-card.priority-low::before {
        background: #00b894;
    }

    .task-card.priority-medium::before {
        background: #fdcb6e;
    }

    .task-card.priority-high::before {
        background: #e17055;
    }

    .task-card.priority-urgent::before {
        background: #d63031;
    }

    .task-header {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        margin-bottom: 15px;
    }

    .task-title {
        font-size: 1.2rem;
        font-weight: 700;
        color: #1e3c72;
        margin: 0;
        flex: 1;
        line-height: 1.4;
    }

    .task-priority {
        padding: 5px 12px;
        border-radius: 15px;
        font-size: 0.75rem;
        font-weight: 700;
        text-transform: uppercase;
        letter-spacing: 0.5px;
    }

    .priority-low {
        background: rgba(0, 184, 148, 0.1);
        color: #00b894;
    }

    .priority-medium {
        background: rgba(253, 203, 110, 0.1);
        color: #fdcb6e;
    }

    .priority-high {
        background: rgba(225, 112, 85, 0.1);
        color: #e17055;
    }

    .priority-urgent {
        background: rgba(214, 48, 49, 0.1);
        color: #d63031;
    }

    .task-description {
        color: #555;
        font-size: 0.95rem;
        line-height: 1.6;
        margin-bottom: 15px;
        display: -webkit-box;
        -webkit-line-clamp: 3;
        -webkit-box-orient: vertical;
        overflow: hidden;
    }

    .task-meta {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
        margin-bottom: 15px;
    }

    .task-meta-item {
        display: flex;
        align-items: center;
        gap: 6px;
        font-size: 0.85rem;
        color: #666;
    }

    .task-meta-item i {
        color: #00d4ff;
    }

    .task-tags {
        display: flex;
        flex-wrap: wrap;
        gap: 5px;
        margin-bottom: 15px;
    }

    .task-tag {
        padding: 4px 10px;
        background: rgba(0, 212, 255, 0.1);
        color: #00d4ff;
        border-radius: 12px;
        font-size: 0.75rem;
        font-weight: 600;
    }

    .task-status {
        padding: 6px 14px;
        border-radius: 15px;
        font-size: 0.8rem;
        font-weight: 600;
        display: inline-flex;
        align-items: center;
        gap: 5px;
    }

    .status-todo {
        background: rgba(155, 155, 155, 0.1);
        color: #666;
    }

    .status-progress {
        background: rgba(0, 212, 255, 0.1);
        color: #00d4ff;
    }

    .status-review {
        background: rgba(108, 92, 231, 0.1);
        color: #6c5ce7;
    }

    .status-completed {
        background: rgba(0, 184, 148, 0.1);
        color: #00b894;
    }

    .task-actions-bar {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-top: 20px;
        padding-top: 15px;
        border-top: 1px solid rgba(0, 212, 255, 0.1);
    }

    .task-date {
        font-size: 0.8rem;
        color: #999;
    }

    .task-action-buttons {
        display: flex;
        gap: 8px;
    }

    .task-action-btn {
        width: 36px;
        height: 36px;
        border-radius: 50%;
        border: none;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition: all 0.3s ease;
        font-size: 0.9rem;
    }

    .task-action-btn.edit {
        background: rgba(0, 212, 255, 0.1);
        color: #00d4ff;
    }

    .task-action-btn.edit:hover {
        background: #00d4ff;
        color: white;
    }

    .task-action-btn.delete {
        background: rgba(255, 107, 107, 0.1);
        color: #ff6b6b;
    }

    .task-action-btn.delete:hover {
        background: #ff6b6b;
        color: white;
    }

    .task-action-btn.complete {
        background: rgba(0, 184, 148, 0.1);
        color: #00b894;
    }

    .task-action-btn.complete:hover {
        background: #00b894;
        color: white;
    }

    /* Modal de Tarefa */
    .task-modal {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 1000;
        display: flex;
        align-items: center;
        justify-content: center;
        animation: fadeIn 0.3s ease;
    }

    .task-modal-overlay {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.7);
        backdrop-filter: blur(5px);
    }

    .task-modal-content {
        position: relative;
        background: white;
        border-radius: 20px;
        padding: 40px;
        max-width: 800px;
        width: 90%;
        max-height: 90vh;
        overflow-y: auto;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        animation: slideUp 0.3s ease;
    }

    .modal-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 30px;
        padding-bottom: 20px;
        border-bottom: 2px solid rgba(0, 212, 255, 0.2);
    }

    .modal-header h3 {
        font-size: 1.8rem;
        color: #1e3c72;
        font-weight: 700;
        margin: 0;
        display: flex;
        align-items: center;
        gap: 10px;
    }

    .modal-close {
        width: 40px;
        height: 40px;
        background: #ff6b6b;
        border: none;
        border-radius: 50%;
        color: white;
        font-size: 1.2rem;
        cursor: pointer;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .modal-close:hover {
        background: #ff0000;
        transform: rotate(90deg);
    }

    .form-row {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 20px;
        margin-bottom: 20px;
    }

    @media (max-width: 768px) {
        .form-row {
            grid-template-columns: 1fr;
        }
    }

    .form-group {
        margin-bottom: 20px;
    }

    .form-group label {
        display: block;
        color: #1e3c72;
        font-weight: 600;
        margin-bottom: 8px;
        font-size: 1rem;
        display: flex;
        align-items: center;
        gap: 8px;
    }

    .form-group input,
    .form-group select,
    .form-group textarea {
        width: 100%;
        padding: 12px 14px;
        border: 2px solid #e0e0e0;
        border-radius: 10px;
        font-size: 1rem;
        font-family: 'Exo', sans-serif;
        transition: all 0.3s ease;
    }

    .form-group input:focus,
    .form-group select:focus,
    .form-group textarea:focus {
        outline: none;
        border-color: #00d4ff;
        box-shadow: 0 0 12px rgba(0, 212, 255, 0.2);
    }

    .tags-input {
        position: relative;
    }

    .tags-suggestions {
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
        margin-top: 10px;
    }

    .tag-suggestion {
        padding: 4px 12px;
        background: rgba(0, 212, 255, 0.1);
        color: #00d4ff;
        border-radius: 15px;
        font-size: 0.85rem;
        cursor: pointer;
        transition: all 0.3s ease;
    }

    .tag-suggestion:hover {
        background: rgba(0, 212, 255, 0.2);
        transform: translateY(-2px);
    }

    #subtasksContainer {
        margin-bottom: 15px;
    }

    .subtask-item {
        display: flex;
        align-items: center;
        gap: 10px;
        margin-bottom: 10px;
        padding: 10px;
        background: rgba(0, 212, 255, 0.05);
        border-radius: 8px;
    }

    .subtask-item input[type="checkbox"] {
        width: 18px;
        height: 18px;
        cursor: pointer;
    }

    .subtask-item input[type="text"] {
        flex: 1;
        padding: 8px;
        border: 1px solid #e0e0e0;
        border-radius: 6px;
        font-size: 0.9rem;
    }

    .btn-remove-subtask {
        width: 30px;
        height: 30px;
        background: #ff6b6b;
        border: none;
        border-radius: 50%;
        color: white;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .btn-add-subtask {
        padding: 10px 20px;
        background: rgba(0, 212, 255, 0.1);
        color: #00d4ff;
        border: 2px solid rgba(0, 212, 255, 0.3);
        border-radius: 10px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        width: 100%;
    }

    .btn-add-subtask:hover {
        background: rgba(0, 212, 255, 0.2);
        transform: translateY(-2px);
    }

    .modal-actions {
        display: flex;
        gap: 15px;
        margin-top: 30px;
        padding-top: 20px;
        border-top: 2px solid rgba(0, 212, 255, 0.2);
    }

    .btn-modal-cancel {
        flex: 1;
        padding: 14px;
        background: #f5f5f5;
        color: #666;
        border: none;
        border-radius: 10px;
        font-weight: 700;
        font-size: 1rem;
        cursor: pointer;
        transition: all 0.3s ease;
    }

    .btn-modal-cancel:hover {
        background: #e0e0e0;
        transform: translateY(-2px);
    }

    .btn-modal-save {
        flex: 1;
        padding: 14px;
        background: linear-gradient(135deg, #00d4ff 0%, #0099ff 100%);
        color: white;
        border: none;
        border-radius: 10px;
        font-weight: 700;
        font-size: 1rem;
        cursor: pointer;
        transition: all 0.3s ease;
    }

    .btn-modal-save:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(0, 212, 255, 0.3);
    }

    /* Modal de Confirmação */
    .confirm-modal {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 1001;
        display: flex;
        align-items: center;
        justify-content: center;
        animation: fadeIn 0.3s ease;
    }

    .confirm-modal-overlay {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.7);
        backdrop-filter: blur(5px);
    }

    .confirm-modal-content {
        position: relative;
        background: white;
        border-radius: 20px;
        padding: 30px;
        max-width: 500px;
        width: 90%;
        text-align: center;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        animation: slideUp 0.3s ease;
    }

    .confirm-header {
        margin-bottom: 20px;
    }

    .confirm-header i {
        font-size: 3rem;
        color: #ff6b6b;
        margin-bottom: 15px;
    }

    .confirm-header h3 {
        font-size: 1.5rem;
        color: #1e3c72;
        font-weight: 700;
        margin: 0;
    }

    .confirm-actions {
        display: flex;
        gap: 15px;
        margin-top: 25px;
    }

    .btn-confirm-cancel {
        flex: 1;
        padding: 12px;
        background: #f5f5f5;
        color: #666;
        border: none;
        border-radius: 10px;
        font-weight: 700;
        font-size: 1rem;
        cursor: pointer;
        transition: all 0.3s ease;
    }

    .btn-confirm-cancel:hover {
        background: #e0e0e0;
    }

    .btn-confirm-delete {
        flex: 1;
        padding: 12px;
        background: linear-gradient(135deg, #ff6b6b 0%, #ff0000 100%);
        color: white;
        border: none;
        border-radius: 10px;
        font-weight: 700;
        font-size: 1rem;
        cursor: pointer;
        transition: all 0.3s ease;
    }

    .btn-confirm-delete:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(255, 107, 107, 0.3);
    }

    /* Animações */
    @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
    }

    @keyframes slideUp {
        from {
            opacity: 0;
            transform: translateY(50px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }
</style>

<script>
// Sistema de Gerenciamento de Tarefas
let tasks = [];
let currentFilter = 'all';
let taskToDelete = null;

// Inicializar sistema de tarefas
function initializeTasks() {
    if (currentUser && currentUser.type === 'staff') {
        // Mostrar seção de tarefas apenas para staff
        document.getElementById('tasksManager').classList.remove('hidden');
        
        // Carregar tarefas do localStorage
        loadTasks();
        
        // Atualizar estatísticas
        updateTasksStats();
        
        // Adicionar link no menu de navegação
        addTasksToNavigation();
    }
}

// Adicionar link no menu
function addTasksToNavigation() {
    const nav = document.querySelector('nav');
    if (nav) {
        const tasksLink = document.createElement('a');
        tasksLink.href = '#tasksManager';
        tasksLink.onclick = () => scrollToSection('tasksManager');
        tasksLink.innerHTML = '<i class="fas fa-tasks"></i> <span data-i18n="nav.tasks">Tarefas</span>';
        nav.appendChild(tasksLink);
        
        // Atualizar traduções
        updateLanguage();
    }
}

// Carregar tarefas do localStorage
function loadTasks() {
    const savedTasks = localStorage.getItem('xpr_tasks');
    if (savedTasks) {
        tasks = JSON.parse(savedTasks);
        renderTasks();
    }
}

// Salvar tarefas no localStorage
function saveTasksToStorage() {
    localStorage.setItem('xpr_tasks', JSON.stringify(tasks));
    updateTasksStats();
}

// Renderizar tarefas na grid
function renderTasks() {
    const tasksGrid = document.getElementById('tasksGrid');
    if (!tasksGrid) return;
    
    // Filtrar tarefas
    let filteredTasks = tasks;
    if (currentFilter !== 'all') {
        if (currentFilter === 'high') {
            filteredTasks = tasks.filter(task => 
                task.priority === 'high' || task.priority === 'urgent'
            );
        } else {
            filteredTasks = tasks.filter(task => task.status === currentFilter);
        }
    }
    
    // Ordenar por prioridade e data
    filteredTasks.sort((a, b) => {
        const priorityOrder = { 'urgent': 0, 'high': 1, 'medium': 2, 'low': 3 };
        if (priorityOrder[a.priority] !== priorityOrder[b.priority]) {
            return priorityOrder[a.priority] - priorityOrder[b.priority];
        }
        return new Date(b.createdAt) - new Date(a.createdAt);
    });
    
    if (filteredTasks.length === 0) {
        tasksGrid.innerHTML = `
            <div class="no-tasks">
                <i class="fas fa-clipboard-list"></i>
                <h3 data-i18n="tasks.no_tasks_filter">Nenhuma tarefa encontrada</h3>
                <p data-i18n="tasks.no_tasks_filter_desc">Tente alterar os filtros ou criar uma nova tarefa</p>
                <button class="btn-task-action" onclick="openTaskModal('new')">
                    <i class="fas fa-plus"></i> <span data-i18n="tasks.create_new">Criar Nova Tarefa</span>
                </button>
            </div>
        `;
        updateLanguage();
        return;
    }
    
    tasksGrid.innerHTML = filteredTasks.map(task => `
        <div class="task-card priority-${task.priority}" data-task-id="${task.id}">
            <div class="task-header">
                <h3 class="task-title">${task.title}</h3>
                <span class="task-priority priority-${task.priority}">
                    ${getPriorityText(task.priority)}
                </span>
            </div>
            
            ${task.description ? `
                <p class="task-description">${task.description}</p>
            ` : ''}
            
            <div class="task-meta">
                <div class="task-meta-item">
                    <i class="fas fa-user"></i>
                    <span>${task.assignee || 'Não atribuído'}</span>
                </div>
                <div class="task-meta-item">
                    <i class="fas fa-tag"></i>
                    <span>${getCategoryText(task.category)}</span>
                </div>
                ${task.deadline ? `
                    <div class="task-meta-item">
                        <i class="fas fa-calendar-alt"></i>
                        <span>${formatDate(task.deadline)}</span>
                    </div>
                ` : ''}
            </div>
            
            ${task.tags && task.tags.length > 0 ? `
                <div class="task-tags">
                    ${task.tags.map(tag => `<span class="task-tag">${tag}</span>`).join('')}
                </div>
            ` : ''}
            
            <div class="task-status status-${task.status}">
                <i class="fas ${getStatusIcon(task.status)}"></i>
                ${getStatusText(task.status)}
            </div>
            
            <div class="task-actions-bar">
                <div class="task-date">
                    <i class="fas fa-clock"></i>
                    ${formatDate(task.createdAt, true)}
                </div>
                <div class="task-action-buttons">
                    <button class="task-action-btn complete" onclick="toggleTaskStatus('${task.id}')" title="Alternar Status">
                        <i class="fas ${task.status === 'completed' ? 'fa-undo' : 'fa-check'}"></i>
                    </button>
                    <button class="task-action-btn edit" onclick="openTaskModal('edit', '${task.id}')" title="Editar">
                        <i class="fas fa-edit"></i>
                    </button>
                    <button class="task-action-btn delete" onclick="confirmDeleteTask('${task.id}')" title="Excluir">
                        <i class="fas fa-trash"></i>
                    </button>
                </div>
            </div>
        </div>
    `).join('');
}

// Filtrar tarefas
function filterTasks(filter) {
    currentFilter = filter;
    
    // Atualizar botões de filtro
    document.querySelectorAll('.filter-btn').forEach(btn => {
        btn.classList.remove('active');
        if (btn.onclick.toString().includes(`'${filter}'`)) {
            btn.classList.add('active');
        }
    });
    
    renderTasks();
}

// Abrir modal de tarefa
function openTaskModal(mode, taskId = null) {
    const modal = document.getElementById('taskModal');
    const form = document.getElementById('taskForm');
    const modalTitle = document.getElementById('modalTaskTitle');
    
    // Resetar formulário
    form.reset();
    document.getElementById('subtasksContainer').innerHTML = '';
    
    if (mode === 'new') {
        modalTitle.innerHTML = '<i class="fas fa-plus"></i> <span data-i18n="tasks.new_task">Nova Tarefa</span>';
        document.getElementById('taskId').value = '';
        document.getElementById('taskCreatedAt').value = new Date().toISOString();
        
        // Definir valores padrão
        document.getElementById('taskStatus').value = 'todo';
        document.getElementById('taskPriority').value = 'medium';
        document.getElementById('taskCategory').value = 'other';
        
        // Definir data de prazo padrão (7 dias a partir de hoje)
        const defaultDeadline = new Date();
        defaultDeadline.setDate(defaultDeadline.getDate() + 7);
        document.getElementById('taskDeadline').value = defaultDeadline.toISOString().split('T')[0];
    } else if (mode === 'edit' && taskId) {
        modalTitle.innerHTML = '<i class="fas fa-edit"></i> <span data-i18n="tasks.edit_task">Editar Tarefa</span>';
        const task = tasks.find(t => t.id === taskId);
        
        if (task) {
            document.getElementById('taskId').value = task.id;
            document.getElementById('taskCreatedAt').value = task.createdAt;
            document.getElementById('taskTitleInput').value = task.title;
            document.getElementById('taskDescription').value = task.description || '';
            document.getElementById('taskPriority').value = task.priority;
            document.getElementById('taskStatus').value = task.status;
            document.getElementById('taskDeadline').value = task.deadline || '';
            document.getElementById('taskAssignee').value = task.assignee || '';
            document.getElementById('taskCategory').value = task.category || 'other';
            document.getElementById('taskTags').value = task.tags ? task.tags.join(', ') : '';
            document.getElementById('taskComments').value = task.comments || '';
            
            // Carregar subtarefas
            if (task.subtasks && task.subtasks.length > 0) {
                task.subtasks.forEach((subtask, index) => {
                    addSubtask(subtask.title, subtask.completed, index);
                });
            }
        }
    }
    
    modal.style.display = 'flex';
    document.body.style.overflow = 'hidden';
    
    // Atualizar traduções
    updateLanguage();
}

// Fechar modal de tarefa
function closeTaskModal() {
    const modal = document.getElementById('taskModal');
    modal.style.display = 'none';
    document.body.style.overflow = 'auto';
}

// Adicionar subtarefa
function addSubtask(title = '', completed = false, index = null) {
    const container = document.getElementById('subtasksContainer');
    const subtaskIndex = index !== null ? index : container.children.length;
    
    const subtaskDiv = document.createElement('div');
    subtaskDiv.className = 'subtask-item';
    subtaskDiv.innerHTML = `
        <input type="checkbox" ${completed ? 'checked' : ''}>
        <input type="text" placeholder="Descrição da subtarefa..." value="${title}">
        <button type="button" class="btn-remove-subtask" onclick="removeSubtask(${subtaskIndex})">
            <i class="fas fa-times"></i>
        </button>
    `;
    
    if (index !== null) {
        container.insertBefore(subtaskDiv, container.children[index]);
    } else {
        container.appendChild(subtaskDiv);
    }
}

// Remover subtarefa
function removeSubtask(index) {
    const container = document.getElementById('subtasksContainer');
    if (container.children[index]) {
        container.removeChild(container.children[index]);
    }
}

// Adicionar tag
function addTag(tag) {
    const tagsInput = document.getElementById('taskTags');
    const currentTags = tagsInput.value.split(',').map(t => t.trim()).filter(t => t);
    
    if (!currentTags.includes(tag)) {
        currentTags.push(tag);
        tagsInput.value = currentTags.join(', ');
    }
}

// Salvar tarefa
function saveTask(event) {
    event.preventDefault();
    
    const taskId = document.getElementById('taskId').value;
    const createdAt = document.getElementById('taskCreatedAt').value;
    
    // Coletar subtarefas
    const subtasks = [];
    document.querySelectorAll('.subtask-item').forEach(item => {
        const checkbox = item.querySelector('input[type="checkbox"]');
        const input = item.querySelector('input[type="text"]');
        if (input.value.trim()) {
            subtasks.push({
                title: input.value.trim(),
                completed: checkbox.checked
            });
        }
    });
    
    // Coletar tags
    const tags = document.getElementById('taskTags').value
        .split(',')
        .map(tag => tag.trim())
        .filter(tag => tag);
    
    const taskData = {
        id: taskId || 'task-' + Date.now() + '-' + Math.random().toString(36).substr(2, 9),
        title: document.getElementById('taskTitleInput').value.trim(),
        description: document.getElementById('taskDescription').value.trim(),
        priority: document.getElementById('taskPriority').value,
        status: document.getElementById('taskStatus').value,
        deadline: document.getElementById('taskDeadline').value || null,
        assignee: document.getElementById('taskAssignee').value.trim() || null,
        category: document.getElementById('taskCategory').value,
        tags: tags,
        subtasks: subtasks,
        comments: document.getElementById('taskComments').value.trim(),
        createdAt: createdAt || new Date().toISOString(),
        updatedAt: new Date().toISOString(),
        createdBy: currentUser ? currentUser.username : 'System'
    };
    
    if (taskId) {
        // Atualizar tarefa existente
        const index = tasks.findIndex(t => t.id === taskId);
        if (index !== -1) {
            tasks[index] = taskData;
        }
    } else {
        // Adicionar nova tarefa
        tasks.push(taskData);
    }
    
    saveTasksToStorage();
    renderTasks();
    closeTaskModal();
    
    // Mostrar notificação
    showNotification('Tarefa salva com sucesso!', 'success');
}

// Alternar status da tarefa
function toggleTaskStatus(taskId) {
    const task = tasks.find(t => t.id === taskId);
    if (task) {
        const statusOrder = ['todo', 'progress', 'review', 'completed'];
        const currentIndex = statusOrder.indexOf(task.status);
        const nextIndex = (currentIndex + 1) % statusOrder.length;
        task.status = statusOrder[nextIndex];
        task.updatedAt = new Date().toISOString();
        
        saveTasksToStorage();
        renderTasks();
        
        showNotification(`Status alterado para: ${getStatusText(task.status)}`, 'info');
    }
}

// Confirmar exclusão de tarefa
function confirmDeleteTask(taskId) {
    taskToDelete = taskId;
    const task = tasks.find(t => t.id === taskId);
    const message = task ? 
        `Tem certeza que deseja excluir a tarefa "${task.title}"?` :
        'Tem certeza que deseja excluir esta tarefa?';
    
    document.getElementById('confirmMessage').textContent = message;
    document.getElementById('confirmModal').style.display = 'flex';
    document.body.style.overflow = 'hidden';
}

// Fechar modal de confirmação
function closeConfirmModal() {
    document.getElementById('confirmModal').style.display = 'none';
    document.body.style.overflow = 'auto';
    taskToDelete = null;
}

// Excluir tarefa confirmada
function deleteTaskConfirmed() {
    if (taskToDelete) {
        tasks = tasks.filter(t => t.id !== taskToDelete);
        saveTasksToStorage();
        renderTasks();
        closeConfirmModal();
        showNotification('Tarefa excluída com sucesso!', 'warning');
    }
}

// Exportar tarefas
function exportTasks() {
    const dataStr = JSON.stringify(tasks, null, 2);
    const dataUri = 'data:application/json;charset=utf-8,'+ encodeURIComponent(dataStr);
    
    const exportFileDefaultName = `xpr-tasks-${new Date().toISOString().split('T')[0]}.json`;
    
    const linkElement = document.createElement('a');
    linkElement.setAttribute('href', dataUri);
    linkElement.setAttribute('download', exportFileDefaultName);
    linkElement.click();
    
    showNotification('Tarefas exportadas com sucesso!', 'success');
}

// Importar tarefas
function importTasks() {
    const input = document.createElement('input');
    input.type = 'file';
    input.accept = '.json';
    
    input.onchange = e => {
        const file = e.target.files[0];
        const reader = new FileReader();
        
        reader.onload = function(event) {
            try {
                const importedTasks = JSON.parse(event.target.result);
                
                // Validar estrutura
                if (Array.isArray(importedTasks)) {
                    // Mesclar tarefas, evitando duplicatas
                    importedTasks.forEach(importedTask => {
                        if (!tasks.some(t => t.id === importedTask.id)) {
                            tasks.push(importedTask);
                        }
                    });
                    
                    saveTasksToStorage();
                    renderTasks();
                    showNotification('Tarefas importadas com sucesso!', 'success');
                } else {
                    showNotification('Arquivo inválido!', 'error');
                }
            } catch (error) {
                showNotification('Erro ao importar tarefas!', 'error');
                console.error('Import error:', error);
            }
        };
        
        reader.readAsText(file);
    };
    
    input.click();
}

// Atualizar estatísticas
function updateTasksStats() {
    document.getElementById('totalTasks').textContent = tasks.length;
    
    const urgentTasks = tasks.filter(t => 
        t.priority === 'urgent' && t.status !== 'completed'
    ).length;
    document.getElementById('urgentTasks').textContent = urgentTasks;
    
    const completedTasks = tasks.filter(t => t.status === 'completed').length;
    document.getElementById('completedTasks').textContent = completedTasks;
    
    const completionRate = tasks.length > 0 ? 
        Math.round((completedTasks / tasks.length) * 100) : 0;
    document.getElementById('completionRate').textContent = completionRate + '%';
}

// Funções auxiliares
function getPriorityText(priority) {
    const texts = {
        'low': 'Baixa',
        'medium': 'Média',
        'high': 'Alta',
        'urgent': 'Urgente'
    };
    return texts[priority] || priority;
}

function getStatusText(status) {
    const texts = {
        'todo': 'A Fazer',
        'progress': 'Em Progresso',
        'review': 'Em Revisão',
        'completed': 'Concluído'
    };
    return texts[status] || status;
}

function getStatusIcon(status) {
    const icons = {
        'todo': 'fa-clock',
        'progress': 'fa-spinner',
        'review': 'fa-eye',
        'completed': 'fa-check-circle'
    };
    return icons[status] || 'fa-tasks';
}

function getCategoryText(category) {
    const texts = {
        'development': 'Desenvolvimento',
        'design': 'Design',
        'testing': 'Testes',
        'documentation': 'Documentação',
        'meeting': 'Reunião',
        'other': 'Outro'
    };
    return texts[category] || category;
}

function formatDate(dateString, includeTime = false) {
    if (!dateString) return 'Sem data';
    
    const date = new Date(dateString);
    if (includeTime) {
        return date.toLocaleDateString('pt-BR') + ' ' + date.toLocaleTimeString('pt-BR', { 
            hour: '2-digit', 
            minute: '2-digit' 
        });
    }
    return date.toLocaleDateString('pt-BR');
}

function showNotification(message, type) {
    // Criar elemento de notificação
    const notification = document.createElement('div');
    notification.className = `notification notification-${type}`;
    notification.innerHTML = `
        <i class="fas ${type === 'success' ? 'fa-check-circle' : 
                       type === 'error' ? 'fa-exclamation-circle' : 
                       type === 'warning' ? 'fa-exclamation-triangle' : 'fa-info-circle'}"></i>
        <span>${message}</span>
    `;
    
    // Adicionar estilos
    notification.style.cssText = `
        position: fixed;
        top: 20px;
        right: 20px;
        background: ${type === 'success' ? '#00b894' : 
                     type === 'error' ? '#ff6b6b' : 
                     type === 'warning' ? '#fdcb6e' : '#00d4ff'};
        color: white;
        padding: 15px 20px;
        border-radius: 10px;
        display: flex;
        align-items: center;
        gap: 10px;
        z-index: 10000;
        box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        animation: slideInRight 0.3s ease, fadeOut 0.3s ease 2.7s;
    `;
    
    // Adicionar ao documento
    document.body.appendChild(notification);
    
    // Remover após 3 segundos
    setTimeout(() => {
        if (notification.parentNode) {
            notification.parentNode.removeChild(notification);
        }
    }, 3000);
}

// Adicionar estilos de animação para notificações
const style = document.createElement('style');
style.textContent = `
    @keyframes slideInRight {
        from {
            transform: translateX(100%);
            opacity: 0;
        }
        to {
            transform: translateX(0);
            opacity: 1;
        }
    }
    
    @keyframes fadeOut {
        from {
            opacity: 1;
        }
        to {
            opacity: 0;
        }
    }
`;
document.head.appendChild(style);

// Inicializar quando a página carregar
document.addEventListener('DOMContentLoaded', function() {
    // Verificar se o usuário é staff e inicializar o gerenciador
    if (currentUser && currentUser.type === 'staff') {
        initializeTasks();
    }
    
    // Adicionar traduções para o gerenciador de tarefas
    if (translations['pt']) {
        translations['pt'] = {
            ...translations['pt'],
            'nav.tasks': 'Tarefas',
            'tasks.title': 'Gerenciador de Tarefas',
            'tasks.subtitle': 'Sistema exclusivo para equipe XPR Studio',
            'tasks.filter_all': 'Todas',
            'tasks.filter_todo': 'A Fazer',
            'tasks.filter_progress': 'Em Progresso',
            'tasks.filter_review': 'Revisão',
            'tasks.filter_completed': 'Concluídas',
            'tasks.filter_high': 'Alta',
            'tasks.new_task': 'Nova Tarefa',
            'tasks.export': 'Exportar',
            'tasks.import': 'Importar',
            'tasks.total': 'Total',
            'tasks.urgent': 'Urgentes',
            'tasks.completed': 'Concluídas',
            'tasks.rate': 'Taxa Conclusão',
            'tasks.no_tasks': 'Nenhuma tarefa criada',
            'tasks.no_tasks_desc': 'Comece criando sua primeira tarefa!',
            'tasks.create_first': 'Criar Primeira Tarefa',
            'tasks.no_tasks_filter': 'Nenhuma tarefa encontrada',
            'tasks.no_tasks_filter_desc': 'Tente alterar os filtros ou criar uma nova tarefa',
            'tasks.create_new': 'Criar Nova Tarefa',
            'tasks.title_label': 'Título',
            'tasks.title_placeholder': 'Título da tarefa',
            'tasks.priority': 'Prioridade',
            'tasks.priority_low': 'Baixa',
            'tasks.priority_medium': 'Média',
            'tasks.priority_high': 'Alta',
            'tasks.priority_urgent': 'Urgente',
            'tasks.description': 'Descrição',
            'tasks.description_placeholder': 'Descreva a tarefa em detalhes...',
            'tasks.status': 'Status',
            'tasks.status_todo': 'A Fazer',
            'tasks.status_progress': 'Em Progresso',
            'tasks.status_review': 'Em Revisão',
            'tasks.status_completed': 'Concluído',
            'tasks.deadline': 'Prazo',
            'tasks.assignee': 'Responsável',
            'tasks.assignee_placeholder': 'Nome do responsável',
            'tasks.category': 'Categoria',
            'tasks.category_dev': 'Desenvolvimento',
            'tasks.category_design': 'Design',
            'tasks.category_testing': 'Testes',
            'tasks.category_docs': 'Documentação',
            'tasks.category_meeting': 'Reunião',
            'tasks.category_other': 'Outro',
            'tasks.tags': 'Tags',
            'tasks.tags_placeholder': 'Adicione tags (separadas por vírgula)',
            'tasks.subtasks': 'Subtarefas',
            'tasks.add_subtask': 'Adicionar Subtarefa',
            'tasks.notes': 'Anotações',
            'tasks.notes_placeholder': 'Adicione anotações ou comentários...',
            'tasks.cancel': 'Cancelar',
            'tasks.save': 'Salvar Tarefa',
            'tasks.edit_task': 'Editar Tarefa',
            'tasks.confirm_title': 'Confirmar Exclusão',
            'tasks.confirm_message': 'Tem certeza que deseja excluir esta tarefa?',
            'tasks.delete': 'Excluir',
            'business.staff_panel': 'Painel de Business da Staff',
            'business.status_open': 'Aberto',
            'business.status_progress': 'Em Progresso',
            'business.status_closed': 'Fechado',
            'business.reply': 'Responder',
            'business.delete': 'Deletar',
            'business.no_requests': 'Nenhuma solicitação de business encontrada.'
        };
        
    }
    
   if (translations['en']) {
        translations['en'] = {
            ...translations['en'],
        'nav.tasks': 'Tasks',
        'tasks.title': 'Task Manager',
        'tasks.subtitle': 'Exclusive system for XPR Studio team',
        'tasks.filter_all': 'All',
        'tasks.filter_todo': 'To Do',
        'tasks.filter_progress': 'In Progress',
        'tasks.filter_review': 'Review',
        'tasks.filter_completed': 'Completed',
        'tasks.filter_high': 'High',
        'tasks.new_task': 'New Task',
        'tasks.export': 'Export',
        'tasks.import': 'Import',
        'tasks.total': 'Total',
        'tasks.urgent': 'Urgent',
        'tasks.completed': 'Completed',
        'tasks.rate': 'Completion Rate',
        'tasks.no_tasks': 'No tasks created',
        'tasks.no_tasks_desc': 'Start by creating your first task!',
        'tasks.create_first': 'Create First Task',
        'tasks.no_tasks_filter': 'No tasks found',
        'tasks.no_tasks_filter_desc': 'Try changing filters or create a new task',
        'tasks.create_new': 'Create New Task',
        'tasks.title_label': 'Title',
        'tasks.title_placeholder': 'Task title',
        'tasks.priority': 'Priority',
        'tasks.priority_low': 'Low',
        'tasks.priority_medium': 'Medium',
        'tasks.priority_high': 'High',
        'tasks.priority_urgent': 'Urgent',
        'tasks.description': 'Description',
        'tasks.description_placeholder': 'Describe the task in detail...',
        'tasks.status': 'Status',
        'tasks.status_todo': 'To Do',
        'tasks.status_progress': 'In Progress',
        'tasks.status_review': 'In Review',
        'tasks.status_completed': 'Completed',
        'tasks.deadline': 'Deadline',
        'tasks.assignee': 'Assignee',
        'tasks.assignee_placeholder': 'Assignee name',
        'tasks.category': 'Category',
        'tasks.category_dev': 'Development',
        'tasks.category_design': 'Design',
        'tasks.category_testing': 'Testing',
        'tasks.category_docs': 'Documentation',
        'tasks.category_meeting': 'Meeting',
        'tasks.category_other': 'Other',
        'tasks.tags': 'Tags',
        'tasks.tags_placeholder': 'Add tags (comma separated)',
        'tasks.subtasks': 'Subtasks',
        'tasks.add_subtask': 'Add Subtask',
        'tasks.notes': 'Notes',
        'tasks.notes_placeholder': 'Add notes or comments...',
        'tasks.cancel': 'Cancel',
        'tasks.save': 'Save Task',
        'tasks.edit_task': 'Edit Task',
        'tasks.confirm_title': 'Confirm Deletion',
        'tasks.confirm_message': 'Are you sure you want to delete this task?',
        'tasks.delete': 'Delete'
        };
    }

      if (translations['es']) {
        translations['es'] = {
            ...translations['es'],
        'nav.tasks': 'Tareas',
    'tasks.title': 'Gestor de Tareas',
    'tasks.subtitle': 'Sistema exclusivo para el equipo XPR Studio',
    'tasks.filter_all': 'Todas',
    'tasks.filter_todo': 'Por Hacer',
    'tasks.filter_progress': 'En Progreso',
    'tasks.filter_review': 'Revisión',
    'tasks.filter_completed': 'Completadas',
    'tasks.filter_high': 'Alta',
    'tasks.new_task': 'Nueva Tarea',
    'tasks.export': 'Exportar',
    'tasks.import': 'Importar',
    'tasks.total': 'Total',
    'tasks.urgent': 'Urgentes',
    'tasks.completed': 'Completadas',
    'tasks.rate': 'Tasa de Finalización',
    'tasks.no_tasks': 'No hay tareas creadas',
    'tasks.no_tasks_desc': '¡Comienza creando tu primera tarea!',
    'tasks.create_first': 'Crear Primera Tarea',
    'tasks.no_tasks_filter': 'No se encontraron tareas',
    'tasks.no_tasks_filter_desc': 'Intenta cambiar los filtros o crear una nueva tarea',
    'tasks.create_new': 'Crear Nueva Tarea',
    'tasks.title_label': 'Título',
    'tasks.title_placeholder': 'Título de la tarea',
    'tasks.priority': 'Prioridad',
    'tasks.priority_low': 'Baja',
    'tasks.priority_medium': 'Media',
    'tasks.priority_high': 'Alta',
    'tasks.priority_urgent': 'Urgente',
    'tasks.description': 'Descripción',
    'tasks.description_placeholder': 'Describe la tarea en detalle...',
    'tasks.status': 'Estado',
    'tasks.status_todo': 'Por Hacer',
    'tasks.status_progress': 'En Progreso',
    'tasks.status_review': 'En Revisión',
    'tasks.status_completed': 'Completado',
    'tasks.deadline': 'Fecha Límite',
    'tasks.assignee': 'Asignado',
    'tasks.assignee_placeholder': 'Nombre del asignado',
    'tasks.category': 'Categoría',
    'tasks.category_dev': 'Desarrollo',
    'tasks.category_design': 'Diseño',
    'tasks.category_testing': 'Pruebas',
    'tasks.category_docs': 'Documentación',
    'tasks.category_meeting': 'Reunión',
    'tasks.category_other': 'Otro',
    'tasks.tags': 'Etiquetas',
    'tasks.tags_placeholder': 'Añadir etiquetas (separadas por comas)',
    'tasks.subtasks': 'Subtareas',
    'tasks.add_subtask': 'Añadir Subtarea',
    'tasks.notes': 'Notas',
    'tasks.notes_placeholder': 'Añadir notas o comentarios...',
    'tasks.cancel': 'Cancelar',
    'tasks.save': 'Guardar Tarea',
    'tasks.edit_task': 'Editar Tarea',
    'tasks.confirm_title': 'Confirmar Eliminación',
    'tasks.confirm_message': '¿Estás seguro de que quieres eliminar esta tarea?',
    'tasks.delete': 'Eliminar'
        };
    }


    if (translations['de']) {
        translations['de'] = {
            ...translations['de'],
    'nav.tasks': 'Aufgaben',
    'tasks.title': 'Aufgabenmanager',
    'tasks.subtitle': 'Exklusives System für das XPR Studio Team',
    'tasks.filter_all': 'Alle',
    'tasks.filter_todo': 'Zu Erledigen',
    'tasks.filter_progress': 'In Bearbeitung',
    'tasks.filter_review': 'Überprüfung',
    'tasks.filter_completed': 'Abgeschlossen',
    'tasks.filter_high': 'Hoch',
    'tasks.new_task': 'Neue Aufgabe',
    'tasks.export': 'Exportieren',
    'tasks.import': 'Importieren',
    'tasks.total': 'Gesamt',
    'tasks.urgent': 'Dringend',
    'tasks.completed': 'Abgeschlossen',
    'tasks.rate': 'Abschlussrate',
    'tasks.no_tasks': 'Keine Aufgaben erstellt',
    'tasks.no_tasks_desc': 'Beginnen Sie mit der Erstellung Ihrer ersten Aufgabe!',
    'tasks.create_first': 'Erste Aufgabe erstellen',
    'tasks.no_tasks_filter': 'Keine Aufgaben gefunden',
    'tasks.no_tasks_filter_desc': 'Versuchen Sie, die Filter zu ändern oder eine neue Aufgabe zu erstellen',
    'tasks.create_new': 'Neue Aufgabe erstellen',
    'tasks.title_label': 'Titel',
    'tasks.title_placeholder': 'Aufgabentitel',
    'tasks.priority': 'Priorität',
    'tasks.priority_low': 'Niedrig',
    'tasks.priority_medium': 'Mittel',
    'tasks.priority_high': 'Hoch',
    'tasks.priority_urgent': 'Dringend',
    'tasks.description': 'Beschreibung',
    'tasks.description_placeholder': 'Beschreiben Sie die Aufgabe im Detail...',
    'tasks.status': 'Status',
    'tasks.status_todo': 'Zu Erledigen',
    'tasks.status_progress': 'In Bearbeitung',
    'tasks.status_review': 'In Überprüfung',
    'tasks.status_completed': 'Abgeschlossen',
    'tasks.deadline': 'Frist',
    'tasks.assignee': 'Verantwortlich',
    'tasks.assignee_placeholder': 'Name des Verantwortlichen',
    'tasks.category': 'Kategorie',
    'tasks.category_dev': 'Entwicklung',
    'tasks.category_design': 'Design',
    'tasks.category_testing': 'Tests',
    'tasks.category_docs': 'Dokumentation',
    'tasks.category_meeting': 'Besprechung',
    'tasks.category_other': 'Andere',
    'tasks.tags': 'Tags',
    'tasks.tags_placeholder': 'Tags hinzufügen (durch Komma getrennt)',
    'tasks.subtasks': 'Unteraufgaben',
    'tasks.add_subtask': 'Unteraufgabe hinzufügen',
    'tasks.notes': 'Notizen',
    'tasks.notes_placeholder': 'Notizen oder Kommentare hinzufügen...',
    'tasks.cancel': 'Abbrechen',
    'tasks.save': 'Aufgabe speichern',
    'tasks.edit_task': 'Aufgabe bearbeiten',
    'tasks.confirm_title': 'Löschung bestätigen',
    'tasks.confirm_message': 'Sind Sie sicher, dass Sie diese Aufgabe löschen möchten?',
    'tasks.delete': 'Löschen'
        };
    }


    if (translations['it']) {
        translations['it'] = {
        ...translations['it'],
    'nav.tasks': 'Compiti',
    'tasks.title': 'Gestore di Compiti',
    'tasks.subtitle': 'Sistema esclusivo per il team XPR Studio',
    'tasks.filter_all': 'Tutti',
    'tasks.filter_todo': 'Da Fare',
    'tasks.filter_progress': 'In Progresso',
    'tasks.filter_review': 'Revisione',
    'tasks.filter_completed': 'Completati',
    'tasks.filter_high': 'Alta',
    'tasks.new_task': 'Nuovo Compito',
    'tasks.export': 'Esporta',
    'tasks.import': 'Importa',
    'tasks.total': 'Totale',
    'tasks.urgent': 'Urgenti',
    'tasks.completed': 'Completati',
    'tasks.rate': 'Tasso di Completamento',
    'tasks.no_tasks': 'Nessun compito creato',
    'tasks.no_tasks_desc': 'Inizia creando il tuo primo compito!',
    'tasks.create_first': 'Crea Primo Compito',
    'tasks.no_tasks_filter': 'Nessun compito trovato',
    'tasks.no_tasks_filter_desc': 'Prova a cambiare i filtri o crea un nuovo compito',
    'tasks.create_new': 'Crea Nuovo Compito',
    'tasks.title_label': 'Titolo',
    'tasks.title_placeholder': 'Titolo del compito',
    'tasks.priority': 'Priorità',
    'tasks.priority_low': 'Bassa',
    'tasks.priority_medium': 'Media',
    'tasks.priority_high': 'Alta',
    'tasks.priority_urgent': 'Urgente',
    'tasks.description': 'Descrizione',
    'tasks.description_placeholder': 'Descrivi il compito in dettaglio...',
    'tasks.status': 'Stato',
    'tasks.status_todo': 'Da Fare',
    'tasks.status_progress': 'In Progresso',
    'tasks.status_review': 'In Revisione',
    'tasks.status_completed': 'Completato',
    'tasks.deadline': 'Scadenza',
    'tasks.assignee': 'Assegnatario',
    'tasks.assignee_placeholder': 'Nome dell\'assegnatario',
    'tasks.category': 'Categoria',
    'tasks.category_dev': 'Sviluppo',
    'tasks.category_design': 'Design',
    'tasks.category_testing': 'Test',
    'tasks.category_docs': 'Documentazione',
    'tasks.category_meeting': 'Riunione',
    'tasks.category_other': 'Altro',
    'tasks.tags': 'Tag',
    'tasks.tags_placeholder': 'Aggiungi tag (separati da virgola)',
    'tasks.subtasks': 'Sotto-compiti',
    'tasks.add_subtask': 'Aggiungi Sotto-compito',
    'tasks.notes': 'Note',
    'tasks.notes_placeholder': 'Aggiungi note o commenti...',
    'tasks.cancel': 'Annulla',
    'tasks.save': 'Salva Compito',
    'tasks.edit_task': 'Modifica Compito',
    'tasks.confirm_title': 'Conferma Eliminazione',
    'tasks.confirm_message': 'Sei sicuro di voler eliminare questo compito?',
    'tasks.delete': 'Elimina'
        };
    }


});

// Adicionar evento para atualizar quando o usuário fizer login
if (!window.originalShowMainContentTasksHooked) {
    const originalShowMainContentTasks = window.showMainContent;
    window.showMainContent = function() {
        originalShowMainContentTasks();
        if (currentUser && currentUser.type === 'staff') {
            initializeTasks();
        }
    };
    window.originalShowMainContentTasksHooked = true;
}
</script>

<!-- Footer -->
<footer data-aos="fade-up">
    <div class="footer-content">
        <div class="social-links" data-aos="fade-up" data-aos-delay="100">
            <a href="#" class="social-link" title="Discord"><i class="fab fa-discord"></i></a>
            <a href="#" class="social-link" title="Twitter"><i class="fab fa-twitter"></i></a>
            <a href="#" class="social-link" title="YouTube"><i class="fab fa-youtube"></i></a>
            <a href="#" class="social-link" title="Roblox"><i class="fab fa-roblox"></i></a>
        </div>
        <div class="footer-links" data-aos="fade-up" data-aos-delay="200">
            <a href="#hero" onclick="scrollToSection('hero')" data-i18n="nav.home">Home</a>
            <a href="#about" onclick="scrollToSection('about')" data-i18n="nav.about">Sobre</a>
            <a href="#projects" onclick="scrollToSection('projects')" data-i18n="nav.projects">Projetos</a>
            <a href="#team" onclick="scrollToSection('team')" data-i18n="nav.team">Equipe</a>
            <a href="#wiki" onclick="scrollToSection('wiki')" data-i18n="nav.wiki">Wiki</a>
            <a href="#business" onclick="scrollToSection('business')" data-i18n="nav.business">Business</a>
            <a href="#contributors" onclick="scrollToSection('contributors')" data-i18n="nav.contributors">Contributors</a>
            <a href="#faq" onclick="scrollToSection('faq')" data-i18n="nav.faq">FAQ</a>
            <a href="#support" onclick="scrollToSection('support')" data-i18n="nav.support">Suporte</a>
        </div>
        <p data-aos="fade-up" data-aos-delay="300">&copy; 2025 XPR Studio. <span data-i18n="footer.rights">Todos os direitos reservados.</span> | <span data-i18n="footer.developed">Desenvolvido com</span> <i class="fas fa-heart" style="color: #ff006e;"></i> <span data-i18n="footer.for_community">para a comunidade Roblox</span></p>
    </div>
</footer>

<!-- jQuery -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js">
    
    /* WIKI_START - Versão Expandida e Organizada */
var wikiArticles = [
    // --- SUBSEÇÃO: GUIAS INICIAIS ---
    {
        id: 1,
        category: 'Guias Iniciais',
        title: 'O que é Luau?',
        excerpt: 'Conheça a linguagem de programação poderosa por trás do Roblox.',
        content: `<h3>O que é Luau?</h3><p>Luau é uma evolução da linguagem Lua 5.1 feita pelo Roblox para performance extrema...</p>`,
        views: '5.2K',
        time: '4 min'
    },
    {
        id: 5,
        category: 'Guias Iniciais',
        title: 'Configuração do Studio',
        excerpt: 'As melhores configurações e plugins para otimizar seu fluxo de trabalho.',
        content: `<h3>Configuração do Studio</h3><p>Para um desenvolvimento ágil, ative o "Studio High DPI" e instale plugins essenciais como RigBuilder e UI Editor.</p>`,
        views: '1.5K',
        time: '6 min'
    },

    // --- SUBSEÇÃO: DESENVOLVIMENTO (AVANÇADO) ---
    {
        id: 2,
        category: 'Desenvolvimento',
        title: 'Dominando RemoteEvents',
        excerpt: 'Aprenda a comunicação essencial entre Servidor e Cliente.',
        content: `<h3>Dominando RemoteEvents</h3><p>RemoteEvents permitem que o Client peça ao Server para realizar ações seguras...</p>`,
        views: '3.8K',
        time: '12 min'
    },
    {
        id: 4,
        category: 'Desenvolvimento',
        title: 'Otimização de Scripts',
        excerpt: 'Como fazer seu jogo rodar liso em qualquer celular.',
        content: `<h3>Otimização</h3><p>Use task.wait() em vez de wait() e desconecte eventos não utilizados para evitar Memory Leaks.</p>`,
        views: '2.1K',
        time: '10 min'
    },
    {
        id: 6,
        category: 'Desenvolvimento',
        title: 'DataStore Service',
        excerpt: 'Como salvar o progresso dos jogadores de forma segura.',
        content: `<h3>DataStore Service</h3><p>Aprenda a criar sistemas de salvamento de moedas, níveis e inventários que não perdem dados.</p>`,
        views: '4.2K',
        time: '15 min'
    },

    // --- SUBSEÇÃO: GAMEPLAY & DESIGN ---
    {
        id: 3,
        category: 'Gameplay',
        title: 'Segredos do Mapa Alpha',
        excerpt: 'Localizações escondidas e easter eggs que você não conhecia.',
        content: `<h3>Segredos do Mapa Alpha</h3><p>Nossos mapas são cheios de segredos como a Caverna de Cristal e o Código do Cofre...</p>`,
        views: '8.5K',
        time: '6 min'
    },
    {
        id: 7,
        category: 'Gameplay',
        title: 'Design de Level: Fluxo e Iluminação',
        excerpt: 'Como guiar o jogador pelo mapa usando luz e cores.',
        content: `<h3>Design de Level</h3><p>A iluminação atmosférica (Atmosphere) pode mudar completamente a sensação de perigo ou segurança de um bioma.</p>`,
        views: '1.9K',
        time: '8 min'
    }
];


    function renderWikiArticles(filter = '') {
    const container = document.querySelector('.wiki-articles');
    if (!container) return;

    // 1. Filtrar artigos com base na busca
    const filtered = wikiArticles.filter(art => 
        art.title.toLowerCase().includes(filter.toLowerCase()) || 
        art.category.toLowerCase().includes(filter.toLowerCase()) ||
        art.excerpt.toLowerCase().includes(filter.toLowerCase())
    );

    if (filtered.length === 0) {
        container.innerHTML = `<div class="col-12 text-center"><p style="color: #999;">Nenhum artigo encontrado para "${filter}"</p></div>`;
        return;
    }

    // 2. Agrupar artigos por categoria
    const groups = filtered.reduce((acc, art) => {
        if (!acc[art.category]) acc[art.category] = [];
        acc[art.category].push(art);
        return acc;
    }, {});

    // 3. Renderizar HTML das subseções
    container.innerHTML = Object.keys(groups).map(category => `
        <div class="col-12 wiki-category-wrapper ${filter ? 'active' : ''}">
            <div class="wiki-category-header" onclick="this.parentElement.classList.toggle('active')">
                <h3><i class="fas fa-folder-open mr-2"></i> ${category}</h3>
                <i class="fas fa-chevron-down"></i>
            </div>
            <div class="wiki-category-content">
                <div class="row p-3">
                    ${groups[category].map(art => `
                        <div class="col-md-6 mb-3">
                            <div class="wiki-card" onclick="openWikiArticle(${art.id})" style="cursor:pointer; background: rgba(255,255,255,0.03); padding: 15px; border-radius: 10px; border: 1px solid rgba(255,255,255,0.1); height: 100%;">
                                <h5 style="color: #fff;">${art.title}</h5>
                                <p style="color: #ccc; font-size: 0.9rem; margin-bottom: 10px;">${art.excerpt}</p>
                                <div class="d-flex justify-content-between" style="font-size: 0.8rem; color: #00d4ff;">
                                    <span><i class="far fa-eye"></i> ${art.views}</span>
                                    <span><i class="far fa-clock"></i> ${art.time}</span>
                                </div>
                            </div>
                        </div>
                    `).join('')}
                </div>
            </div>
        </div>
    `).join('');
}
        
        if (window.AOS) AOS.refresh();


    // Inicializar busca da Wiki
    document.addEventListener('DOMContentLoaded', () => {
        const searchInput = document.getElementById('wikiSearch');
        if (searchInput) {
            searchInput.addEventListener('input', (e) => {
                renderWikiArticles(e.target.value);
            });
        }
        renderWikiArticles();
    });

    // ===== THEME FUNCTIONS =====
    function toggleThemeDropdown() {
        const dropdown = document.getElementById('themeDropdown');
        const langDropdown = document.getElementById('languageDropdown');
        if (langDropdown) langDropdown.classList.remove('show');
        dropdown.classList.toggle('show');
    }

    function changeTheme(theme) {
        document.body.classList.remove('theme-ocean', 'theme-midnight', 'theme-abyss', 'theme-ember', 'theme-forest', 'theme-purple', 'theme-dark');
        document.body.classList.add('theme-' + theme);
        
        // Update active class
        document.querySelectorAll('.theme-option').forEach(option => {
            option.classList.remove('active');
            if (option.getAttribute('onclick').includes(theme)) {
                option.classList.add('active');
            }
        });
        
        localStorage.setItem('xpr_theme', theme);
        const dropdown = document.getElementById('themeDropdown');
        if (dropdown) dropdown.classList.remove('show');
    }

    // Load saved theme
    document.addEventListener('DOMContentLoaded', () => {
        const savedTheme = localStorage.getItem('xpr_theme') || 'ocean';
        changeTheme(savedTheme);
    });

    // Close dropdowns on click outside
    document.addEventListener('click', (e) => {
        if (!e.target.closest('.theme-selector')) {
            const dropdown = document.getElementById('themeDropdown');
            if (dropdown) dropdown.classList.remove('show');
        }
        if (!e.target.closest('.language-selector')) {
            const dropdown = document.getElementById('languageDropdown');
            if (dropdown) dropdown.classList.remove('show');
        }
    });


    function applyThemeStyles(theme) {
        const colors = {
            'ocean': { text: '#e0f7fa', head: '#00d4ff' },
            'midnight': { text: '#00d4ff', head: '#ffffff' },
            'abyss': { text: '#888888', head: '#ffffff' },
            'ember': { text: '#ffd700', head: '#ff4500' },
            'forest': { text: '#d4edda', head: '#28a745' },
            'purple': { text: '#e1bee7', head: '#9c27b0' },
            'dark': { text: '#cccccc', head: '#ffffff' }
        };
        const c = colors[theme] || colors['ocean'];
        document.documentElement.style.setProperty('--theme-text', c.text);
        document.documentElement.style.setProperty('--theme-head', c.head);
    }

    function startSecretShow() {
        window.scrollTo({ top: 0, behavior: 'smooth' });
        const overlay = document.getElementById('secretOverlay');
        if (overlay) overlay.style.display = 'flex';
        if (window.pJSDom && window.pJSDom[0]) {
            const pJS = window.pJSDom[0].pJS;
            const originalSpeed = pJS.particles.move.speed;
            pJS.particles.move.speed = 100;
            pJS.fn.particlesRefresh();
            setTimeout(() => {
                if (overlay) overlay.style.display = 'none';
                pJS.particles.move.speed = originalSpeed;
                pJS.fn.particlesRefresh();
            }, 7000);
        }
    }
</script>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js">
    
    /* WIKI_START */
    
    var wikiArticles = [
        {
            id: 1,
            category: 'Guias Iniciais',
            title: 'O que é Luau?',
            excerpt: 'Conheça a linguagem de programação poderosa por trás do Roblox.',
            content: `
                <h3 class="wiki-article-full-title">O que é Luau?</h3>
                <div class="wiki-article-body">
                    <p>Luau é uma versão derivada da linguagem Lua 5.1, criada especificamente pelo Roblox para ser mais rápida, segura e fácil de usar.</p>
                    <h4>Por que Luau?</h4>
                    <ul>
                        <li><strong>Performance:</strong> É uma das linguagens de script mais rápidas do mundo.</li>
                        <li><strong>Tipagem Gradual:</strong> Você pode definir tipos para suas variáveis, o que ajuda a evitar erros bobos.</li>
                        <li><strong>Compatibilidade:</strong> Quase tudo que funciona em Lua funciona em Luau.</li>
                    </ul>
                    <p>No XPR Studio, usamos Luau para criar desde sistemas simples de portas até inteligências artificiais complexas para nossos NPCs.</p>
                </div>
            `,
            views: '5.2K',
            time: '4 min'
        },
        {
            id: 2,
            category: 'Desenvolvimento',
            title: 'Dominando RemoteEvents',
            excerpt: 'Aprenda a comunicação essencial entre Servidor e Cliente.',
            content: `
                <h3 class="wiki-article-full-title">Dominando RemoteEvents</h3>
                <div class="wiki-article-body">
                    <p>No Roblox, o código roda em dois lugares: no Servidor (Server) e no computador do jogador (Client). Para eles conversarem, usamos <strong>RemoteEvents</strong>.</p>
                    <h4>Exemplo Prático:</h4>
                    <p>Imagine que o jogador clica em um botão para comprar um item. O clique acontece no <em>Client</em>, mas a retirada do dinheiro deve acontecer no <em>Server</em> por segurança.</p>
                    <pre style="background: #111; padding: 15px; border-radius: 10px; color: #00d4ff; overflow-x: auto;">
-- No Client (LocalScript)
local event = game.ReplicatedStorage.ComprarItem
event:FireServer("Espada_Lendaria")

-- No Server (Script)
local event = game.ReplicatedStorage.ComprarItem
event.OnServerEvent:Connect(function(player, itemName)
    print(player.Name .. " comprou " .. itemName)
end)
                    </pre>
                    <p><strong>Dica XPR:</strong> Nunca confie no cliente! Sempre verifique no servidor se o jogador realmente tem dinheiro antes de dar o item.</p>
                </div>
            `,
            views: '3.8K',
            time: '12 min'
        },
        {
            id: 3,
            category: 'Gameplay',
            title: 'Segredos do Mapa Alpha',
            excerpt: 'Localizações escondidas e easter eggs que você não conhecia.',
            content: `
                <h3 class="wiki-article-full-title">Segredos do Mapa Alpha</h3>
                <div class="wiki-article-body">
                    <p>Nossos mapas são cheios de segredos. Aqui estão alguns que a comunidade do XPR Studio descobriu recentemente:</p>
                    <ul>
                        <li><strong>A Caverna de Cristal:</strong> Atrás da cachoeira principal, existe uma passagem secreta que leva a um minerador de gemas raras.</li>
                        <li><strong>O Código do Cofre:</strong> No escritório do prefeito, as cores dos livros na estante revelam a senha do cofre do banco.</li>
                        <li><strong>Easter Egg do Desenvolvedor:</strong> Se você dançar (/e dance) na frente da estátua do dragão por 30 segundos, ganhará uma aura temporária.</li>
                    </ul>
                    <p>Explorar compensa! Jogadores que encontram segredos ganham Badges exclusivas em nosso perfil.</p>
                </div>
            `,
            views: '8.5K',
            time: '6 min'
        },
        {
            id: 4,
            category: 'Desenvolvimento',
            title: 'Otimização de Scripts',
            excerpt: 'Como fazer seu jogo rodar liso em qualquer celular.',
            content: `
                <h3 class="wiki-article-full-title">Otimização de Scripts</h3>
                <div class="wiki-article-body">
                    <p>Um jogo travando afasta jogadores. Siga estas regras de ouro do XPR Studio:</p>
                    <h4>1. Evite o 'wait()'</h4>
                    <p>Use <code>task.wait()</code> em vez de <code>wait()</code>. Ele é muito mais preciso e eficiente.</p>
                    <h4>2. Use Eventos, não Loops</h4>
                    <p>Em vez de ficar checando toda hora se uma porta abriu com um <code>while true do</code>, use o evento <code>.Changed</code> ou <code>:GetPropertyChangedSignal()</code>.</p>
                    <h4>3. Limpeza de Memória</h4>
                    <p>Sempre desconecte eventos que não são mais usados para evitar o famoso 'Memory Leak'.</p>
                </div>
            `,
            views: '2.1K',
            time: '10 min'
        }
    ];


    function renderWikiArticles(filter = '') {
        const container = document.querySelector('.wiki-articles');
        if (!container) return;
        
        const filtered = wikiArticles.filter(art => 
            art.title.toLowerCase().includes(filter.toLowerCase()) || 
            art.excerpt.toLowerCase().includes(filter.toLowerCase())
        );

        container.innerHTML = filtered.map(art => `
            <div class="wiki-article" data-aos="fade-up">
                <div class="wiki-article-title">
                    <i class="fas fa-file-alt"></i>
                    <span>${art.title}</span>
                </div>
                <div class="wiki-article-excerpt">
                    ${art.excerpt}
                </div>
                <div class="wiki-article-meta">
                    <span><i class="fas fa-eye"></i> ${art.views} visualizações</span>
                    <span><i class="fas fa-clock"></i> ${art.time} leitura</span>
                </div>
            </div>
        `).join('');
        
        if (window.AOS) AOS.refresh();
    }

    // Inicializar busca da Wiki
    document.addEventListener('DOMContentLoaded', () => {
        const searchInput = document.getElementById('wikiSearch');
        if (searchInput) {
            searchInput.addEventListener('input', (e) => {
                renderWikiArticles(e.target.value);
            });
        }
        renderWikiArticles();
    });

    // ===== THEME FUNCTIONS =====
    function toggleThemeDropdown() {
        const dropdown = document.getElementById('themeDropdown');
        const langDropdown = document.getElementById('languageDropdown');
        if (langDropdown) langDropdown.classList.remove('show');
        dropdown.classList.toggle('show');
    }

    function changeTheme(theme) {
        document.body.classList.remove('theme-ocean', 'theme-midnight', 'theme-abyss', 'theme-ember', 'theme-forest', 'theme-purple', 'theme-dark');
        document.body.classList.add('theme-' + theme);
        
        // Update active class
        document.querySelectorAll('.theme-option').forEach(option => {
            option.classList.remove('active');
            if (option.getAttribute('onclick').includes(theme)) {
                option.classList.add('active');
            }
        });
        
        localStorage.setItem('xpr_theme', theme);
        const dropdown = document.getElementById('themeDropdown');
        if (dropdown) dropdown.classList.remove('show');
    }

    // Load saved theme
    document.addEventListener('DOMContentLoaded', () => {
        const savedTheme = localStorage.getItem('xpr_theme') || 'ocean';
        changeTheme(savedTheme);
    });

    // Close dropdowns on click outside
    document.addEventListener('click', (e) => {
        if (!e.target.closest('.theme-selector')) {
            const dropdown = document.getElementById('themeDropdown');
            if (dropdown) dropdown.classList.remove('show');
        }
        if (!e.target.closest('.language-selector')) {
            const dropdown = document.getElementById('languageDropdown');
            if (dropdown) dropdown.classList.remove('show');
        }
    });


    function applyThemeStyles(theme) {
        const colors = {
            'ocean': { text: '#e0f7fa', head: '#00d4ff' },
            'midnight': { text: '#00d4ff', head: '#ffffff' },
            'abyss': { text: '#888888', head: '#ffffff' },
            'ember': { text: '#ffd700', head: '#ff4500' },
            'forest': { text: '#d4edda', head: '#28a745' },
            'purple': { text: '#e1bee7', head: '#9c27b0' },
            'dark': { text: '#cccccc', head: '#ffffff' }
        };
        const c = colors[theme] || colors['ocean'];
        document.documentElement.style.setProperty('--theme-text', c.text);
        document.documentElement.style.setProperty('--theme-head', c.head);
    }

    function startSecretShow() {
        window.scrollTo({ top: 0, behavior: 'smooth' });
        const overlay = document.getElementById('secretOverlay');
        if (overlay) overlay.style.display = 'flex';
        if (window.pJSDom && window.pJSDom[0]) {
            const pJS = window.pJSDom[0].pJS;
            const originalSpeed = pJS.particles.move.speed;
            pJS.particles.move.speed = 100;
            pJS.fn.particlesRefresh();
            setTimeout(() => {
                if (overlay) overlay.style.display = 'none';
                pJS.particles.move.speed = originalSpeed;
                pJS.fn.particlesRefresh();
            }, 7000);
        }
    }
</script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js">
    
    /* WIKI_START */
    
    var wikiArticles = [
        {
            id: 1,
            category: 'Guias Iniciais',
            title: 'O que é Luau?',
            excerpt: 'Conheça a linguagem de programação poderosa por trás do Roblox.',
            content: `
                <h3 class="wiki-article-full-title">O que é Luau?</h3>
                <div class="wiki-article-body">
                    <p>Luau é uma versão derivada da linguagem Lua 5.1, criada especificamente pelo Roblox para ser mais rápida, segura e fácil de usar.</p>
                    <h4>Por que Luau?</h4>
                    <ul>
                        <li><strong>Performance:</strong> É uma das linguagens de script mais rápidas do mundo.</li>
                        <li><strong>Tipagem Gradual:</strong> Você pode definir tipos para suas variáveis, o que ajuda a evitar erros bobos.</li>
                        <li><strong>Compatibilidade:</strong> Quase tudo que funciona em Lua funciona em Luau.</li>
                    </ul>
                    <p>No XPR Studio, usamos Luau para criar desde sistemas simples de portas até inteligências artificiais complexas para nossos NPCs.</p>
                </div>
            `,
            views: '5.2K',
            time: '4 min'
        },
        {
            id: 2,
            category: 'Desenvolvimento',
            title: 'Dominando RemoteEvents',
            excerpt: 'Aprenda a comunicação essencial entre Servidor e Cliente.',
            content: `
                <h3 class="wiki-article-full-title">Dominando RemoteEvents</h3>
                <div class="wiki-article-body">
                    <p>No Roblox, o código roda em dois lugares: no Servidor (Server) e no computador do jogador (Client). Para eles conversarem, usamos <strong>RemoteEvents</strong>.</p>
                    <h4>Exemplo Prático:</h4>
                    <p>Imagine que o jogador clica em um botão para comprar um item. O clique acontece no <em>Client</em>, mas a retirada do dinheiro deve acontecer no <em>Server</em> por segurança.</p>
                    <pre style="background: #111; padding: 15px; border-radius: 10px; color: #00d4ff; overflow-x: auto;">
-- No Client (LocalScript)
local event = game.ReplicatedStorage.ComprarItem
event:FireServer("Espada_Lendaria")

-- No Server (Script)
local event = game.ReplicatedStorage.ComprarItem
event.OnServerEvent:Connect(function(player, itemName)
    print(player.Name .. " comprou " .. itemName)
end)
                    </pre>
                    <p><strong>Dica XPR:</strong> Nunca confie no cliente! Sempre verifique no servidor se o jogador realmente tem dinheiro antes de dar o item.</p>
                </div>
            `,
            views: '3.8K',
            time: '12 min'
        },
        {
            id: 3,
            category: 'Gameplay',
            title: 'Segredos do Mapa Alpha',
            excerpt: 'Localizações escondidas e easter eggs que você não conhecia.',
            content: `
                <h3 class="wiki-article-full-title">Segredos do Mapa Alpha</h3>
                <div class="wiki-article-body">
                    <p>Nossos mapas são cheios de segredos. Aqui estão alguns que a comunidade do XPR Studio descobriu recentemente:</p>
                    <ul>
                        <li><strong>A Caverna de Cristal:</strong> Atrás da cachoeira principal, existe uma passagem secreta que leva a um minerador de gemas raras.</li>
                        <li><strong>O Código do Cofre:</strong> No escritório do prefeito, as cores dos livros na estante revelam a senha do cofre do banco.</li>
                        <li><strong>Easter Egg do Desenvolvedor:</strong> Se você dançar (/e dance) na frente da estátua do dragão por 30 segundos, ganhará uma aura temporária.</li>
                    </ul>
                    <p>Explorar compensa! Jogadores que encontram segredos ganham Badges exclusivas em nosso perfil.</p>
                </div>
            `,
            views: '8.5K',
            time: '6 min'
        },
        {
            id: 4,
            category: 'Desenvolvimento',
            title: 'Otimização de Scripts',
            excerpt: 'Como fazer seu jogo rodar liso em qualquer celular.',
            content: `
                <h3 class="wiki-article-full-title">Otimização de Scripts</h3>
                <div class="wiki-article-body">
                    <p>Um jogo travando afasta jogadores. Siga estas regras de ouro do XPR Studio:</p>
                    <h4>1. Evite o 'wait()'</h4>
                    <p>Use <code>task.wait()</code> em vez de <code>wait()</code>. Ele é muito mais preciso e eficiente.</p>
                    <h4>2. Use Eventos, não Loops</h4>
                    <p>Em vez de ficar checando toda hora se uma porta abriu com um <code>while true do</code>, use o evento <code>.Changed</code> ou <code>:GetPropertyChangedSignal()</code>.</p>
                    <h4>3. Limpeza de Memória</h4>
                    <p>Sempre desconecte eventos que não são mais usados para evitar o famoso 'Memory Leak'.</p>
                </div>
            `,
            views: '2.1K',
            time: '10 min'
        }
    ];


    function renderWikiArticles(filter = '') {
        const container = document.querySelector('.wiki-articles');
        if (!container) return;
        
        const filtered = wikiArticles.filter(art => 
            art.title.toLowerCase().includes(filter.toLowerCase()) || 
            art.excerpt.toLowerCase().includes(filter.toLowerCase())
        );

        container.innerHTML = filtered.map(art => `
            <div class="wiki-article" data-aos="fade-up">
                <div class="wiki-article-title">
                    <i class="fas fa-file-alt"></i>
                    <span>${art.title}</span>
                </div>
                <div class="wiki-article-excerpt">
                    ${art.excerpt}
                </div>
                <div class="wiki-article-meta">
                    <span><i class="fas fa-eye"></i> ${art.views} visualizações</span>
                    <span><i class="fas fa-clock"></i> ${art.time} leitura</span>
                </div>
            </div>
        `).join('');
        
        if (window.AOS) AOS.refresh();
    }

    // Inicializar busca da Wiki
    document.addEventListener('DOMContentLoaded', () => {
        const searchInput = document.getElementById('wikiSearch');
        if (searchInput) {
            searchInput.addEventListener('input', (e) => {
                renderWikiArticles(e.target.value);
            });
        }
        renderWikiArticles();
    });

    // ===== THEME FUNCTIONS =====
    function toggleThemeDropdown() {
        const dropdown = document.getElementById('themeDropdown');
        const langDropdown = document.getElementById('languageDropdown');
        if (langDropdown) langDropdown.classList.remove('show');
        dropdown.classList.toggle('show');
    }

    function changeTheme(theme) {
        document.body.classList.remove('theme-ocean', 'theme-midnight', 'theme-abyss', 'theme-ember', 'theme-forest', 'theme-purple', 'theme-dark');
        document.body.classList.add('theme-' + theme);
        
        // Update active class
        document.querySelectorAll('.theme-option').forEach(option => {
            option.classList.remove('active');
            if (option.getAttribute('onclick').includes(theme)) {
                option.classList.add('active');
            }
        });
        
        localStorage.setItem('xpr_theme', theme);
        const dropdown = document.getElementById('themeDropdown');
        if (dropdown) dropdown.classList.remove('show');
    }

    // Load saved theme
    document.addEventListener('DOMContentLoaded', () => {
        const savedTheme = localStorage.getItem('xpr_theme') || 'ocean';
        changeTheme(savedTheme);
    });

    // Close dropdowns on click outside
    document.addEventListener('click', (e) => {
        if (!e.target.closest('.theme-selector')) {
            const dropdown = document.getElementById('themeDropdown');
            if (dropdown) dropdown.classList.remove('show');
        }
        if (!e.target.closest('.language-selector')) {
            const dropdown = document.getElementById('languageDropdown');
            if (dropdown) dropdown.classList.remove('show');
        }
    });


    function applyThemeStyles(theme) {
        const colors = {
            'ocean': { text: '#e0f7fa', head: '#00d4ff' },
            'midnight': { text: '#00d4ff', head: '#ffffff' },
            'abyss': { text: '#888888', head: '#ffffff' },
            'ember': { text: '#ffd700', head: '#ff4500' },
            'forest': { text: '#d4edda', head: '#28a745' },
            'purple': { text: '#e1bee7', head: '#9c27b0' },
            'dark': { text: '#cccccc', head: '#ffffff' }
        };
        const c = colors[theme] || colors['ocean'];
        document.documentElement.style.setProperty('--theme-text', c.text);
        document.documentElement.style.setProperty('--theme-head', c.head);
    }

    function startSecretShow() {
        window.scrollTo({ top: 0, behavior: 'smooth' });
        const overlay = document.getElementById('secretOverlay');
        if (overlay) overlay.style.display = 'flex';
        if (window.pJSDom && window.pJSDom[0]) {
            const pJS = window.pJSDom[0].pJS;
            const originalSpeed = pJS.particles.move.speed;
            pJS.particles.move.speed = 100;
            pJS.fn.particlesRefresh();
            setTimeout(() => {
                if (overlay) overlay.style.display = 'none';
                pJS.particles.move.speed = originalSpeed;
                pJS.fn.particlesRefresh();
            }, 7000);
        }
    }
</script>

<!-- Pace.js (Loading Bar) -->
<script src="https://cdn.jsdelivr.net/npm/pace-js@latest/pace.min.js">
    
    /* WIKI_START */
    
    var wikiArticles = [
        {
            id: 1,
            category: 'Guias Iniciais',
            title: 'O que é Luau?',
            excerpt: 'Conheça a linguagem de programação poderosa por trás do Roblox.',
            content: `
                <h3 class="wiki-article-full-title">O que é Luau?</h3>
                <div class="wiki-article-body">
                    <p>Luau é uma versão derivada da linguagem Lua 5.1, criada especificamente pelo Roblox para ser mais rápida, segura e fácil de usar.</p>
                    <h4>Por que Luau?</h4>
                    <ul>
                        <li><strong>Performance:</strong> É uma das linguagens de script mais rápidas do mundo.</li>
                        <li><strong>Tipagem Gradual:</strong> Você pode definir tipos para suas variáveis, o que ajuda a evitar erros bobos.</li>
                        <li><strong>Compatibilidade:</strong> Quase tudo que funciona em Lua funciona em Luau.</li>
                    </ul>
                    <p>No XPR Studio, usamos Luau para criar desde sistemas simples de portas até inteligências artificiais complexas para nossos NPCs.</p>
                </div>
            `,
            views: '5.2K',
            time: '4 min'
        },
        {
            id: 2,
            category: 'Desenvolvimento',
            title: 'Dominando RemoteEvents',
            excerpt: 'Aprenda a comunicação essencial entre Servidor e Cliente.',
            content: `
                <h3 class="wiki-article-full-title">Dominando RemoteEvents</h3>
                <div class="wiki-article-body">
                    <p>No Roblox, o código roda em dois lugares: no Servidor (Server) e no computador do jogador (Client). Para eles conversarem, usamos <strong>RemoteEvents</strong>.</p>
                    <h4>Exemplo Prático:</h4>
                    <p>Imagine que o jogador clica em um botão para comprar um item. O clique acontece no <em>Client</em>, mas a retirada do dinheiro deve acontecer no <em>Server</em> por segurança.</p>
                    <pre style="background: #111; padding: 15px; border-radius: 10px; color: #00d4ff; overflow-x: auto;">
-- No Client (LocalScript)
local event = game.ReplicatedStorage.ComprarItem
event:FireServer("Espada_Lendaria")

-- No Server (Script)
local event = game.ReplicatedStorage.ComprarItem
event.OnServerEvent:Connect(function(player, itemName)
    print(player.Name .. " comprou " .. itemName)
end)
                    </pre>
                    <p><strong>Dica XPR:</strong> Nunca confie no cliente! Sempre verifique no servidor se o jogador realmente tem dinheiro antes de dar o item.</p>
                </div>
            `,
            views: '3.8K',
            time: '12 min'
        },
        {
            id: 3,
            category: 'Gameplay',
            title: 'Segredos do Mapa Alpha',
            excerpt: 'Localizações escondidas e easter eggs que você não conhecia.',
            content: `
                <h3 class="wiki-article-full-title">Segredos do Mapa Alpha</h3>
                <div class="wiki-article-body">
                    <p>Nossos mapas são cheios de segredos. Aqui estão alguns que a comunidade do XPR Studio descobriu recentemente:</p>
                    <ul>
                        <li><strong>A Caverna de Cristal:</strong> Atrás da cachoeira principal, existe uma passagem secreta que leva a um minerador de gemas raras.</li>
                        <li><strong>O Código do Cofre:</strong> No escritório do prefeito, as cores dos livros na estante revelam a senha do cofre do banco.</li>
                        <li><strong>Easter Egg do Desenvolvedor:</strong> Se você dançar (/e dance) na frente da estátua do dragão por 30 segundos, ganhará uma aura temporária.</li>
                    </ul>
                    <p>Explorar compensa! Jogadores que encontram segredos ganham Badges exclusivas em nosso perfil.</p>
                </div>
            `,
            views: '8.5K',
            time: '6 min'
        },
        {
            id: 4,
            category: 'Desenvolvimento',
            title: 'Otimização de Scripts',
            excerpt: 'Como fazer seu jogo rodar liso em qualquer celular.',
            content: `
                <h3 class="wiki-article-full-title">Otimização de Scripts</h3>
                <div class="wiki-article-body">
                    <p>Um jogo travando afasta jogadores. Siga estas regras de ouro do XPR Studio:</p>
                    <h4>1. Evite o 'wait()'</h4>
                    <p>Use <code>task.wait()</code> em vez de <code>wait()</code>. Ele é muito mais preciso e eficiente.</p>
                    <h4>2. Use Eventos, não Loops</h4>
                    <p>Em vez de ficar checando toda hora se uma porta abriu com um <code>while true do</code>, use o evento <code>.Changed</code> ou <code>:GetPropertyChangedSignal()</code>.</p>
                    <h4>3. Limpeza de Memória</h4>
                    <p>Sempre desconecte eventos que não são mais usados para evitar o famoso 'Memory Leak'.</p>
                </div>
            `,
            views: '2.1K',
            time: '10 min'
        }
    ];


    function renderWikiArticles(filter = '') {
        const container = document.querySelector('.wiki-articles');
        if (!container) return;
        
        const filtered = wikiArticles.filter(art => 
            art.title.toLowerCase().includes(filter.toLowerCase()) || 
            art.excerpt.toLowerCase().includes(filter.toLowerCase())
        );

        container.innerHTML = filtered.map(art => `
            <div class="wiki-article" data-aos="fade-up">
                <div class="wiki-article-title">
                    <i class="fas fa-file-alt"></i>
                    <span>${art.title}</span>
                </div>
                <div class="wiki-article-excerpt">
                    ${art.excerpt}
                </div>
                <div class="wiki-article-meta">
                    <span><i class="fas fa-eye"></i> ${art.views} visualizações</span>
                    <span><i class="fas fa-clock"></i> ${art.time} leitura</span>
                </div>
            </div>
        `).join('');
        
        if (window.AOS) AOS.refresh();
    }

    // Inicializar busca da Wiki
    document.addEventListener('DOMContentLoaded', () => {
        const searchInput = document.getElementById('wikiSearch');
        if (searchInput) {
            searchInput.addEventListener('input', (e) => {
                renderWikiArticles(e.target.value);
            });
        }
        renderWikiArticles();
    });

    // ===== THEME FUNCTIONS =====
    function toggleThemeDropdown() {
        const dropdown = document.getElementById('themeDropdown');
        const langDropdown = document.getElementById('languageDropdown');
        if (langDropdown) langDropdown.classList.remove('show');
        dropdown.classList.toggle('show');
    }

    function changeTheme(theme) {
        document.body.classList.remove('theme-ocean', 'theme-midnight', 'theme-abyss', 'theme-ember', 'theme-forest', 'theme-purple', 'theme-dark');
        document.body.classList.add('theme-' + theme);
        
        // Update active class
        document.querySelectorAll('.theme-option').forEach(option => {
            option.classList.remove('active');
            if (option.getAttribute('onclick').includes(theme)) {
                option.classList.add('active');
            }
        });
        
        localStorage.setItem('xpr_theme', theme);
        const dropdown = document.getElementById('themeDropdown');
        if (dropdown) dropdown.classList.remove('show');
    }

    // Load saved theme
    document.addEventListener('DOMContentLoaded', () => {
        const savedTheme = localStorage.getItem('xpr_theme') || 'ocean';
        changeTheme(savedTheme);
    });

    // Close dropdowns on click outside
    document.addEventListener('click', (e) => {
        if (!e.target.closest('.theme-selector')) {
            const dropdown = document.getElementById('themeDropdown');
            if (dropdown) dropdown.classList.remove('show');
        }
        if (!e.target.closest('.language-selector')) {
            const dropdown = document.getElementById('languageDropdown');
            if (dropdown) dropdown.classList.remove('show');
        }
    });


    function applyThemeStyles(theme) {
        const colors = {
            'ocean': { text: '#e0f7fa', head: '#00d4ff' },
            'midnight': { text: '#00d4ff', head: '#ffffff' },
            'abyss': { text: '#888888', head: '#ffffff' },
            'ember': { text: '#ffd700', head: '#ff4500' },
            'forest': { text: '#d4edda', head: '#28a745' },
            'purple': { text: '#e1bee7', head: '#9c27b0' },
            'dark': { text: '#cccccc', head: '#ffffff' }
        };
        const c = colors[theme] || colors['ocean'];
        document.documentElement.style.setProperty('--theme-text', c.text);
        document.documentElement.style.setProperty('--theme-head', c.head);
    }

    function startSecretShow() {
        window.scrollTo({ top: 0, behavior: 'smooth' });
        const overlay = document.getElementById('secretOverlay');
        if (overlay) overlay.style.display = 'flex';
        if (window.pJSDom && window.pJSDom[0]) {
            const pJS = window.pJSDom[0].pJS;
            const originalSpeed = pJS.particles.move.speed;
            pJS.particles.move.speed = 100;
            pJS.fn.particlesRefresh();
            setTimeout(() => {
                if (overlay) overlay.style.display = 'none';
                pJS.particles.move.speed = originalSpeed;
                pJS.fn.particlesRefresh();
            }, 7000);
        }
    }
</script>

<!-- AOS (Animate On Scroll) -->
<script src="https://unpkg.com/aos@2.3.1/dist/aos.js">
    
    /* WIKI_START */
    
    var wikiArticles = [
        {
            id: 1,
            category: 'Guias Iniciais',
            title: 'O que é Luau?',
            excerpt: 'Conheça a linguagem de programação poderosa por trás do Roblox.',
            content: `
                <h3 class="wiki-article-full-title">O que é Luau?</h3>
                <div class="wiki-article-body">
                    <p>Luau é uma versão derivada da linguagem Lua 5.1, criada especificamente pelo Roblox para ser mais rápida, segura e fácil de usar.</p>
                    <h4>Por que Luau?</h4>
                    <ul>
                        <li><strong>Performance:</strong> É uma das linguagens de script mais rápidas do mundo.</li>
                        <li><strong>Tipagem Gradual:</strong> Você pode definir tipos para suas variáveis, o que ajuda a evitar erros bobos.</li>
                        <li><strong>Compatibilidade:</strong> Quase tudo que funciona em Lua funciona em Luau.</li>
                    </ul>
                    <p>No XPR Studio, usamos Luau para criar desde sistemas simples de portas até inteligências artificiais complexas para nossos NPCs.</p>
                </div>
            `,
            views: '5.2K',
            time: '4 min'
        },
        {
            id: 2,
            category: 'Desenvolvimento',
            title: 'Dominando RemoteEvents',
            excerpt: 'Aprenda a comunicação essencial entre Servidor e Cliente.',
            content: `
                <h3 class="wiki-article-full-title">Dominando RemoteEvents</h3>
                <div class="wiki-article-body">
                    <p>No Roblox, o código roda em dois lugares: no Servidor (Server) e no computador do jogador (Client). Para eles conversarem, usamos <strong>RemoteEvents</strong>.</p>
                    <h4>Exemplo Prático:</h4>
                    <p>Imagine que o jogador clica em um botão para comprar um item. O clique acontece no <em>Client</em>, mas a retirada do dinheiro deve acontecer no <em>Server</em> por segurança.</p>
                    <pre style="background: #111; padding: 15px; border-radius: 10px; color: #00d4ff; overflow-x: auto;">
-- No Client (LocalScript)
local event = game.ReplicatedStorage.ComprarItem
event:FireServer("Espada_Lendaria")

-- No Server (Script)
local event = game.ReplicatedStorage.ComprarItem
event.OnServerEvent:Connect(function(player, itemName)
    print(player.Name .. " comprou " .. itemName)
end)
                    </pre>
                    <p><strong>Dica XPR:</strong> Nunca confie no cliente! Sempre verifique no servidor se o jogador realmente tem dinheiro antes de dar o item.</p>
                </div>
            `,
            views: '3.8K',
            time: '12 min'
        },
        {
            id: 3,
            category: 'Gameplay',
            title: 'Segredos do Mapa Alpha',
            excerpt: 'Localizações escondidas e easter eggs que você não conhecia.',
            content: `
                <h3 class="wiki-article-full-title">Segredos do Mapa Alpha</h3>
                <div class="wiki-article-body">
                    <p>Nossos mapas são cheios de segredos. Aqui estão alguns que a comunidade do XPR Studio descobriu recentemente:</p>
                    <ul>
                        <li><strong>A Caverna de Cristal:</strong> Atrás da cachoeira principal, existe uma passagem secreta que leva a um minerador de gemas raras.</li>
                        <li><strong>O Código do Cofre:</strong> No escritório do prefeito, as cores dos livros na estante revelam a senha do cofre do banco.</li>
                        <li><strong>Easter Egg do Desenvolvedor:</strong> Se você dançar (/e dance) na frente da estátua do dragão por 30 segundos, ganhará uma aura temporária.</li>
                    </ul>
                    <p>Explorar compensa! Jogadores que encontram segredos ganham Badges exclusivas em nosso perfil.</p>
                </div>
            `,
            views: '8.5K',
            time: '6 min'
        },
        {
            id: 4,
            category: 'Desenvolvimento',
            title: 'Otimização de Scripts',
            excerpt: 'Como fazer seu jogo rodar liso em qualquer celular.',
            content: `
                <h3 class="wiki-article-full-title">Otimização de Scripts</h3>
                <div class="wiki-article-body">
                    <p>Um jogo travando afasta jogadores. Siga estas regras de ouro do XPR Studio:</p>
                    <h4>1. Evite o 'wait()'</h4>
                    <p>Use <code>task.wait()</code> em vez de <code>wait()</code>. Ele é muito mais preciso e eficiente.</p>
                    <h4>2. Use Eventos, não Loops</h4>
                    <p>Em vez de ficar checando toda hora se uma porta abriu com um <code>while true do</code>, use o evento <code>.Changed</code> ou <code>:GetPropertyChangedSignal()</code>.</p>
                    <h4>3. Limpeza de Memória</h4>
                    <p>Sempre desconecte eventos que não são mais usados para evitar o famoso 'Memory Leak'.</p>
                </div>
            `,
            views: '2.1K',
            time: '10 min'
        }
    ];


    function renderWikiArticles(filter = '') {
        const container = document.querySelector('.wiki-articles');
        if (!container) return;
        
        const filtered = wikiArticles.filter(art => 
            art.title.toLowerCase().includes(filter.toLowerCase()) || 
            art.excerpt.toLowerCase().includes(filter.toLowerCase())
        );

        container.innerHTML = filtered.map(art => `
            <div class="wiki-article" data-aos="fade-up">
                <div class="wiki-article-title">
                    <i class="fas fa-file-alt"></i>
                    <span>${art.title}</span>
                </div>
                <div class="wiki-article-excerpt">
                    ${art.excerpt}
                </div>
                <div class="wiki-article-meta">
                    <span><i class="fas fa-eye"></i> ${art.views} visualizações</span>
                    <span><i class="fas fa-clock"></i> ${art.time} leitura</span>
                </div>
            </div>
        `).join('');
        
        if (window.AOS) AOS.refresh();
    }

    // Inicializar busca da Wiki
    document.addEventListener('DOMContentLoaded', () => {
        const searchInput = document.getElementById('wikiSearch');
        if (searchInput) {
            searchInput.addEventListener('input', (e) => {
                renderWikiArticles(e.target.value);
            });
        }
        renderWikiArticles();
    });

    // ===== THEME FUNCTIONS =====
    function toggleThemeDropdown() {
        const dropdown = document.getElementById('themeDropdown');
        const langDropdown = document.getElementById('languageDropdown');
        if (langDropdown) langDropdown.classList.remove('show');
        dropdown.classList.toggle('show');
    }

    function changeTheme(theme) {
        document.body.classList.remove('theme-ocean', 'theme-midnight', 'theme-abyss', 'theme-ember', 'theme-forest', 'theme-purple', 'theme-dark');
        document.body.classList.add('theme-' + theme);
        
        // Update active class
        document.querySelectorAll('.theme-option').forEach(option => {
            option.classList.remove('active');
            if (option.getAttribute('onclick').includes(theme)) {
                option.classList.add('active');
            }
        });
        
        localStorage.setItem('xpr_theme', theme);
        const dropdown = document.getElementById('themeDropdown');
        if (dropdown) dropdown.classList.remove('show');
    }

    // Load saved theme
    document.addEventListener('DOMContentLoaded', () => {
        const savedTheme = localStorage.getItem('xpr_theme') || 'ocean';
        changeTheme(savedTheme);
    });

    // Close dropdowns on click outside
    document.addEventListener('click', (e) => {
        if (!e.target.closest('.theme-selector')) {
            const dropdown = document.getElementById('themeDropdown');
            if (dropdown) dropdown.classList.remove('show');
        }
        if (!e.target.closest('.language-selector')) {
            const dropdown = document.getElementById('languageDropdown');
            if (dropdown) dropdown.classList.remove('show');
        }
    });


    function applyThemeStyles(theme) {
        const colors = {
            'ocean': { text: '#e0f7fa', head: '#00d4ff' },
            'midnight': { text: '#00d4ff', head: '#ffffff' },
            'abyss': { text: '#888888', head: '#ffffff' },
            'ember': { text: '#ffd700', head: '#ff4500' },
            'forest': { text: '#d4edda', head: '#28a745' },
            'purple': { text: '#e1bee7', head: '#9c27b0' },
            'dark': { text: '#cccccc', head: '#ffffff' }
        };
        const c = colors[theme] || colors['ocean'];
        document.documentElement.style.setProperty('--theme-text', c.text);
        document.documentElement.style.setProperty('--theme-head', c.head);
    }

    function startSecretShow() {
        window.scrollTo({ top: 0, behavior: 'smooth' });
        const overlay = document.getElementById('secretOverlay');
        if (overlay) overlay.style.display = 'flex';
        if (window.pJSDom && window.pJSDom[0]) {
            const pJS = window.pJSDom[0].pJS;
            const originalSpeed = pJS.particles.move.speed;
            pJS.particles.move.speed = 100;
            pJS.fn.particlesRefresh();
            setTimeout(() => {
                if (overlay) overlay.style.display = 'none';
                pJS.particles.move.speed = originalSpeed;
                pJS.fn.particlesRefresh();
            }, 7000);
        }
    }
</script>

<script>
    // ===== LANGUAGE MANAGEMENT =====
    const translations = {
        'pt': {
            // Navigation
            'nav.home': 'Menu Principal',
            'nav.about': 'Sobre nós',
            'nav.projects': 'Projetos',
            'nav.team': 'Nosso Time',
            'nav.wiki': 'Wiki',
            'nav.business': 'Negócios',
            'nav.contributors': 'Contribuidores',
            'nav.faq': 'FAQ',
            'nav.support': 'Suporte',
            'nav.login': 'Login',
            'theme.dark': 'Escuro',
            'theme.purple': 'Roxo',
            'theme.forest': 'Floresta',
            'theme.midnight': 'Meia-Noite',
            'theme.abyss': 'Abismo',
            'theme.ember': 'Brasa Escuro',
            'theme.ocean': 'Oceano Azul',
            'nav.theme': 'Tema',
            
            // Auth
            'auth.login': 'Login',
            'auth.register': 'Registrar',
            'auth.login_title': 'Faça Login',
            'auth.login_subtitle': 'Acesse sua conta XPR Studio',
            'auth.register_title': 'Criar Conta',
            'auth.register_subtitle': 'Registre-se gratuitamente no XPR Studio',
            'auth.username': 'Usuário:',
            'auth.password': 'Senha:',
            'auth.email': 'Email:',
            'auth.confirm_password': 'Confirmar Senha:',
            'auth.username_placeholder': 'Digite seu usuário',
            'auth.password_placeholder': 'Digite sua senha',
            'auth.username_register_placeholder': 'Escolha um usuário',
            'auth.email_placeholder': 'seu@email.com',
            'auth.password_register_placeholder': 'Crie uma senha forte',
            'auth.confirm_password_placeholder': 'Digite a senha novamente',
            'auth.username_hint': 'Mínimo 3 caracteres',
            'auth.login_button': 'Entrar',
            'auth.register_button': 'Criar Conta',
            'auth.forgot_password': 'Esqueceu sua senha?',
            'auth_prompt_username': 'Digite seu nome de usuário:',
            'auth_recovery_success': 'Usuário encontrado!',
            'auth_your_password_is': 'Sua senha é:',
            'auth_error_user_not_found': 'Usuário não encontrado.',
            
            // Hero
            'hero.description': 'Criando experiências inesquecíveis no Roblox. Somos uma equipe dedicada a trazer inovação e diversão para milhares de jogadores.',
            'hero.play_now': 'Jogar Agora',
            'hero.our_projects': 'Nossos Projetos',
            
            // Stats
            'stats.title': 'Quem Somos',
            'stats.active_players': 'Jogadores Ativos',
            'stats.discord_members': 'Membros Discord',
            'stats.active_games': 'Jogos Ativos',
            'stats.average_rating': 'Classificação Média',
            
            // About
            'about.title': 'Sobre a XPR Studio',
            'about.mission_title': 'Missão & Visão',
            'about.mission_text1': 'A XPR Studio foi fundada com a missão de criar experiências de jogos incríveis no Roblox. Nosso objetivo é ir além dos limites da plataforma, oferecendo conteúdo inovador e envolvente.',
            'about.mission_text2': 'Acreditamos que cada jogo deve contar uma história, desafiar os jogadores e criar comunidades vibrantes. Nossos projetos são desenvolvidos com paixão e dedicação.',
            'about.mission_text3': 'Com uma equipe talentosa de desenvolvedores, designers e criadores de conteúdo, estamos comprometidos em trazer o melhor para nossos jogadores.',
            
            // Projects
            'projects.title': 'Nossos Projetos',
            'projects.project1.title': 'Attack On Titan: New Hope',
            'projects.project1.description': 'Uma aventura épica repleta de desafios e mistérios. Explore mundos fantásticos e enfrente inimigos poderosos.',
            'projects.project2.title': 'WIP',
            'projects.project2.description': 'WIP',
            'projects.project3.title': 'WIP2',
            'projects.project3.description': 'WIP',
            'projects.players': 'Jogadores',
            'projects.rating': 'Avaliação',
            'projects.visits': 'Visitas',
            'projects.view': 'Ver',
            
            // Team
            'team.title': 'Nossa Equipe',
            'team.role1': 'Co-Proprietário do Estúdio & Desenvolvedor Sênior',
            'team.role2': 'Desenvolvedor Principal & Fundador do Estúdio',
            'team.role3': 'Desenvolvedor Sub-Chefe de Web',
            'team.role4': 'Gerente de Comunidade',
            'team.bio1': 'Visionário com 2+ anos de experiência em desenvolvimento de jogos. Lidera a criatividade e inovação de todos os projetos.',
            'team.bio2': 'Especialista em Lua e Roblox Studio. Responsável pela arquitetura técnica e otimização de performance.',
            'team.bio3': 'Desenvolvedor Intermediário com foco em soluções web. Mantém o site oficial e integrações online.',
            'team.bio4': 'Conecta jogadores com a equipe. Gerencia redes sociais, Discord e eventos da comunidade.',
            
            // Wiki
            'wiki.title': 'Wiki & Documentação',
            'wiki.search_placeholder': 'O que gostaria de procurar hoje?',
            'wiki.category1.title': 'Guias Iniciais',
            'wiki.category1.count': '12 artigos',
            'wiki.category2.title': 'Desenvolvimento',
            'wiki.category2.count': '24 artigos',
            'wiki.category3.title': 'Gameplay',
            'wiki.category3.count': '18 artigos',
            'wiki.category4.title': 'Troubleshooting',
            'wiki.category4.count': '15 artigos',
            'wiki.article1.title': 'Como Começar no XPR Studio',
            'wiki.article1.excerpt': 'O jogo de Attack On Titan: New Hope é um RPG de ação baseado no popular anime/mangá. Este guia irá ajudá-lo a começar sua jornada como um soldado na luta contra os Titãs.',
            'wiki.article2.title': 'API de Desenvolvimento',
            'wiki.article2.excerpt': 'Documentação completa da API para desenvolvedores que desejam criar conteúdo customizado ou plugins para nossos jogos.',
            'wiki.article3.title': 'Sistema de Conquistas',
            'wiki.article3.excerpt': 'Descubra todas as conquistas disponíveis, como desbloqueá-las e as recompensas exclusivas que você pode ganhar.',
            'wiki.article4.title': 'Segurança da Conta',
            'wiki.article4.excerpt': 'Dicas importantes para manter sua conta segura, incluindo autenticação de dois fatores e boas práticas de senha.',
            'wiki.article5.title': 'Customização de Personagem',
            'wiki.article5.excerpt': 'Guia completo sobre como personalizar seu personagem, desde roupas e acessórios até habilidades especiais.',
            'wiki.article6.title': 'Modo Multiplayer',
            'wiki.article6.excerpt': 'Tudo sobre jogar com amigos, criar grupos, e dominar os modos de jogo competitivos e cooperativos.',
            'wiki.views': 'views',
            'wiki.reading_time': 'min read',
            
            // Business
            'business.title': 'Soluções para Negócios',
            'business.intro': 'Oferecemos serviços profissionais de desenvolvimento de jogos Roblox para empresas, marcas e criadores que desejam levar suas ideias ao próximo nível.',
            'business.service1.title': 'Desenvolvimento Completo',
            'business.service1.description': 'Desenvolvemos jogos Roblox do zero, desde o conceito inicial até o lançamento. Inclui game design, programação, arte 3D, e testes completos.',
            'business.service2.title': 'Consultoria & Suporte',
            'business.service2.description': 'Ajudamos a otimizar jogos existentes, melhorar performance, implementar novos recursos e fornecer suporte técnico contínuo.',
            'business.service3.title': 'Marketing & Crescimento',
            'business.service3.description': 'Estratégias de marketing no Roblox, gestão de comunidade, campanhas de influenciadores e análise de métricas para maximizar alcance.',
            'business.service4.title': 'Design & Arte 3D',
            'business.service4.description': 'Criação de assets 3D customizados, ambientes imersivos, personagens únicos e interfaces de usuário profissionais.',
            'business.service5.title': 'Branded Experiences',
            'business.service5.description': 'Criamos experiências de marca imersivas no Roblox para empresas que desejam se conectar com a comunidade gamer.',
            'business.service6.title': 'Treinamento & Workshops',
            'business.service6.description': 'Workshops personalizados e treinamentos para equipes que desejam aprender desenvolvimento Roblox e melhores práticas.',
            'business.starting_from': 'A partir de',
            'business.cta.title': 'Pronto para transformar sua ideia em realidade?',
            'business.cta.subtitle': 'Entre em contato conosco para discutir seu projeto e receber um orçamento personalizado.',
            'business.cta.quote': 'Solicitar Orçamento',
            'business.cta.portfolio': 'Ver Portfólio',
            'business.contact.title': 'Contatos Profissionais',
            'business.contact.subtitle': 'Entre em contato conosco através dos canais especializados abaixo',
            'business.contact.partnership.title': 'Parcerias',
            'business.contact.partnership.description': 'Interessado em parcerias estratégicas ou colaborações?',
            'business.contact.hiring.title': 'Contratação',
            'business.contact.hiring.description': 'Procurando talentos excepcionais? Fale conosco.',
            'business.contact.work.title': 'Trabalhe Conosco',
            'business.contact.work.description': 'Quer fazer parte da equipe XPR Studio?',
            'business.contact.policy.title': 'Reportar Violação',
            'business.contact.policy.description': 'Reporte violações de políticas ou termos de uso.',
            'business.contact.report.title': 'Reportar Staff',
            'business.contact.report.description': 'Reporte comportamento inadequado de membros da equipe.',
            'business.contact.general.title': 'Contato Geral',
            'business.contact.general.description': 'Para outras questões ou dúvidas gerais.',
            'business.contact.send_proposal': 'Enviar Proposta',
            'business.contact.request_hiring': 'Solicitar Contratação',
            'business.contact.register_application': 'Registrar Candidatura',
            'business.contact.report_violation': 'Reportar Violação',
            'business.contact.send_report': 'Enviar Relatório',
            'business.contact.send_message': 'Enviar Mensagem',
            
            // Modal
            'modal.contact': 'Contato',
            'modal.full_name': 'Nome Completo:',
            'modal.email': 'Email:',
            'modal.company': 'Empresa/Organização:',
            'modal.subject': 'Assunto:',
            'modal.message': 'Mensagem:',
            'modal.full_name_placeholder': 'Seu nome completo',
            'modal.email_placeholder': 'seu@email.com',
            'modal.company_placeholder': 'Nome da empresa (opcional)',
            'modal.subject_placeholder': 'Resumo do assunto',
            'modal.message_placeholder': 'Descreva sua solicitação em detalhes...',
            'modal.send_request': 'Enviar Solicitação',
            
            // Contributors
            'contributors.title': 'Contribuidores',
            'contributors.intro': 'Nosso sucesso é resultado do trabalho dedicado de incríveis desenvolvedores, designers, testadores e membros da comunidade que contribuem para nossos projetos.',
            'contributors.stat1': 'Total de Contribuidores',
            'contributors.stat2': 'Commits',
            'contributors.stat3': 'Issues Resolvidas',
            'contributors.stat4': 'Pull Requests',
            'contributors.role1': 'Patreon',
            'contributors.role2': 'Investor',
            'contributors.role3': 'Contributor',
            'contributors.role4': 'UI/UX Designer',
            'contributors.role5': 'QA Engineer',
            'contributors.role6': '3D Artist',
            'contributors.role7': 'Documentation',
            'contributors.role8': 'Localization',
            'contributors.commits': 'Commits',
            'contributors.prs': 'PRs',
            'contributors.issues': 'Issues',
            'contributors.assets': 'Assets',
            'contributors.docs': 'Docs',
            'contributors.strings': 'Strings',
            'contributors.become.title': 'Torne-se um Contribuidor',
            'contributors.become.description': 'Junte-se à nossa comunidade de desenvolvedores e ajude a construir o futuro do XPR Studio!',
            'contributors.become.button': 'Começar a Contribuir',
            
            // FAQ
            'faq.title': 'Perguntas Frequentes',
            'faq.q1': 'Como posso jogar os jogos da XPR Studio?',
            'faq.q2': 'Preciso pagar para jogar?',
            'faq.q3': 'Como faço para entrar no Discord da comunidade?',
            'faq.q4': 'O que fazer se encontrar um bug ou problema?',
            'faq.q5': 'Quando será lançado o próximo jogo?',
            'faq.q6': 'Posso sugerir ideias para os jogos?',
            'faq.a1': 'Você pode acessar todos os nossos jogos através da plataforma Roblox. Basta procurar por "XPR Studio" na barra de busca e escolher o jogo que deseja jogar. Todos os nossos jogos são gratuitos!',
            'faq.a2': 'Não! Todos os nossos jogos são completamente gratuitos. Oferecemos itens opcionais dentro do jogo (cosmética) que podem ser comprados, mas não são necessários para jogar e se divertir.',
            'faq.a3': 'Você pode encontrar o link do nosso servidor Discord nos rodapés de cada página do jogo ou visitando nosso site. Lá você pode conversar com outros jogadores, receber atualizações e participar de eventos especiais.',
            'faq.a4': 'Se encontrar um bug, por favor reporte-o no nosso servidor Discord ou através do formulário de suporte no jogo. Nossa equipe investigará e corrigirá o problema o mais rápido possível.',
            'faq.a5': 'Estamos trabalhando em novos projetos emocionantes! Fique atento ao nosso Discord e redes sociais para anúncios oficiais sobre lançamentos futuros. Você será um dos primeiros a saber!',
            'faq.a6': 'Claro! Adoramos ouvir sugestões da comunidade. Você pode compartilhar suas ideias no canal #sugestões do nosso Discord. Nossas melhores ideias frequentemente vêm de jogadores como você!',
            
            // Support
            'support.title': 'Centro de Suporte',
            'support.subtitle': 'Envie seus pedidos e acompanhe o status em tempo real',
            'support.new_request': 'Novo Pedido',
            'support.staff_panel': 'Painel de Staff',
            'support.my_requests': 'Meus Pedidos',
            'support.manager': 'Gerenciador',
            'theme.dark': 'Escuro',
            'theme.purple': 'Roxo',
            'theme.forest': 'Floresta',
            'theme.midnight': 'Midnight',
            'theme.abyss': 'Abyss',
            'theme.ember': 'Ember Dark',
            'theme.ocean': 'Oceano',
            'nav.theme': 'Tema',
            'support.name': 'Nome:',
            'support.email': 'Email:',
            'support.category': 'Categoria:',
            'support.message': 'Mensagem:',
            'support.name_placeholder': 'Seu nome completo',
            'support.email_placeholder': 'seu@email.com',
            'support.select_category': 'Selecione uma categoria',
            'support.category_bug': '🐛 Reportar Bug',
            'support.category_suggestion': '💡 Sugestão',
            'support.category_technical': '⚠️ Problema Técnico',
            'support.category_other': '❓ Outro',
            'support.message_placeholder': 'Descreva seu problema ou sugestão...',
            'support.submit_request': 'Enviar Pedido',
            
            // Footer
            'footer.rights': 'Todos os direitos reservados.',
            'footer.developed': 'Desenvolvido com',
            'footer.for_community': 'para a comunidade Roblox',


        },
        'en': {
            // Navigation
            'nav.home': 'Home',
            'nav.about': 'About Us',
            'nav.projects': 'Projects',
            'nav.team': 'Our Team',
            'nav.wiki': 'Wiki',
            'nav.business': 'Business',
            'nav.contributors': 'Contributors',
            'nav.faq': 'FAQ',
            'nav.support': 'Support',
            'nav.login': 'Login',
            'theme.dark': 'Dark',
            'theme.purple': 'Purple',
            'theme.forest': 'Forest',
            'theme.midnight': 'Midnight',
            'theme.abyss': 'Abyss',
            'theme.ember': 'Ember Dark',
            'theme.ocean': 'Ocean',
            'nav.theme': 'Theme',
            
            // Auth
            'auth.login': 'Login',
            'auth.register': 'Register',
            'auth.login_title': 'Login to Your Account',
            'auth.login_subtitle': 'Access your XPR Studio account',
            'auth.register_title': 'Create Account',
            'auth.register_subtitle': 'Register for free on XPR Studio',
            'auth.username': 'Username:',
            'auth.password': 'Password:',
            'auth.email': 'Email:',
            'auth.confirm_password': 'Confirm Password:',
            'auth.username_placeholder': 'Enter your username',
            'auth.password_placeholder': 'Enter your password',
            'auth.username_register_placeholder': 'Choose a username',
            'auth.email_placeholder': 'your@email.com',
            'auth.password_register_placeholder': 'Create a strong password',
            'auth.confirm_password_placeholder': 'Re-enter your password',
            'auth.username_hint': 'Minimum 3 characters',
            'auth.login_button': 'Login',
            'auth.register_button': 'Create Account',
            'auth.forgot_password': 'Forgot password?',
            'auth_prompt_username': 'Enter your username:',
            'auth_recovery_success': 'User found!',
            'auth_your_password_is': 'Your password is:',
            'auth_error_user_not_found': 'User not found.',
            
            // Hero
            'hero.description': 'Creating unforgettable experiences on Roblox. We are a team dedicated to bringing innovation and fun to thousands of players.',
            'hero.play_now': 'Play Now',
            'hero.our_projects': 'Our Projects',
            
            // Stats
            'stats.title': 'Who We Are',
            'stats.active_players': 'Active Players',
            'stats.discord_members': 'Discord Members',
            'stats.active_games': 'Active Games',
            'stats.average_rating': 'Average Rating',
            
            // About
            'about.title': 'About XPR Studio',
            'about.mission_title': 'Mission & Vision',
            'about.mission_text1': 'XPR Studio was founded with the mission to create amazing gaming experiences on Roblox. Our goal is to go beyond the platform limits, offering innovative and engaging content.',
            'about.mission_text2': 'We believe every game should tell a story, challenge players, and create vibrant communities. Our projects are developed with passion and dedication.',
            'about.mission_text3': 'With a talented team of developers, designers, and content creators, we are committed to bringing the best to our players.',
            
            // Projects
            'projects.title': 'Our Projects',
            'projects.project1.title': 'Attack On Titan: New Hope',
            'projects.project1.description': 'An epic adventure full of challenges and mysteries. Explore fantastic worlds and face powerful enemies.',
            'projects.project2.title': 'Project Beta',
            'projects.project2.description': '-- Work In Progress --',
            'projects.project3.title': 'Project Gamma (Coming Soon)',
            'projects.project3.description': '-- Work In Progress --',
            'projects.players': 'Players',
            'projects.rating': 'Rating',
            'projects.visits': 'Visits',
            'projects.view': 'View',
            
            // Team
            'team.title': 'Our Team',
            'team.role1': 'Co-Owner of the Studio & Senior Developer',
            'team.role2': 'Lead Developer & Founder of the Studio',
            'team.role3': 'Sub-Lead Web Developer',
            'team.role4': 'Community Manager',
            'team.bio1': 'Visionary with 2+ years of game development experience. Leads creativity and innovation for all projects.',
            'team.bio2': 'Lua and Roblox Studio specialist. Responsible for technical architecture and performance optimization.',
            'team.bio3': 'Intermediate developer focused on web solutions. Maintains the official website and online integrations.',
            'team.bio4': 'Connects players with the team. Manages social media, Discord, and community events.',
            
            // Wiki
            'wiki.title': 'Wiki & Documentation',
            'wiki.search_placeholder': 'What do you want to search today?',
            'wiki.category1.title': 'Getting Started',
            'wiki.category1.count': '12 articles',
            'wiki.category2.title': 'Development',
            'wiki.category2.count': '24 articles',
            'wiki.category3.title': 'Gameplay',
            'wiki.category3.count': '18 articles',
            'wiki.category4.title': 'Troubleshooting',
            'wiki.category4.count': '15 articles',
            'wiki.article1.title': 'How to Start at XPR Studio',
            'wiki.article1.excerpt': 'Learn the basic fundamentals to start your journey in XPR Studio games. This guide covers everything from creating an account to your first missions.',
            'wiki.article2.title': 'Development API',
            'wiki.article2.excerpt': 'Complete API documentation for developers who want to create custom content or plugins for our games.',
            'wiki.article3.title': 'Achievements System',
            'wiki.article3.excerpt': 'Discover all available achievements, how to unlock them, and the exclusive rewards you can earn.',
            'wiki.article4.title': 'Account Security',
            'wiki.article4.excerpt': 'Important tips to keep your account safe, including two-factor authentication and password best practices.',
            'wiki.article5.title': 'Character Customization',
            'wiki.article5.excerpt': 'Complete guide on how to customize your character, from clothes and accessories to special abilities.',
            'wiki.article6.title': 'Multiplayer Mode',
            'wiki.article6.excerpt': 'Everything about playing with friends, creating groups, and mastering competitive and cooperative game modes.',
            'wiki.views': 'views',
            'wiki.reading_time': 'min read',
            
            // Business
            'business.title': 'Business Solutions',
            'business.intro': 'We offer professional Roblox game development services for companies, brands, and creators who want to take their ideas to the next level.',
            'business.service1.title': 'Full Development',
            'business.service1.description': 'We develop Roblox games from scratch, from initial concept to launch. Includes game design, programming, 3D art, and complete testing.',
            'business.service2.title': 'Consulting & Support',
            'business.service2.description': 'We help optimize existing games, improve performance, implement new features, and provide ongoing technical support.',
            'business.service3.title': 'Marketing & Growth',
            'business.service3.description': 'Roblox marketing strategies, community management, influencer campaigns, and metrics analysis to maximize reach.',
            'business.service4.title': 'Design & 3D Art',
            'business.service4.description': 'Creation of custom 3D assets, immersive environments, unique characters, and professional user interfaces.',
            'business.service5.title': 'Branded Experiences',
            'business.service5.description': 'We create immersive brand experiences on Roblox for companies that want to connect with the gaming community.',
            'business.service6.title': 'Training & Workshops',
            'business.service6.description': 'Customized workshops and training for teams wanting to learn Roblox development and best practices.',
            'business.starting_from': 'Starting from',
            'business.cta.title': 'Ready to turn your idea into reality?',
            'business.cta.subtitle': 'Contact us to discuss your project and receive a personalized quote.',
            'business.cta.quote': 'Request Quote',
            'business.cta.portfolio': 'View Portfolio',
            'business.contact.title': 'Professional Contacts',
            'business.contact.subtitle': 'Contact us through the specialized channels below',
            'business.contact.partnership.title': 'Partnerships',
            'business.contact.partnership.description': 'Interested in strategic partnerships or collaborations?',
            'business.contact.hiring.title': 'Hiring',
            'business.contact.hiring.description': 'Looking for exceptional talent? Talk to us.',
            'business.contact.work.title': 'Work With Us',
            'business.contact.work.description': 'Want to be part of the XPR Studio team?',
            'business.contact.policy.title': 'Report Violation',
            'business.contact.policy.description': 'Report policy or terms of use violations.',
            'business.contact.report.title': 'Report Staff',
            'business.contact.report.description': 'Report inappropriate behavior from team members.',
            'business.contact.general.title': 'General Contact',
            'business.contact.general.description': 'For other questions or general inquiries.',
            'business.contact.send_proposal': 'Send Proposal',
            'business.contact.request_hiring': 'Request Hiring',
            'business.contact.register_application': 'Register Application',
            'business.contact.report_violation': 'Report Violation',
            'business.contact.send_report': 'Send Report',
            'business.contact.send_message': 'Send Message',
            
            // Modal
            'modal.contact': 'Contact',
            'modal.full_name': 'Full Name:',
            'modal.email': 'Email:',
            'modal.company': 'Company/Organization:',
            'modal.subject': 'Subject:',
            'modal.message': 'Message:',
            'modal.full_name_placeholder': 'Your full name',
            'modal.email_placeholder': 'your@email.com',
            'modal.company_placeholder': 'Company name (optional)',
            'modal.subject_placeholder': 'Brief summary',
            'modal.message_placeholder': 'Describe your request in detail...',
            'modal.send_request': 'Send Request',
            
            // Contributors
            'contributors.title': 'Contributors',
            'contributors.intro': 'Our success is the result of the dedicated work of incredible developers, designers, testers, and community members who contribute to our projects.',
            'contributors.stat1': 'Total Contributors',
            'contributors.stat2': 'Commits',
            'contributors.stat3': 'Issues Resolved',
            'contributors.stat4': 'Pull Requests',
            'contributors.role1': 'Core Developer',
            'contributors.role2': 'Senior Developer',
            'contributors.role3': 'Backend Developer',
            'contributors.role4': 'UI/UX Designer',
            'contributors.role5': 'QA Engineer',
            'contributors.role6': '3D Artist',
            'contributors.role7': 'Documentation',
            'contributors.role8': 'Localization',
            'contributors.commits': 'Commits',
            'contributors.prs': 'PRs',
            'contributors.issues': 'Issues',
            'contributors.assets': 'Assets',
            'contributors.docs': 'Docs',
            'contributors.strings': 'Strings',
            'contributors.become.title': 'Become a Contributor',
            'contributors.become.description': 'Join our developer community and help build the future of XPR Studio!',
            'contributors.become.button': 'Start Contributing',
            
            // FAQ
            'faq.title': 'Frequently Asked Questions',
            'faq.q1': 'How can I play XPR Studio games?',
            'faq.q2': 'Do I need to pay to play?',
            'faq.q3': 'How do I join the community Discord?',
            'faq.q4': 'What should I do if I find a bug or problem?',
            'faq.q5': 'When will the next game be released?',
            'faq.q6': 'Can I suggest ideas for the games?',
            'faq.a1': 'You can access all our games through the Roblox platform. Just search for "XPR Studio" in the search bar and choose the game you want to play. All our games are free!',
            'faq.a2': 'No! All our games are completely free. We offer optional in-game items (cosmetics) that can be purchased, but they are not necessary to play and have fun.',
            'faq.a3': 'You can find the link to our Discord server in the footers of each game page or by visiting our website. There you can chat with other players, receive updates, and participate in special events.',
            'faq.a4': 'If you find a bug, please report it on our Discord server or through the in-game support form. Our team will investigate and fix the problem as soon as possible.',
            'faq.a5': 'We are working on exciting new projects! Stay tuned to our Discord and social media for official announcements about future releases. You will be among the first to know!',
            'faq.a6': 'Of course! We love hearing suggestions from the community. You can share your ideas in the #suggestions channel on our Discord. Our best ideas often come from players like you!',
            
            // Support
            'support.title': 'Support Center',
            'support.subtitle': 'Submit your requests and track status in real time',
            'support.new_request': 'New Request',
            'support.staff_panel': 'Staff Panel',
            'support.my_requests': 'My Requests',
            'support.manager': 'Manager',
            'support.name': 'Name:',
            'support.email': 'Email:',
            'support.category': 'Category:',
            'support.message': 'Message:',
            'support.name_placeholder': 'Your full name',
            'support.email_placeholder': 'your@email.com',
            'support.select_category': 'Select a category',
            'support.category_bug': '🐛 Report Bug',
            'support.category_suggestion': '💡 Suggestion',
            'support.category_technical': '⚠️ Technical Problem',
            'support.category_other': '❓ Other',
            'support.message_placeholder': 'Describe your problem or suggestion...',
            'support.submit_request': 'Submit Request',
            
            // Footer
            'footer.rights': 'All rights reserved.',
            'footer.developed': 'Developed with',
            'footer.for_community': 'for the Roblox community'
        },
        'es': {
            // Navigation
            'nav.home': 'Menú Principal',
            'nav.about': 'Sobre Nosotros',
            'nav.projects': 'Proyectos',
            'nav.team': 'Nuestro Equipo',
            'nav.wiki': 'Wiki',
            'nav.business': 'Negocio',
            'nav.contributors': 'Contribuyentes',
            'nav.faq': 'Preguntas Frecuentes',
            'nav.support': 'Apoyo',
            'nav.login': 'Acceso',
            'theme.dark': 'Oscuro',
            'theme.purple': 'Púrpura',
            'theme.forest': 'Bosque',
            'theme.midnight': 'Medianoche',
            'theme.abyss': 'Abismo',
            'theme.ember': 'Ascua Oscura',
            'theme.ocean': 'Océano',
            'nav.theme': 'Tema',

            // Auth
            'auth.login': 'Iniciar Sesión',
            'auth.register': 'Registrarse',
            'auth.login_title': 'Inicia Sesión',
            'auth.login_subtitle': 'Accede a tu cuenta de XPR Studio',
            'auth.register_title': 'Crear Cuenta',
            'auth.register_subtitle': 'Regístrate gratis en XPR Studio',
            'auth.username': 'Usuario:',
            'auth.password': 'Contraseña:',
            'auth.email': 'Email:',
            'auth.confirm_password': 'Confirmar Contraseña:',
            'auth.username_placeholder': 'Ingresa tu usuario',
            'auth.password_placeholder': 'Ingresa tu contraseña',
            'auth.username_register_placeholder': 'Elige un usuario',
            'auth.email_placeholder': 'tu@email.com',
            'auth.password_register_placeholder': 'Crea una contraseña fuerte',
            'auth.confirm_password_placeholder': 'Vuelve a ingresar tu contraseña',
            'auth.username_hint': 'Mínimo 3 caracteres',
            'auth.login_button': 'Iniciar Sesión',
            'auth.register_button': 'Crear Cuenta',
            'auth.forgot_password': '¿Olvidaste tu contraseña?',
            'auth_prompt_username': 'Introduce tu nombre de usuario:',
            'auth_recovery_success': '¡Usuario encontrado!',
            'auth_your_password_is': 'Tu contraseña es:',
            'auth_error_user_not_found': 'Usuario no encontrado.',
            
            // Hero
            'hero.description': 'Creando experiencias inolvidables en Roblox. Somos un equipo dedicado a traer innovación y diversión a miles de jugadores.',
            'hero.play_now': 'Jugar Ahora',
            'hero.our_projects': 'Nuestros Proyectos',
            
            // Stats
            'stats.title': 'Quiénes Somos',
            'stats.active_players': 'Jugadores Activos',
            'stats.discord_members': 'Miembros Discord',
            'stats.active_games': 'Juegos Activos',
            'stats.average_rating': 'Calificación Promedio',
            
            // About
            'about.title': 'Acerca de XPR Studio',
            'about.mission_title': 'Misión & Visión',
            'about.mission_text1': 'XPR Studio fue fundada con la misión de crear experiencias de juego increíbles en Roblox. Nuestro objetivo es ir más allá de los límites de la plataforma, ofreciendo contenido innovador y atractivo.',
            'about.mission_text2': 'Creemos que cada juego debe contar una historia, desafiar a los jugadores y crear comunidades vibrantes. Nuestros proyectos se desarrollan con pasión y dedicación.',
            'about.mission_text3': 'Con un equipo talentoso de desarrolladores, diseñadores y creadores de contenido, estamos comprometidos a traer lo mejor para nuestros jugadores.',
            
            // Projects
            'projects.title': 'Nuestros Proyectos',
            'projects.project1.title': 'Attack On Titan: New Hope',
            'projects.project1.description': 'Una aventura épica llena de desafíos y misterios. Explora mundos fantásticos y enfréntate a enemigos poderosos.',
            'projects.project2.title': 'Proyecto Beta',
            'projects.project2.description': '-- En Progreso --',
            'projects.project3.title': 'Proyecto Gamma (Próximamente)',
            'projects.project3.description': '-- En Progreso --',
            'projects.players': 'Jugadores',
            'projects.rating': 'Calificación',
            'projects.visits': 'Visitas',
            'projects.view': 'Ver',
            
            // Team
            'team.title': 'Nuestro Equipo',
            'team.role1': 'Copropietario Del Estudio y Desarrollador Sénior',
            'team.role2': 'Desarrollador Principal y Fundador Del Estudio',
            'team.role3': 'Desarrollador Web Subdirector',
            'team.role4': 'Gerente de Comunidad',
            'team.bio1': 'Visionario con más de 2 años de experiencia en desarrollo de juegos. Lidera la creatividad e innovación de todos los proyectos.',
            'team.bio2': 'Especialista en Lua y Roblox Studio. Responsable de la arquitectura técnica y optimización del rendimiento.',
            'team.bio3': 'Desarrollador intermedio especializado en soluciones web. Mantiene el sitio web oficial y las integraciones en línea.',
            'team.bio4': 'Conecta a los jugadores con el equipo. Gestiona redes sociales, Discord y eventos de la comunidad.',
            
            // Wiki
            'wiki.title': 'Wiki & Documentación',
            'wiki.search_placeholder': 'Qué quieres procurar hoy?',
            'wiki.category1.title': 'Guías Iniciales',
            'wiki.category1.count': '12 artículos',
            'wiki.category2.title': 'Desarrollo',
            'wiki.category2.count': '24 artículos',
            'wiki.category3.title': 'Gameplay',
            'wiki.category3.count': '18 artículos',
            'wiki.category4.title': 'Solución de Problemas',
            'wiki.category4.count': '15 artículos',
            'wiki.article1.title': 'Cómo Empezar en XPR Studio',
            'wiki.article1.excerpt': 'Aprende los fundamentos básicos para comenzar tu viaje en los juegos de XPR Studio. Esta guía cubre todo desde crear una cuenta hasta tus primeras misiones.',
            'wiki.article2.title': 'API de Desarrollo',
            'wiki.article2.excerpt': 'Documentación completa de la API para desarrolladores que desean crear contenido personalizado o plugins para nuestros juegos.',
            'wiki.article3.title': 'Sistema de Logros',
            'wiki.article3.excerpt': 'Descubre todos los logros disponibles, cómo desbloquearlos y las recompensas exclusivas que puedes ganar.',
            'wiki.article4.title': 'Seguridad de la Cuenta',
            'wiki.article4.excerpt': 'Consejos importantes para mantener tu cuenta segura, incluyendo autenticación de dos factores y mejores prácticas de contraseñas.',
            'wiki.article5.title': 'Personalización de Personaje',
            'wiki.article5.excerpt': 'Guía completa sobre cómo personalizar tu personaje, desde ropa y accesorios hasta habilidades especiales.',
            'wiki.article6.title': 'Modo Multijugador',
            'wiki.article6.excerpt': 'Todo sobre jugar con amigos, crear grupos y dominar los modos de juego competitivos y cooperativos.',
            'wiki.views': 'views',
            'wiki.reading_time': 'min read',
            
            // Business
            'business.title': 'Soluciones para Negocios',
            'business.intro': 'Ofrecemos servicios profesionales de desarrollo de juegos Roblox para empresas, marcas y creadores que desean llevar sus ideas al siguiente nivel.',
            'business.service1.title': 'Desarrollo Completo',
            'business.service1.description': 'Desarrollamos juegos Roblox desde cero, desde el concepto inicial hasta el lanzamiento. Incluye diseño de juego, programación, arte 3D y pruebas completas.',
            'business.service2.title': 'Consultoría & Soporte',
            'business.service2.description': 'Ayudamos a optimizar juegos existentes, mejorar el rendimiento, implementar nuevas características y proporcionar soporte técnico continuo.',
            'business.service3.title': 'Marketing & Crecimiento',
            'business.service3.description': 'Estrategias de marketing en Roblox, gestión de comunidad, campañas de influencers y análisis de métricas para maximizar el alcance.',
            'business.service4.title': 'Diseño & Arte 3D',
            'business.service4.description': 'Creación de recursos 3D personalizados, entornos inmersivos, personajes únicos e interfaces de usuario profesionales.',
            'business.service5.title': 'Experiencias de Marca',
            'business.service5.description': 'Creamos experiencias de marca inmersivas en Roblox para empresas que desean conectarse con la comunidad gamer.',
            'business.service6.title': 'Capacitación & Talleres',
            'business.service6.description': 'Talleres personalizados y capacitaciones para equipos que desean aprender desarrollo Roblox y mejores prácticas.',
            'business.starting_from': 'A partir de',
            'business.cta.title': '¿Listo para convertir tu idea en realidad?',
            'business.cta.subtitle': 'Contáctanos para discutir tu proyecto y recibir un presupuesto personalizado.',
            'business.cta.quote': 'Solicitar Presupuesto',
            'business.cta.portfolio': 'Ver Portafolio',
            'business.contact.title': 'Contactos Profesionales',
            'business.contact.subtitle': 'Contáctanos a través de los canales especializados a continuación',
            'business.contact.partnership.title': 'Asociaciones',
            'business.contact.partnership.description': '¿Interesado en asociaciones estratégicas o colaboraciones?',
            'business.contact.hiring.title': 'Contratación',
            'business.contact.hiring.description': '¿Buscas talento excepcional? Háblanos.',
            'business.contact.work.title': 'Trabaja Con Nosotros',
            'business.contact.work.description': '¿Quieres formar parte del equipo de XPR Studio?',
            'business.contact.policy.title': 'Reportar Violación',
            'business.contact.policy.description': 'Reporta violaciones de políticas o términos de uso.',
            'business.contact.report.title': 'Reportar Staff',
            'business.contact.report.description': 'Reporta comportamiento inapropiado de miembros del equipo.',
            'business.contact.general.title': 'Contacto General',
            'business.contact.general.description': 'Para otras preguntas o consultas generales.',
            'business.contact.send_proposal': 'Enviar Propuesta',
            'business.contact.request_hiring': 'Solicitar Contratación',
            'business.contact.register_application': 'Registrar Solicitud',
            'business.contact.report_violation': 'Reportar Violación',
            'business.contact.send_report': 'Enviar Reporte',
            'business.contact.send_message': 'Enviar Mensaje',
            
            // Modal
            'modal.contact': 'Contacto',
            'modal.full_name': 'Nombre Completo:',
            'modal.email': 'Email:',
            'modal.company': 'Empresa/Organización:',
            'modal.subject': 'Asunto:',
            'modal.message': 'Mensaje:',
            'modal.full_name_placeholder': 'Tu nombre completo',
            'modal.email_placeholder': 'tu@email.com',
            'modal.company_placeholder': 'Nombre de empresa (opcional)',
            'modal.subject_placeholder': 'Resumen breve',
            'modal.message_placeholder': 'Describe tu solicitud en detalle...',
            'modal.send_request': 'Enviar Solicitud',
            
            // Contributors
            'contributors.title': 'Contribuyentes',
            'contributors.intro': 'Nuestro éxito es el resultado del trabajo dedicado de increíbles desarrolladores, diseñadores, testers y miembros de la comunidad que contribuyen a nuestros proyectos.',
            'contributors.stat1': 'Total de Contribuyentes',
            'contributors.stat2': 'Commits',
            'contributors.stat3': 'Issues Resueltas',
            'contributors.stat4': 'Pull Requests',
            'contributors.role1': 'Desarrollador Principal',
            'contributors.role2': 'Desarrollador Senior',
            'contributors.role3': 'Desarrollador Backend',
            'contributors.role4': 'Diseñador UI/UX',
            'contributors.role5': 'Ingeniero QA',
            'contributors.role6': 'Artista 3D',
            'contributors.role7': 'Documentación',
            'contributors.role8': 'Localización',
            'contributors.commits': 'Commits',
            'contributors.prs': 'PRs',
            'contributors.issues': 'Issues',
            'contributors.assets': 'Recursos',
            'contributors.docs': 'Docs',
            'contributors.strings': 'Cadenas',
            'contributors.become.title': 'Conviértete en Contribuyente',
            'contributors.become.description': '¡Únete a nuestra comunidad de desarrolladores y ayuda a construir el futuro de XPR Studio!',
            'contributors.become.button': 'Comenzar a Contribuir',
            
            // FAQ
            'faq.title': 'Preguntas Frecuentes',
            'faq.q1': '¿Cómo puedo jugar los juegos de XPR Studio?',
            'faq.q2': '¿Necesito pagar para jugar?',
            'faq.q3': '¿Cómo me uno al Discord de la comunidad?',
            'faq.q4': '¿Qué debo hacer si encuentro un error o problema?',
            'faq.q5': '¿Cuándo se lanzará el próximo juego?',
            'faq.q6': '¿Puedo sugerir ideas para los juegos?',
            'faq.a1': 'Puedes acceder a todos nuestros juegos a través de la plataforma Roblox. Solo busca "XPR Studio" en la barra de búsqueda y elige el juego que quieres jugar. ¡Todos nuestros juegos son gratuitos!',
            'faq.a2': '¡No! Todos nuestros juegos son completamente gratuitos. Ofrecemos artículos opcionales dentro del juego (cosméticos) que se pueden comprar, pero no son necesarios para jugar y divertirse.',
            'faq.a3': 'Puedes encontrar el enlace a nuestro servidor de Discord en los pies de página de cada página del juego o visitando nuestro sitio web. Allí puedes chatear con otros jugadores, recibir actualizaciones y participar en eventos especiales.',
            'faq.a4': 'Si encuentras un error, por favor repórtalo en nuestro servidor de Discord o a través del formulario de soporte en el juego. Nuestro equipo investigará y corregirá el problema lo antes posible.',
            'faq.a5': '¡Estamos trabajando en nuevos proyectos emocionantes! Mantente atento a nuestro Discord y redes sociales para anuncios oficiales sobre lanzamientos futuros. ¡Serás de los primeros en saber!',
            'faq.a6': '¡Por supuesto! Nos encanta escuchar sugerencias de la comunidad. Puedes compartir tus ideas en el canal #sugerencias de nuestro Discord. ¡Nuestras mejores ideas a menudo vienen de jugadores como tú!',
            
            // Support
            'support.title': 'Centro de Soporte',
            'support.subtitle': 'Envía tus solicitudes y sigue el estado en tiempo real',
            'support.new_request': 'Nueva Solicitud',
            'support.staff_panel': 'Panel de Staff',
            'support.my_requests': 'Mis Solicitudes',
            'support.manager': 'Gestor',
            'support.name': 'Nombre:',
            'support.email': 'Email:',
            'support.category': 'Categoría:',
            'support.message': 'Mensaje:',
            'support.name_placeholder': 'Tu nombre completo',
            'support.email_placeholder': 'tu@email.com',
            'support.select_category': 'Selecciona una categoría',
            'support.category_bug': '🐛 Reportar Error',
            'support.category_suggestion': '💡 Sugerencia',
            'support.category_technical': '⚠️ Problema Técnico',
            'support.category_other': '❓ Otro',
            'support.message_placeholder': 'Describe tu problema o sugerencia...',
            'support.submit_request': 'Enviar Solicitud',
            
            // Footer
            'footer.rights': 'Todos los derechos reservados.',
            'footer.developed': 'Desarrollado con',
            'footer.for_community': 'para la comunidad de Roblox'
        },
        'de': {
            // Navigation
            'nav.home': 'Hauptmenü',
            'nav.about': 'Über uns',
            'nav.projects': 'Projekte',
            'nav.team': 'Unser Team',
            'nav.wiki': 'Wiki',
            'nav.business': 'Geschäft',
            'nav.contributors': 'Mitwirkende',
            'nav.faq': 'Häufig Gestellte Fragen',
            'nav.support': 'Unterstützung',
            'nav.login': 'Login',
            'theme.dark': 'Dunkel',
            'theme.purple': 'Lila',
            'theme.forest': 'Wald',
            'theme.midnight': 'Mitternacht',
            'theme.abyss': 'Abgrund',
            'theme.ember': 'Glut Dunkel',
            'theme.ocean': 'Ozean',
            'nav.theme': 'Thema',

            // Auth
            'auth.login': 'Anmelden',
            'auth.register': 'Registrieren',
            'auth.login_title': 'Melde dich an',
            'auth.login_subtitle': 'Zugriff auf dein XPR Studio Konto',
            'auth.register_title': 'Konto erstellen',
            'auth.register_subtitle': 'Registriere dich kostenlos bei XPR Studio',
            'auth.username': 'Benutzername:',
            'auth.password': 'Passwort:',
            'auth.email': 'E-Mail:',
            'auth.confirm_password': 'Passwort bestätigen:',
            'auth.username_placeholder': 'Gib deinen Benutzernamen ein',
            'auth.password_placeholder': 'Gib dein Passwort ein',
            'auth.username_register_placeholder': 'Wähle einen Benutzernamen',
            'auth.email_placeholder': 'deine@email.com',
            'auth.password_register_placeholder': 'Erstelle ein sicheres Passwort',
            'auth.confirm_password_placeholder': 'Gib dein Passwort erneut ein',
            'auth.username_hint': 'Mindestens 3 Zeichen',
            'auth.login_button': 'Anmelden',
            'auth.register_button': 'Konto erstellen',
            'auth.forgot_password': 'Passwort vergessen?',
            'auth_prompt_username': 'Geben Sie Ihren Benutzernamen ein:',
            'auth_recovery_success': 'Benutzer gefunden!',
            'auth_your_password_is': 'Ihr Passwort lautet:',
            'auth_error_user_not_found': 'Benutzer nicht gefunden.',
            
            // Hero
            'hero.description': 'Wir erschaffen unvergessliche Erlebnisse auf Roblox. Wir sind ein Team, das sich der Innovation und dem Spaß für Tausende von Spielern widmet.',
            'hero.play_now': 'Jetzt spielen',
            'hero.our_projects': 'Unsere Projekte',
            
            // Stats
            'stats.title': 'Wer wir sind',
            'stats.active_players': 'Aktive Spieler',
            'stats.discord_members': 'Discord Mitglieder',
            'stats.active_games': 'Aktive Spiele',
            'stats.average_rating': 'Durchschnittliche Bewertung',
            
            // About
            'about.title': 'Über XPR Studio',
            'about.mission_title': 'Mission & Vision',
            'about.mission_text1': 'XPR Studio wurde mit der Mission gegründet, erstaunliche Spieleerlebnisse auf Roblox zu schaffen. Unser Ziel ist es, über die Plattformgrenzen hinauszugehen und innovativen und fesselnden Content anzubieten.',
            'about.mission_text2': 'Wir glauben, dass jedes Spiel eine Geschichte erzählen, Spieler herausfordern und lebendige Gemeinschaften schaffen sollte. Unsere Projekte werden mit Leidenschaft und Hingabe entwickelt.',
            'about.mission_text3': 'Mit einem talentierten Team aus Entwicklern, Designern und Content-Erstellern sind wir bestrebt, unseren Spielern das Beste zu bieten.',
            
            // Projects
            'projects.title': 'Unsere Projekte',
            'projects.project1.title': 'Attack On Titan: New Hope',
            'projects.project1.description': '-- Work In Progress --',
            'projects.project2.title': 'Projekt Beta',
            'projects.project2.description': '-- Work In Progress --',
            'projects.project3.title': 'Projekt Gamma (Demnächst)',
            'projects.project3.description': '-- Work In Progress --',
            'projects.players': 'Spieler',
            'projects.rating': 'Bewertung',
            'projects.visits': 'Besuche',
            'projects.view': 'Ansehen',
            
            // Team
            'team.title': 'Unser Team',
            'team.role1': 'Mitinhaber des Studios & Senior Developer',
            'team.role2': 'Leitender Entwickler & Gründer des Studios',
            'team.role3': 'Stellvertretender leitender Webentwickler',
            'team.role4': 'Community Manager',
            'team.bio1': 'Visionär mit mehr als 2 Jahren Erfahrung in der Spieleentwicklung. Führt Kreativität und Innovation bei allen Projekten.',
            'team.bio2': 'Experte für Lua und Roblox Studio. Verantwortlich für technische Architektur und Leistungsoptimierung.',
            'team.bio3': 'Entwickler mit mittlerer Berufserfahrung im Bereich Weblösungen. Betreut die offizielle Website und Online-Integrationen.',
            'team.bio4': 'Verbinde Spieler mit dem Team. Verwaltet soziale Medien, Discord und Community-Events.',
            
            // Wiki
            'wiki.title': 'Wiki & Dokumentation',
            'wiki.search_placeholder': 'Wonach möchten Sie heute suchen?',
            'wiki.category1.title': 'Erste Schritte',
            'wiki.category1.count': '12 Artikel',
            'wiki.category2.title': 'Entwicklung',
            'wiki.category2.count': '24 Artikel',
            'wiki.category3.title': 'Gameplay',
            'wiki.category3.count': '18 Artikel',
            'wiki.category4.title': 'Fehlerbehebung',
            'wiki.category4.count': '15 Artikel',
            'wiki.article1.title': 'Erste Schritte bei XPR Studio',
            'wiki.article1.excerpt': 'Lerne die Grundlagen, um deine Reise in den XPR Studio-Spielen zu beginnen. Dieser Leitfaden deckt alles ab, von der Kontenerstellung bis zu deinen ersten Missionen.',
            'wiki.article2.title': 'Entwicklungs-API',
            'wiki.article2.excerpt': 'Vollständige API-Dokumentation für Entwickler, die benutzerdefinierte Inhalte oder Plugins für unsere Spiele erstellen möchten.',
            'wiki.article3.title': 'Errungenschaftensystem',
            'wiki.article3.excerpt': 'Entdecke alle verfügbaren Errungenschaften, wie du sie freischaltest und die exklusiven Belohnungen, die du verdienen kannst.',
            'wiki.article4.title': 'Kontosicherheit',
            'wiki.article4.excerpt': 'Wichtige Tipps, um dein Konto sicher zu halten, einschließlich Zwei-Faktor-Authentifizierung und Best Practices für Passwörter.',
            'wiki.article5.title': 'Charakteranpassung',
            'wiki.article5.excerpt': 'Vollständige Anleitung zur Anpassung deines Charakters, von Kleidung und Accessoires bis zu speziellen Fähigkeiten.',
            'wiki.article6.title': 'Multiplayer-Modus',
            'wiki.article6.excerpt': 'Alles über das Spielen mit Freunden, das Erstellen von Gruppen und das Beherrschen von kompetitiven und kooperativen Spielmodi.',
            'wiki.views': 'views',
            'wiki.reading_time': 'min read',
            
            // Business
            'business.title': 'Business-Lösungen',
            'business.intro': 'Wir bieten professionelle Roblox-Spielentwicklungsdienste für Unternehmen, Marken und Ersteller, die ihre Ideen auf die nächste Stufe bringen möchten.',
            'business.service1.title': 'Vollständige Entwicklung',
            'business.service1.description': 'Wir entwickeln Roblox-Spiele von Grund auf, vom ersten Konzept bis zum Launch. Enthält Spieledesign, Programmierung, 3D-Kunst und umfassende Tests.',
            'business.service2.title': 'Beratung & Support',
            'business.service2.description': 'Wir helfen bei der Optimierung bestehender Spiele, Verbesserung der Leistung, Implementierung neuer Funktionen und bieten kontinuierlichen technischen Support.',
            'business.service3.title': 'Marketing & Wachstum',
            'business.service3.description': 'Roblox-Marketingstrategien, Community-Management, Influencer-Kampagnen und Metrikenanalyse zur Reichweitenmaximierung.',
            'business.service4.title': 'Design & 3D-Kunst',
            'business.service4.description': 'Erstellung von benutzerdefinierten 3D-Assets, immersiven Umgebungen, einzigartigen Charakteren und professionellen Benutzeroberflächen.',
            'business.service5.title': 'Markenerlebnisse',
            'business.service5.description': 'Wir schaffen immersive Markenerlebnisse auf Roblox für Unternehmen, die sich mit der Gaming-Community verbinden möchten.',
            'business.service6.title': 'Schulungen & Workshops',
            'business.service6.description': 'Maßgeschneiderte Workshops und Schulungen für Teams, die Roblox-Entwicklung und Best Practices lernen möchten.',
            'business.starting_from': 'Ab',
            'business.cta.title': 'Bereit, deine Idee in die Realität umzusetzen?',
            'business.cta.subtitle': 'Kontaktiere uns, um dein Projekt zu besprechen und ein personalisiertes Angebot zu erhalten.',
            'business.cta.quote': 'Angebot anfordern',
            'business.cta.portfolio': 'Portfolio ansehen',
            'business.contact.title': 'Professionelle Kontakte',
            'business.contact.subtitle': 'Kontaktiere uns über die spezialisierten Kanäle unten',
            'business.contact.partnership.title': 'Partnerschaften',
            'business.contact.partnership.description': 'Interessiert an strategischen Partnerschaften oder Kooperationen?',
            'business.contact.hiring.title': 'Einstellung',
            'business.contact.hiring.description': 'Auf der Suche nach außergewöhnlichem Talent? Sprich mit uns.',
            'business.contact.work.title': 'Arbeite mit uns',
            'business.contact.work.description': 'Möchtest du Teil des XPR Studio-Teams werden?',
            'business.contact.policy.title': 'Verstoß melden',
            'business.contact.policy.description': 'Melde Verstöße gegen Richtlinien oder Nutzungsbedingungen.',
            'business.contact.report.title': 'Mitarbeiter melden',
            'business.contact.report.description': 'Melde unangemessenes Verhalten von Teammitgliedern.',
            'business.contact.general.title': 'Allgemeiner Kontakt',
            'business.contact.general.description': 'Für andere Fragen oder allgemeine Anfragen.',
            'business.contact.send_proposal': 'Vorschlag senden',
            'business.contact.request_hiring': 'Einstellung anfordern',
            'business.contact.register_application': 'Bewerbung registrieren',
            'business.contact.report_violation': 'Verstoß melden',
            'business.contact.send_report': 'Bericht senden',
            'business.contact.send_message': 'Nachricht senden',
            
            // Modal
            'modal.contact': 'Kontakt',
            'modal.full_name': 'Vollständiger Name:',
            'modal.email': 'E-Mail:',
            'modal.company': 'Unternehmen/Organisation:',
            'modal.subject': 'Betreff:',
            'modal.message': 'Nachricht:',
            'modal.full_name_placeholder': 'Dein vollständiger Name',
            'modal.email_placeholder': 'deine@email.com',
            'modal.company_placeholder': 'Firmenname (optional)',
            'modal.subject_placeholder': 'Kurze Zusammenfassung',
            'modal.message_placeholder': 'Beschreibe deine Anfrage im Detail...',
            'modal.send_request': 'Anfrage senden',
            
            // Contributors
            'contributors.title': 'Mitwirkende',
            'contributors.intro': 'Unser Erfolg ist das Ergebnis der engagierten Arbeit erstaunlicher Entwickler, Designer, Tester und Community-Mitglieder, die zu unseren Projekten beitragen.',
            'contributors.stat1': 'Gesamte Mitwirkende',
            'contributors.stat2': 'Commits',
            'contributors.stat3': 'Gelöste Issues',
            'contributors.stat4': 'Pull Requests',
            'contributors.role1': 'Kernentwickler',
            'contributors.role2': 'Senior Entwickler',
            'contributors.role3': 'Backend Entwickler',
            'contributors.role4': 'UI/UX Designer',
            'contributors.role5': 'QA Ingenieur',
            'contributors.role6': '3D Künstler',
            'contributors.role7': 'Dokumentation',
            'contributors.role8': 'Lokalisierung',
            'contributors.commits': 'Commits',
            'contributors.prs': 'PRs',
            'contributors.issues': 'Issues',
            'contributors.assets': 'Assets',
            'contributors.docs': 'Docs',
            'contributors.strings': 'Strings',
            'contributors.become.title': 'Werde Mitwirkender',
            'contributors.become.description': 'Trete unserer Entwickler-Community bei und hilf mit, die Zukunft von XPR Studio zu gestalten!',
            'contributors.become.button': 'Beitragen beginnen',
            
            // FAQ
            'faq.title': 'Häufig gestellte Fragen',
            'faq.q1': 'Wie kann ich XPR Studio-Spiele spielen?',
            'faq.q2': 'Muss ich bezahlen, um zu spielen?',
            'faq.q3': 'Wie trete ich dem Community-Discord bei?',
            'faq.q4': 'Was soll ich tun, wenn ich einen Bug oder ein Problem finde?',
            'faq.q5': 'Wann wird das nächste Spiel veröffentlicht?',
            'faq.q6': 'Kann ich Ideen für die Spiele vorschlagen?',
            'faq.a1': 'Du kannst auf alle unsere Spiele über die Roblox-Plattform zugreifen. Suche einfach nach "XPR Studio" in der Suchleiste und wähle das Spiel, das du spielen möchtest. Alle unsere Spiele sind kostenlos!',
            'faq.a2': 'Nein! Alle unsere Spiele sind komplett kostenlos. Wir bieten optionale In-Game-Items (Kosmetik) an, die gekauft werden können, aber sie sind nicht notwendig, um zu spielen und Spaß zu haben.',
            'faq.a3': 'Du findest den Link zu unserem Discord-Server in den Fußzeilen jeder Spielseite oder indem du unsere Website besuchst. Dort kannst du mit anderen Spielern chatten, Updates erhalten und an besonderen Events teilnehmen.',
            'faq.a4': 'Wenn du einen Bug findest, melde ihn bitte auf unserem Discord-Server oder über das Support-Formular im Spiel. Unser Team wird das Problem so schnell wie möglich untersuchen und beheben.',
            'faq.a5': 'Wir arbeiten an aufregenden neuen Projekten! Bleib auf unserem Discord und in den sozialen Medien auf dem Laufenden für offizielle Ankündigungen über zukünftige Veröffentlichungen. Du wirst zu den Ersten gehören, die es erfahren!',
            'faq.a6': 'Natürlich! Wir lieben es, Vorschläge von der Community zu hören. Du kannst deine Ideen im #vorschläge-Kanal auf unserem Discord teilen. Unsere besten Ideen kommen oft von Spielern wie dir!',
            
            // Support
            'support.title': 'Support-Center',
            'support.subtitle': 'Sende deine Anfragen und verfolge den Status in Echtzeit',
            'support.new_request': 'Neue Anfrage',
            'support.staff_panel': 'Mitarbeiter-Panel',
            'support.my_requests': 'Meine Anfragen',
            'support.manager': 'Manager',
            'support.name': 'Name:',
            'support.email': 'E-Mail:',
            'support.category': 'Kategorie:',
            'support.message': 'Nachricht:',
            'support.name_placeholder': 'Dein vollständiger Name',
            'support.email_placeholder': 'deine@email.com',
            'support.select_category': 'Wähle eine Kategorie',
            'support.category_bug': '🐛 Bug melden',
            'support.category_suggestion': '💡 Vorschlag',
            'support.category_technical': '⚠️ Technisches Problem',
            'support.category_other': '❓ Andere',
            'support.message_placeholder': 'Beschreibe dein Problem oder deinen Vorschlag...',
            'support.submit_request': 'Anfrage senden',
            
            // Footer
            'footer.rights': 'Alle Rechte vorbehalten.',
            'footer.developed': 'Entwickelt mit',
            'footer.for_community': 'für die Roblox-Community'
        },
        'it': {
            // Navigation
            'nav.home': 'Menù Principale',
            'nav.about': 'Chi Siamo',
            'nav.projects': 'Progetti',
            'nav.team': 'Nostro Team',
            'nav.wiki': 'Wiki',
            'nav.business': 'Commercio',
            'nav.contributors': 'Collaboratori',
            'nav.faq': 'DFQ',
            'nav.support': 'Supporto',
            'nav.login': 'Login',
            'theme.dark': 'Scuro',
            'theme.purple': 'Lilla',
            'theme.forest': 'Foresta',
            'theme.midnight': 'Mezzanotte',
            'theme.abyss': 'Abisso',
            'theme.ember': 'Brace Scura',
            'theme.ocean': 'Oceano',
            'nav.theme': 'Tema',
            // Auth
            'auth.login': 'Accedi',
            'auth.register': 'Registrati',
            'auth.login_title': 'Accedi al tuo Account',
            'auth.login_subtitle': 'Accedi al tuo account XPR Studio',
            'auth.register_title': 'Crea Account',
            'auth.register_subtitle': 'Registrati gratuitamente su XPR Studio',
            'auth.username': 'Username:',
            'auth.password': 'Password:',
            'auth.email': 'Email:',
            'auth.confirm_password': 'Conferma Password:',
            'auth.username_placeholder': 'Inserisci il tuo username',
            'auth.password_placeholder': 'Inserisci la tua password',
            'auth.username_register_placeholder': 'Scegli un username',
            'auth.email_placeholder': 'tua@email.com',
            'auth.password_register_placeholder': 'Crea una password forte',
            'auth.confirm_password_placeholder': 'Reinserisci la password',
            'auth.username_hint': 'Minimo 3 caratteri',
            'auth.login_button': 'Accedi',
            'auth.register_button': 'Crea Account',
            'auth.forgot_password': 'Password dimenticata?',
            'auth_prompt_username': 'Inserisci il tuo nome utente:',
            'auth_recovery_success': 'Utente trovato!',
            'auth_your_password_is': 'La tua password è:',
            'auth_error_user_not_found': 'Utente non trovato.',
            
            // Hero
            'hero.description': 'Creando esperienze indimenticabili su Roblox. Siamo un team dedicato a portare innovazione e divertimento a migliaia di giocatori.',
            'hero.play_now': 'Gioca Ora',
            'hero.our_projects': 'I Nostri Progetti',
            
            // Stats
            'stats.title': 'Chi Siamo',
            'stats.active_players': 'Giocatori Attivi',
            'stats.discord_members': 'Membri Discord',
            'stats.active_games': 'Giochi Attivi',
            'stats.average_rating': 'Valutazione Media',
            
            // About
            'about.title': 'Informazioni su XPR Studio',
            'about.mission_title': 'Missione & Visione',
            'about.mission_text1': 'XPR Studio è stata fondata con la missione di creare incredibili esperienze di gioco su Roblox. Il nostro obiettivo è andare oltre i limiti della piattaforma, offrendo contenuti innovativi e coinvolgenti.',
            'about.mission_text2': 'Crediamo che ogni gioco debba raccontare una storia, sfidare i giocatori e creare comunità vivaci. I nostri progetti sono sviluppati con passione e dedizione.',
            'about.mission_text3': 'Con un team talentuoso di sviluppatori, designer e creatori di contenuti, siamo impegnati a portare il meglio ai nostri giocatori.',
            
            // Projects
            'projects.title': 'I Nostri Progetti',
            'projects.project1.title': 'Attack On Titan: New Hope',
            'projects.project1.description': 'Un\'avventura epica piena di sfide e misteri. Esplora mondi fantastici e affronta nemici potenti.',
            'projects.project2.title': 'Progetto Beta',
            'projects.project2.description': '-- In Lavorazione --',
            'projects.project3.title': 'Progetto Gamma (Prossimamente)',
            'projects.project3.description': '-- In Lavorazione --',
            'projects.players': 'Giocatori',
            'projects.rating': 'Valutazione',
            'projects.visits': 'Visite',
            'projects.view': 'Visualizza',
            
            // Team
            'team.title': 'Il Nostro Team',
            'team.role1': 'Co-proprietario Dello Studio e Sviluppatore Senior',
            'team.role2': 'Sviluppatore Principale e Fondatore dello Studio',
            'team.role3': 'Sviluppatore Web Subdirettore',
            'team.role4': 'Community Manager',
            'team.bio1': 'Visionario con oltre 2 anni di esperienza nello sviluppo di giochi. Guida creatività e innovazione in tutti i progetti.',
            'team.bio2': 'Esperto in Lua e Roblox Studio. Responsabile dell\'architettura tecnica e dell\'ottimizzazione delle prestazioni.',
            'team.bio3': 'Creatore di mondi visivi impressionanti. Specializzato in modellazione 3D e design delle interfacce.',
            'team.bio4': 'Collega i giocatori con il team. Gestisce social media, Discord ed eventi della community.',
            
            // Wiki
            'wiki.title': 'Wiki & Documentazione',
            'wiki.search_placeholder': 'Cosa vuoi cercare oggi?',
            'wiki.category1.title': 'Guide Introduttive',
            'wiki.category1.count': '12 articoli',
            'wiki.category2.title': 'Sviluppo',
            'wiki.category2.count': '24 articoli',
            'wiki.category3.title': 'Gameplay',
            'wiki.category3.count': '18 articoli',
            'wiki.category4.title': 'Risoluzione Problemi',
            'wiki.category4.count': '15 articoli',
            'wiki.article1.title': 'Come Iniziare con XPR Studio',
            'wiki.article1.excerpt': 'Impara le basi fondamentali per iniziare il tuo viaggio nei giochi XPR Studio. Questa guida copre tutto dalla creazione dell\'account alle tue prime missioni.',
            'wiki.article2.title': 'API di Sviluppo',
            'wiki.article2.excerpt': 'Documentazione completa dell\'API per sviluppatori che desiderano creare contenuti personalizzati o plugin per i nostri giochi.',
            'wiki.article3.title': 'Sistema di Successi',
            'wiki.article3.excerpt': 'Scopri tutti i successi disponibili, come sbloccarli e le ricompense esclusive che puoi guadagnare.',
            'wiki.article4.title': 'Sicurezza dell\'Account',
            'wiki.article4.excerpt': 'Consigli importanti per mantenere il tuo account sicuro, inclusa l\'autenticazione a due fattori e le migliori pratiche per le password.',
            'wiki.article5.title': 'Personalizzazione del Personaggio',
            'wiki.article5.excerpt': 'Guida completa su come personalizzare il tuo personaggio, dai vestiti e accessori alle abilità speciali.',
            'wiki.article6.title': 'Modalità Multigiocatore',
            'wiki.article6.excerpt': 'Tutto sul giocare con amici, creare gruppi e padroneggiare le modalità di gioco competitive e cooperative.',
            'wiki.views': 'views',
            'wiki.reading_time': 'min read',
            
            // Business
            'business.title': 'Soluzioni Business',
            'business.intro': 'Offriamo servizi professionali di sviluppo di giochi Roblox per aziende, marchi e creatori che vogliono portare le loro idee al livello successivo.',
            'business.service1.title': 'Sviluppo Completo',
            'business.service1.description': 'Sviluppiamo giochi Roblox da zero, dal concept iniziale al lancio. Include game design, programmazione, arte 3D e test completi.',
            'business.service2.title': 'Consulenza & Supporto',
            'business.service2.description': 'Aiutiamo a ottimizzare giochi esistenti, migliorare le prestazioni, implementare nuove funzionalità e fornire supporto tecnico continuo.',
            'business.service3.title': 'Marketing & Crescita',
            'business.service3.description': 'Strategie di marketing su Roblox, gestione della community, campagne di influencer e analisi delle metriche per massimizzare la portata.',
            'business.service4.title': 'Design & Arte 3D',
            'business.service4.description': 'Creazione di asset 3D personalizzati, ambienti immersivi, personaggi unici e interfacce utente professionali.',
            'business.service5.title': 'Esperienze di Marca',
            'business.service5.description': 'Creiamo esperienze di marca immersive su Roblox per aziende che desiderano connettersi con la community gaming.',
            'business.service6.title': 'Formazione & Workshop',
            'business.service6.description': 'Workshop personalizzati e formazione per team che desiderano apprendere lo sviluppo Roblox e le migliori pratiche.',
            'business.starting_from': 'A partire da',
            'business.cta.title': 'Pronto a trasformare la tua idea in realtà?',
            'business.cta.subtitle': 'Contattaci per discutere del tuo progetto e ricevere un preventivo personalizzato.',
            'business.cta.quote': 'Richiedi Preventivo',
            'business.cta.portfolio': 'Visualizza Portfolio',
            'business.contact.title': 'Contatti Professionali',
            'business.contact.subtitle': 'Contattaci attraverso i canali specializzati qui sotto',
            'business.contact.partnership.title': 'Partnership',
            'business.contact.partnership.description': 'Interessato a partnership strategiche o collaborazioni?',
            'business.contact.hiring.title': 'Assunzione',
            'business.contact.hiring.description': 'Alla ricerca di talenti eccezionali? Parla con noi.',
            'business.contact.work.title': 'Lavora con Noi',
            'business.contact.work.description': 'Vuoi far parte del team XPR Studio?',
            'business.contact.policy.title': 'Segnala Violazione',
            'business.contact.policy.description': 'Segnala violazioni di politiche o termini di utilizzo.',
            'business.contact.report.title': 'Segnala Staff',
            'business.contact.report.description': 'Segnala comportamenti inappropriati dei membri del team.',
            'business.contact.general.title': 'Contatto Generale',
            'business.contact.general.description': 'Per altre domande o richieste generali.',
            'business.contact.send_proposal': 'Invia Proposta',
            'business.contact.request_hiring': 'Richiedi Assunzione',
            'business.contact.register_application': 'Registra Candidatura',
            'business.contact.report_violation': 'Segnala Violazione',
            'business.contact.send_report': 'Invia Segnalazione',
            'business.contact.send_message': 'Invia Messaggio',
            
            // Modal
            'modal.contact': 'Contatto',
            'modal.full_name': 'Nome Completo:',
            'modal.email': 'Email:',
            'modal.company': 'Azienda/Organizzazione:',
            'modal.subject': 'Oggetto:',
            'modal.message': 'Messaggio:',
            'modal.full_name_placeholder': 'Il tuo nome completo',
            'modal.email_placeholder': 'tua@email.com',
            'modal.company_placeholder': 'Nome azienda (opzionale)',
            'modal.subject_placeholder': 'Breve riassunto',
            'modal.message_placeholder': 'Descrivi la tua richiesta in dettaglio...',
            'modal.send_request': 'Invia Richiesta',
            
            // Contributors
            'contributors.title': 'Contributori',
            'contributors.intro': 'Il nostro successo è il risultato del lavoro dedicato di incredibili sviluppatori, designer, tester e membri della comunità che contribuiscono ai nostri progetti.',
            'contributors.stat1': 'Totale Contributori',
            'contributors.stat2': 'Commit',
            'contributors.stat3': 'Issue Risolte',
            'contributors.stat4': 'Pull Requests',
            'contributors.role1': 'Sviluppatore Core',
            'contributors.role2': 'Sviluppatore Senior',
            'contributors.role3': 'Sviluppatore Backend',
            'contributors.role4': 'Designer UI/UX',
            'contributors.role5': 'Ingegnere QA',
            'contributors.role6': 'Artista 3D',
            'contributors.role7': 'Documentazione',
            'contributors.role8': 'Localizzazione',
            'contributors.commits': 'Commit',
            'contributors.prs': 'PR',
            'contributors.issues': 'Issue',
            'contributors.assets': 'Asset',
            'contributors.docs': 'Documenti',
            'contributors.strings': 'Stringhe',
            'contributors.become.title': 'Diventa un Contributore',
            'contributors.become.description': 'Unisciti alla nostra comunità di sviluppatori e aiuta a costruire il futuro di XPR Studio!',
            'contributors.become.button': 'Inizia a Contribuire',
            
            // FAQ
            'faq.title': 'Domande Frequenti',
            'faq.q1': 'Come posso giocare ai giochi XPR Studio?',
            'faq.q2': 'Devo pagare per giocare?',
            'faq.q3': 'Come entro nel Discord della comunità?',
            'faq.q4': 'Cosa devo fare se trovo un bug o un problema?',
            'faq.q5': 'Quando sarà rilasciato il prossimo gioco?',
            'faq.q6': 'Posso suggerire idee per i giochi?',
            'faq.a1': 'Puoi accedere a tutti i nostri giochi attraverso la piattaforma Roblox. Cerca semplicemente "XPR Studio" nella barra di ricerca e scegli il gioco che vuoi giocare. Tutti i nostri giochi sono gratuiti!',
            'faq.a2': 'No! Tutti i nostri giochi sono completamente gratuiti. Offriamo oggetti opzionali all\'interno del gioco (cosmetici) che possono essere acquistati, ma non sono necessari per giocare e divertirsi.',
            'faq.a3': 'Puoi trovare il link al nostro server Discord nei piè di pagina di ogni pagina del gioco o visitando il nostro sito web. Lì puoi chattare con altri giocatori, ricevere aggiornamenti e partecipare a eventi speciali.',
            'faq.a4': 'Se trovi un bug, segnalalo sul nostro server Discord o tramite il modulo di supporto nel gioco. Il nostro team indagherà e risolverà il problema il prima possibile.',
            'faq.a5': 'Stiamo lavorando a nuovi progetti entusiasmanti! Resta sintonizzato sul nostro Discord e sui social media per annunci ufficiali sui prossimi rilasci. Sarai tra i primi a saperlo!',
            'faq.a6': 'Certo! Ci piace ascoltare i suggerimenti della comunità. Puoi condividere le tue idee nel canale #suggerimenti sul nostro Discord. Le nostre migliori idee spesso vengono da giocatori come te!',
            
            // Support
            'support.title': 'Centro Supporto',
            'support.subtitle': 'Invia le tue richieste e monitora lo stato in tempo reale',
            'support.new_request': 'Nuova Richiesta',
            'support.staff_panel': 'Pannello Staff',
            'support.my_requests': 'Le Mie Richieste',
            'support.manager': 'Gestore',
            'support.name': 'Nome:',
            'support.email': 'Email:',
            'support.category': 'Categoria:',
            'support.message': 'Messaggio:',
            'support.name_placeholder': 'Il tuo nome completo',
            'support.email_placeholder': 'tua@email.com',
            'support.select_category': 'Seleziona una categoria',
            'support.category_bug': '🐛 Segnala Bug',
            'support.category_suggestion': '💡 Suggerimento',
            'support.category_technical': '⚠️ Problema Tecnico',
            'support.category_other': '❓ Altro',
            'support.message_placeholder': 'Descrivi il tuo problema o suggerimento...',
            'support.submit_request': 'Invia Richiesta',
            
            // Footer
            'footer.rights': 'Tutti i diritti riservati.',
            'footer.developed': 'Sviluppato con',
            'footer.for_community': 'per la community di Roblox'
        }
    };

    let currentLanguage = 'pt';
    const languageNames = {
        'pt': 'Português',
        'en': 'English',
        'es': 'Español',
        'de': 'Deutsch',
        'it': 'Italiano'
    };

    // ===== DATA MANAGEMENT =====
    let currentUser = null;
    let supportTickets = [];

    // Initialize data store
    function initializeDataStore() {
        if (!localStorage.getItem('xpr_users')) {
            const defaultUsers = {
                'admin': {
                    username: 'admin1',
                    password: 'admin1234', // In a real app, passwords should be hashed
                    email: 'admin@xprstudio.com',
                    type: 'staff',
                    createdAt: new Date().toISOString()
                }
            };
            localStorage.setItem('xpr_users', JSON.stringify(defaultUsers));
        }

        if (!localStorage.getItem('xpr_staff_list')) {
            const defaultStaff = ['admin'];
            localStorage.setItem('xpr_staff_list', JSON.stringify(defaultStaff));
        }

        // Load tickets from localStorage
        const savedTickets = localStorage.getItem('xpr_support_tickets');
        if (savedTickets) {
            supportTickets = JSON.parse(savedTickets);
        }

        // Check if user is logged in
        const savedUser = localStorage.getItem('xpr_current_user');
        if (savedUser) {
            currentUser = JSON.parse(savedUser);
            showMainContent();
        }

        // Load language preference
        const savedLanguage = localStorage.getItem('xpr_language');
        if (savedLanguage && translations[savedLanguage]) {
            currentLanguage = savedLanguage;
        }
        
        updateLanguage();
        if (typeof renderWikiArticles === "function") renderWikiArticles();
    }

    // ===== LANGUAGE FUNCTIONS =====
    function toggleLanguageDropdown() {
        const dropdown = document.getElementById('languageDropdown');
        dropdown.classList.toggle('show');
    }

    function changeLanguage(lang) {
        if (currentLanguage === lang) return;
        
        currentLanguage = lang;
        localStorage.setItem('xpr_language', lang);
        
        updateLanguage();
        if (typeof renderWikiArticles === "function") renderWikiArticles();
        
        // Update dropdown selection
        const options = document.querySelectorAll('.language-option');
        options.forEach(option => {
            option.classList.remove('active');
            if (option.getAttribute('onclick').includes(`'${lang}'`)) {
                option.classList.add('active');
            }
        });
        
        // Update current language display
        document.getElementById('currentLanguage').textContent = languageNames[lang];
        
        // Close dropdown
        document.getElementById('languageDropdown').classList.remove('show');
    }

    function updateLanguage() {
        // Update all elements with data-i18n attribute
        document.querySelectorAll('[data-i18n]').forEach(element => {
            const key = element.getAttribute('data-i18n');
            if (translations[currentLanguage] && translations[currentLanguage][key]) {
                element.textContent = translations[currentLanguage][key];
            }
        });
        
        // Update all placeholder elements
        document.querySelectorAll('[data-i18n-placeholder]').forEach(element => {
            const key = element.getAttribute('data-i18n-placeholder');
            if (translations[currentLanguage] && translations[currentLanguage][key]) {
                element.setAttribute('placeholder', translations[currentLanguage][key]);
            }
        });
        
        // Update select options
        document.querySelectorAll('option[data-i18n]').forEach(option => {
            const key = option.getAttribute('data-i18n');
            if (translations[currentLanguage] && translations[currentLanguage][key]) {
                option.textContent = translations[currentLanguage][key];
            }
        });
        
        // Update current language display
        document.getElementById('currentLanguage').textContent = languageNames[currentLanguage];
    }

    // Close language dropdown when clicking outside
    document.addEventListener('click', function(event) {
        const languageSelector = document.getElementById('languageSelector');
        if (!languageSelector.contains(event.target)) {
            document.getElementById('languageDropdown').classList.remove('show');
        }
    });

    // ===== AUTH FUNCTIONS =====
    function switchTab(tab) {
        const loginForm = document.getElementById('loginForm');
        const registerForm = document.getElementById('registerForm');
        const tabs = document.querySelectorAll('.auth-tab');

        if (tab === 'login') {
            loginForm.style.display = 'block';
            registerForm.style.display = 'none';
            tabs[0].classList.add('active');
            tabs[1].classList.remove('active');
        } else {
            loginForm.style.display = 'none';
            registerForm.style.display = 'block';
            tabs[0].classList.remove('active');
            tabs[1].classList.add('active');
        }

        document.getElementById('loginMessage').style.display = 'none';
        document.getElementById('registerMessage').style.display = 'none';
    }

    
function forgotPassword() {
    const username = prompt(translations[currentLanguage].auth_prompt_username || "Digite seu nome de usuário para recuperar a senha:");
    if (!username) return;

    const users = JSON.parse(localStorage.getItem('xpr_users')) || {};
    const user = users[username];

    if (user) {
        // Como o sistema usa protectData (base64 invertido), podemos reverter para mostrar ao usuário
        // Em um sistema real, você enviaria um link de reset por email.
        const recoveredPass = atob(user.password.split('').reverse().join(''));
        
        alert(`${translations[currentLanguage].auth_recovery_success || "Usuário encontrado!"}\n\n` +
              `${translations[currentLanguage].auth_your_password_is || "Sua senha é:"} ${recoveredPass}`);
    } else {
        alert(translations[currentLanguage].auth_error_user_not_found || "Usuário não encontrado no banco de dados.");
    }
}

    // ===== SECURITY & DATA PROTECTION =====
    // Função para "esconder" dados sensíveis (simulando um hash para proteção básica no client-side)
    function protectData(data) {
        return btoa(data).split('').reverse().join(''); // Ofuscação simples para não deixar texto puro
    }

    function validateUser(username, password) {
        const users = JSON.parse(localStorage.getItem('xpr_users')) || {};
        const protectedPass = protectData(password);
        
        if (users[username] && users[username].password === protectedPass) {
            return users[username];
        }
        // Fallback para o admin padrão se for a primeira vez
        if (username === 'admin1' && password === 'admin1234') {
            return { username: 'admin1', type: 'staff', email: 'admin@xprstudio.com' };
        }
        return null;
    }

    // Sobrescrever a função de login original para usar proteção
    function handleLogin(event) {
        if (event) event.preventDefault();
        const user = document.getElementById('loginUsername').value.trim();
        const pass = document.getElementById('loginPassword').value;
        const msg = document.getElementById('loginMessage');
        
        const userData = validateUser(user, pass);
        if (userData) {
            currentUser = userData;
            localStorage.setItem('xpr_current_user', JSON.stringify({
                username: userData.username,
                type: userData.type,
                token: protectData(Date.now().toString()) // Token de sessão ofuscado
            }));
            
            if (msg) {
                msg.textContent = 'Login realizado!';
                msg.className = 'auth-message success';
                msg.style.display = 'block';
            }
            setTimeout(showMainContent, 1000);
        } else {
            if (msg) {
                msg.textContent = 'Usuário ou senha incorretos!';
                msg.className = 'auth-message error';
                msg.style.display = 'block';
            }
        }
    }

    // Função original substituída pela versão protegida acima
    function _old_handleLogin(event) {
        event.preventDefault();
        
        const username = document.getElementById('loginUsername').value.trim();
        const password = document.getElementById('loginPassword').value;
        const messageEl = document.getElementById('loginMessage');

        if (!username || !password) {
            showMessage(messageEl, translations[currentLanguage].auth_error_fill_all || 'Por favor, preencha todos os campos!', 'error');
            return;
        }

        const users = JSON.parse(localStorage.getItem('xpr_users'));
        
        if (!users[username]) {
            showMessage(messageEl, translations[currentLanguage].auth_error_user_not_found || 'Usuário não encontrado!', 'error');
            return;
        }

        if (users[username].password !== password) {
            showMessage(messageEl, translations[currentLanguage].auth_error_wrong_password || 'Senha incorreta!', 'error');
            return;
        }

        currentUser = users[username];
        localStorage.setItem('xpr_current_user', JSON.stringify(currentUser));
        
        showMessage(messageEl, `${translations[currentLanguage].auth_welcome || 'Bem-vindo'}, ${currentUser.username}!`, 'success');
        
        setTimeout(() => {
            showMainContent();
        }, 1000);
    }

    function handleRegister(event) {
        event.preventDefault();
        
        const username = document.getElementById('registerUsername').value.trim();
        const email = document.getElementById('registerEmail').value.trim();
        const password = document.getElementById('registerPassword').value;
        const passwordConfirm = document.getElementById('registerPasswordConfirm').value;
        const messageEl = document.getElementById('registerMessage');

        if (username.length < 3) {
            showMessage(messageEl, translations[currentLanguage].auth_error_username_length || 'Usuário deve ter no mínimo 3 caracteres!', 'error');
            return;
        }

        if (password.length < 6) {
            showMessage(messageEl, translations[currentLanguage].auth_error_password_length || 'Senha deve ter no mínimo 6 caracteres!', 'error');
            return;
        }

        if (password !== passwordConfirm) {
            showMessage(messageEl, translations[currentLanguage].auth_error_password_mismatch || 'As senhas não coincidem!', 'error');
            return;
        }

        const users = JSON.parse(localStorage.getItem('xpr_users'));
        
        if (users[username]) {
            showMessage(messageEl, translations[currentLanguage].auth_error_user_exists || 'Usuário já existe! Escolha outro nome.', 'error');
            return;
        }

        const emailExists = Object.values(users).some(user => user.email === email);
        if (emailExists) {
            showMessage(messageEl, translations[currentLanguage].auth_error_email_exists || 'Email já cadastrado!', 'error');
            return;
        }

        users[username] = {
            username: username,
            email: email,
            password: password,
            type: 'normal',
            createdAt: new Date().toISOString()
        };

        localStorage.setItem('xpr_users', JSON.stringify(users));
        
        showMessage(messageEl, translations[currentLanguage].auth_success_account_created || 'Conta criada com sucesso! Redirecionando...', 'success');
        
        document.getElementById('registerUsername').value = '';
        document.getElementById('registerEmail').value = '';
        document.getElementById('registerPassword').value = '';
        document.getElementById('registerPasswordConfirm').value = '';
        document.getElementById('passwordStrength').style.display = 'none';
        document.getElementById('passwordStrengthText').textContent = '';

        setTimeout(() => {
            currentUser = users[username];
            localStorage.setItem('xpr_current_user', JSON.stringify(currentUser));
            showMainContent();
        }, 1500);
    }

    function handleLogout() {
        if (confirm(currentLanguage === 'en' ? 'Do you really want to logout?' : 
                   currentLanguage === 'es' ? '¿Realmente quieres salir?' :
                   currentLanguage === 'de' ? 'Möchten Sie sich wirklich abmelden?' :
                   currentLanguage === 'it' ? 'Vuoi davvero uscire?' :
                   'Deseja realmente sair?')) {
            currentUser = null;
            localStorage.removeItem('xpr_current_user');
            showAuthSection();
        }
    }

    // ===== NAVEGAÇÃO FUNCTIONS =====
    function handleNavLogin() {
        // Se o usuário já estiver logado, mostrar opção de logout
        if (currentUser) {
            if (confirm(currentLanguage === 'en' ? 'Do you really want to logout?' : 
                       currentLanguage === 'es' ? '¿Realmente quieres salir?' :
                       currentLanguage === 'de' ? 'Möchten Sie sich wirklich abmelden?' :
                       currentLanguage === 'it' ? 'Vuoi davvero uscire?' :
                       'Deseja realmente sair?')) {
                handleLogout();
            }
            return;
        }
        
        // Se não estiver logado, mostrar seção de autenticação
        showAuthSection();
        
        // Rolagem suave para a seção de auth
        setTimeout(() => {
            document.getElementById('authSection').scrollIntoView({ 
                behavior: 'smooth',
                block: 'start'
            });
        }, 100);
    }

    // ===== UI FUNCTIONS =====
    function showMessage(element, message, type) {
        element.textContent = message;
        element.className = `auth-message ${type}`;
        element.style.display = 'block';
        
        setTimeout(() => {
            element.style.display = 'none';
        }, 5000);
    }

 function showMainContent() {
    document.getElementById('authSection').classList.add('hidden');
    document.getElementById('mainContent').classList.remove('hidden');
    updateHeaderUserInfo();
    updateSupportPanels();
    
    // ADICIONE ESTA LINHA AQUI:
    checkYagamiIdentity(); 

    if (typeof AOS !== 'undefined') {
        AOS.refresh();
    }
}

    // Garante que o scroll comece bloqueado assim que o script carrega
document.body.classList.add('auth-active');

function showAuthSection() {
    document.body.classList.add('auth-active');
    document.getElementById('authSection').classList.remove('hidden');
    document.getElementById('mainContent').classList.add('hidden');
    window.scrollTo(0, 0); // Força a volta ao topo
}

function showMainContent() {
    // Libertação total do scroll
    document.body.classList.remove('auth-active');
    document.body.style.position = ''; // Remove o modo fixed
    
    document.getElementById('authSection').classList.add('hidden');
    document.getElementById('mainContent').classList.remove('hidden');
    
    // Suas validações de Staff e XP
    updateHeaderUserInfo();
    if (currentUser && currentUser.type === 'staff') {
        const tm = document.getElementById('tasksManager');
        if (tm) { tm.style.display = 'block'; tm.classList.remove('hidden'); }
    }
    
    checkDailyReward();
    displayAnnouncement();

    if (typeof AOS !== 'undefined') {
        setTimeout(() => { AOS.refresh(); }, 100);
    }
}

function showMainContent() {
    try {
        // 1. Alternância de Seções
        const authSection = document.getElementById('authSection');
        const mainContent = document.getElementById('mainContent');
        
        if (authSection) authSection.classList.add('hidden');
        if (mainContent) mainContent.classList.remove('hidden');
        
        // Remove trava de scroll da tela de login
        document.body.classList.remove('auth-active');
        document.body.style.overflow = 'auto';

        // 2. Verificação de Identidade e Permissões
        if (currentUser) {
            const isStaff = currentUser.type === 'staff';
            const isYagami = currentUser.username === 'Yagami_TheScripter';

            // Proteção do Gerenciador de Tarefas
            const tasksManager = document.getElementById('tasksManager');
            if (tasksManager) {
                if (isStaff) {
                    tasksManager.style.setProperty('display', 'block', 'important');
                    tasksManager.classList.remove('hidden');
                    // Só inicializa se a função existir
                    if (typeof initializeTasks === 'function') initializeTasks();
                } else {
                    tasksManager.style.setProperty('display', 'none', 'important');
                    tasksManager.classList.add('hidden');
                }
            }

            // Painel do Yagami
            const yagamiPanel = document.getElementById('yagamiRecruitPanel');
            if (yagamiPanel) {
                yagamiPanel.style.display = isYagami ? 'block' : 'none';
            }
        }

        // 3. Funções de Suporte e UI
        if (typeof updateHeaderUserInfo === 'function') updateHeaderUserInfo();
        if (typeof updateSupportPanels === 'function') updateSupportPanels();
        
        // Ativa as novas interações se estiverem definidas
        if (typeof checkDailyReward === 'function') checkDailyReward();
        if (typeof displayAnnouncement === 'function') displayAnnouncement();

        if (typeof AOS !== 'undefined') {
            setTimeout(() => { AOS.refresh(); }, 200);
        }
    } catch (error) {
        console.error("Erro ao carregar conteúdo principal:", error);
    }
}

// 4. Correção da Inicialização de Tarefas (Para não bugar o carregamento)
function initializeTasks() {
    if (typeof loadTasks === 'function') loadTasks();
    if (typeof updateTasksStats === 'function') updateTasksStats();
    
    // Evita duplicar o link na navegação
    const nav = document.querySelector('.navbar-nav');
    const existingLink = document.querySelector('a[href="#tasksManager"]');
    if (nav && !existingLink && currentUser && currentUser.type === 'staff') {
        const li = document.createElement('li');
        li.className = 'nav-item';
        li.innerHTML = `<a class="nav-link" href="#tasksManager"><i class="fas fa-tasks"></i> Tarefas</a>`;
        nav.appendChild(li);
    }
}

    function updateHeaderUserInfo() {
        const headerUserInfo = document.getElementById('headerUserInfo');
        
        if (currentUser) {
            const typeIcon = currentUser.type === 'staff' ? '👨‍💼' : '👤';
            const typeLabel = currentUser.type === 'staff' ? 
                (currentLanguage === 'en' ? 'Staff' :
                 currentLanguage === 'es' ? 'Staff' :
                 currentLanguage === 'de' ? 'Mitarbeiter' :
                 currentLanguage === 'it' ? 'Staff' : 'Staff') : 
                (currentLanguage === 'en' ? 'User' :
                 currentLanguage === 'es' ? 'Usuario' :
                 currentLanguage === 'de' ? 'Benutzer' :
                 currentLanguage === 'it' ? 'Utente' : 'Usuário');
            
            headerUserInfo.innerHTML = `
                <div class="user-info">
                    <div class="user-avatar">${currentUser.username.charAt(0).toUpperCase()}</div>
                    <div class="user-details">
                        <div class="user-name">${currentUser.username}</div>
                        <div class="user-type">${typeIcon} ${typeLabel}</div>
                    </div>
                    <button class="btn-logout" onclick="handleLogout()">
                        <i class="fas fa-sign-out-alt"></i> ${currentLanguage === 'en' ? 'Logout' :
                                                              currentLanguage === 'es' ? 'Salir' :
                                                              currentLanguage === 'de' ? 'Abmelden' :
                                                              currentLanguage === 'it' ? 'Esci' : 'Sair'}
                    </button>
                </div>
            `;
        } else {
            headerUserInfo.innerHTML = '';
        }
    }
    

    function checkPasswordStrength(password) {
        const strengthBar = document.getElementById('passwordStrengthBar');
        const strengthText = document.getElementById('passwordStrengthText');
        const strengthContainer = document.getElementById('passwordStrength');
        
        if (password.length === 0) {
            strengthContainer.style.display = 'none';
            strengthText.textContent = '';
            return;
        }
        
        strengthContainer.style.display = 'block';
        
        let strength = 0;
        let color = '';
        let text = '';
        
        if (password.length >= 6) strength++;
        if (password.length >= 10) strength++;
        if (/[a-z]/.test(password) && /[A-Z]/.test(password)) strength++;
        if (/\d/.test(password)) strength++;
        if (/[^a-zA-Z\d]/.test(password)) strength++;
        
        if (strength <= 2) {
            color = '#ff6b6b';
            text = '❌ ' + (currentLanguage === 'en' ? 'Weak' :
                           currentLanguage === 'es' ? 'Débil' :
                           currentLanguage === 'de' ? 'Schwach' :
                           currentLanguage === 'it' ? 'Debole' : 'Fraca');
        } else if (strength === 3) {
            color = '#ffa502';
            text = '⚠️ ' + (currentLanguage === 'en' ? 'Medium' :
                           currentLanguage === 'es' ? 'Media' :
                           currentLanguage === 'de' ? 'Mittel' :
                           currentLanguage === 'it' ? 'Media' : 'Média');
        } else if (strength === 4) {
            color = '#00d4ff';
            text = '✅ ' + (currentLanguage === 'en' ? 'Good' :
                           currentLanguage === 'es' ? 'Buena' :
                           currentLanguage === 'de' ? 'Gut' :
                           currentLanguage === 'it' ? 'Buona' : 'Boa');
        } else {
            color = '#00b894';
            text = '🔒 ' + (currentLanguage === 'en' ? 'Very Strong' :
                           currentLanguage === 'es' ? 'Muy Fuerte' :
                           currentLanguage === 'de' ? 'Sehr Stark' :
                           currentLanguage === 'it' ? 'Molto Forte' : 'Muito Forte');
        }
        
        strengthBar.style.width = (strength * 20) + '%';
        strengthBar.style.background = color;
        strengthText.textContent = text;
        strengthText.style.color = color;
    }

    // ===== PARTICLES =====
    function generateParticles() {
        const container = document.getElementById('particles-container');
        const particleCount = 50;

        for (let i = 0; i < particleCount; i++) {
            const particle = document.createElement('div');
            particle.className = 'particle';
            
            const size = Math.random() * 5 + 2;
            particle.style.width = size + 'px';
            particle.style.height = size + 'px';
            particle.style.left = Math.random() * 100 + '%';
            particle.style.top = Math.random() * 100 + '%';
            particle.style.animationDelay = Math.random() * 20 + 's';
            particle.style.animationDuration = (Math.random() * 10 + 15) + 's';
            
            container.appendChild(particle);
        }
    }

    // Counter animation
    function animateCounters() {
        const counters = document.querySelectorAll('.counter');
        
        counters.forEach(counter => {
            counter.textContent = '0';
            
            const target = parseInt(counter.getAttribute('data-target'));
            let current = 0;
            const increment = target / 100;
            
            const updateCounter = () => {
                current += increment;
                if (current < target) {
                    counter.textContent = Math.floor(current).toLocaleString(currentLanguage === 'pt' ? 'pt-BR' : 
                                                                           currentLanguage === 'es' ? 'es-ES' :
                                                                           currentLanguage === 'de' ? 'de-DE' :
                                                                           currentLanguage === 'it' ? 'it-IT' : 'en-US');
                    setTimeout(updateCounter, 30);
                } else {
                    counter.textContent = target.toLocaleString(currentLanguage === 'pt' ? 'pt-BR' : 
                                                               currentLanguage === 'es' ? 'es-ES' :
                                                               currentLanguage === 'de' ? 'de-DE' :
                                                               currentLanguage === 'it' ? 'it-IT' : 'en-US');
                }
            };
            
            updateCounter();
        });
    }

    // FAQ toggle
    function setupFAQ() {
        const faqItems = document.querySelectorAll('.faq-item');
        
        faqItems.forEach(item => {
            const question = item.querySelector('.faq-question');
            question.addEventListener('click', () => {
                faqItems.forEach(otherItem => {
                    if (otherItem !== item) {
                        otherItem.classList.remove('active');
                    }
                });
                
                item.classList.toggle('active');
            });
        });
    }

    // Scroll to section
    function scrollToSection(sectionId) {
        const element = document.getElementById(sectionId);
        if (element) {
            element.scrollIntoView({ behavior: 'smooth' });
        }
    }

    // ===== SUPPORT SYSTEM =====
    function updateSupportPanels() {
        if (currentUser) {
            if (currentUser.type === 'staff') {
                document.getElementById('staffPanel').style.display = 'block';
                document.getElementById('normalUserPanel').style.display = 'none';
                loadStaffPanel();
            } else {
                document.getElementById('staffPanel').style.display = 'none';
                document.getElementById('normalUserPanel').style.display = 'block';
                loadUserTickets();
            }
        }
    }

    function submitSupportTicket(event) {
        event.preventDefault();

        const ticket = {
            id: 'TICKET-' + Math.random().toString(36).substr(2, 9).toUpperCase(),
            name: document.getElementById('ticketName').value,
            email: document.getElementById('ticketEmail').value,
            category: document.getElementById('ticketCategory').value,
            message: document.getElementById('ticketMessage').value,
            status: 'open',
            date: new Date().toLocaleDateString(currentLanguage === 'pt' ? 'pt-BR' : 
                                               currentLanguage === 'es' ? 'es-ES' :
                                               currentLanguage === 'de' ? 'de-DE' :
                                               currentLanguage === 'it' ? 'it-IT' : 'en-US'),
            time: new Date().toLocaleTimeString(currentLanguage === 'pt' ? 'pt-BR' : 
                                               currentLanguage === 'es' ? 'es-ES' :
                                               currentLanguage === 'de' ? 'de-DE' :
                                               currentLanguage === 'it' ? 'it-IT' : 'en-US'),
            user: currentUser ? currentUser.username : 'Anônimo'
        };

        supportTickets.push(ticket);
        localStorage.setItem('xpr_support_tickets', JSON.stringify(supportTickets));

        // Clear form
        document.getElementById('ticketName').value = '';
        document.getElementById('ticketEmail').value = '';
        document.getElementById('ticketCategory').value = '';
        document.getElementById('ticketMessage').value = '';

        // Show success message
        const categoryLabels = {
            'bug': currentLanguage === 'en' ? '🐛 Bug' :
                   currentLanguage === 'es' ? '🐛 Error' :
                   currentLanguage === 'de' ? '🐛 Fehler' :
                   currentLanguage === 'it' ? '🐛 Bug' : '🐛 Bug',
            'sugestao': currentLanguage === 'en' ? '💡 Suggestion' :
                       currentLanguage === 'es' ? '💡 Sugerencia' :
                       currentLanguage === 'de' ? '💡 Vorschlag' :
                       currentLanguage === 'it' ? '💡 Suggerimento' : '💡 Sugestão',
            'problema': currentLanguage === 'en' ? '⚠️ Technical Problem' :
                       currentLanguage === 'es' ? '⚠️ Problema Técnico' :
                       currentLanguage === 'de' ? '⚠️ Technisches Problem' :
                       currentLanguage === 'it' ? '⚠️ Problema Tecnico' : '⚠️ Problema Técnico',
            'outro': currentLanguage === 'en' ? '❓ Other' :
                    currentLanguage === 'es' ? '❓ Otro' :
                    currentLanguage === 'de' ? '❓ Andere' :
                    currentLanguage === 'it' ? '❓ Altro' : '❓ Outro'
        };

        alert(`✅ ${currentLanguage === 'en' ? 'Support request created successfully!' :
                  currentLanguage === 'es' ? '¡Solicitud de soporte creada con éxito!' :
                  currentLanguage === 'de' ? 'Support-Anfrage erfolgreich erstellt!' :
                  currentLanguage === 'it' ? 'Richiesta di supporto creata con successo!' :
                  'Pedido de suporte criado com sucesso!'}\n\n` +
            `🎫 ${currentLanguage === 'en' ? 'ID:' :
                  currentLanguage === 'es' ? 'ID:' :
                  currentLanguage === 'de' ? 'ID:' :
                  currentLanguage === 'it' ? 'ID:' : 'ID:'} ${ticket.id}\n` +
            `📂 ${currentLanguage === 'en' ? 'Category:' :
                  currentLanguage === 'es' ? 'Categoría:' :
                  currentLanguage === 'de' ? 'Kategorie:' :
                  currentLanguage === 'it' ? 'Categoria:' : 'Categoria:'} ${categoryLabels[ticket.category]}\n` +
            `📅 ${currentLanguage === 'en' ? 'Date:' :
                  currentLanguage === 'es' ? 'Fecha:' :
                  currentLanguage === 'de' ? 'Datum:' :
                  currentLanguage === 'it' ? 'Data:' : 'Data:'} ${ticket.date} ${currentLanguage === 'en' ? 'at' :
                                                                                currentLanguage === 'es' ? 'a las' :
                                                                                currentLanguage === 'de' ? 'um' :
                                                                                currentLanguage === 'it' ? 'alle' : 'às'} ${ticket.time}\n\n` +
            (currentLanguage === 'en' ? 'Your request is being processed!' :
             currentLanguage === 'es' ? '¡Tu solicitud está siendo procesada!' :
             currentLanguage === 'de' ? 'Ihre Anfrage wird bearbeitet!' :
             currentLanguage === 'it' ? 'La tua richiesta è in elaborazione!' :
             'Seu pedido está sendo processado!'));

        // Update panels
        updateSupportPanels();
    }

   function loadStaffPanel() {
    const ticketsList = document.getElementById('ticketsList');
    
    if (supportTickets.length === 0) {
        ticketsList.innerHTML = `<div class="no-tickets">🔭 ${currentLanguage === 'en' ? 'No support requests at the moment.' :
                                                             currentLanguage === 'es' ? 'No hay solicitudes de soporte en este momento.' :
                                                             currentLanguage === 'de' ? 'Keine Support-Anfragen im Moment.' :
                                                             currentLanguage === 'it' ? 'Nessuna richiesta di supporto al momento.' :
                                                             'Nenhum pedido de suporte no momento.'}</div>`;
        return;
    }

    ticketsList.innerHTML = supportTickets.map((ticket, index) => {
        // Verificar se o ticket tem conversas
        const hasConversation = ticket.conversations && ticket.conversations.length > 0;
        const conversations = ticket.conversations || [];
        
        return `
            <div class="support-ticket" data-ticket-index="${index}">
                <div class="ticket-header">
                    <span class="ticket-id">${ticket.id}</span>
                    <span class="ticket-status ${ticket.status}">${ticket.status === 'open' ? 
                        (currentLanguage === 'en' ? '🔴 OPEN' :
                         currentLanguage === 'es' ? '🔴 ABIERTO' :
                         currentLanguage === 'de' ? '🔴 OFFEN' :
                         currentLanguage === 'it' ? '🔴 APERTO' : '🔴 ABERTO') : 
                        (currentLanguage === 'en' ? '🟢 RESOLVED' :
                         currentLanguage === 'es' ? '🟢 RESUELTO' :
                         currentLanguage === 'de' ? '🟢 GELÖST' :
                         currentLanguage === 'it' ? '🟢 RISOLTO' : '🟢 RESOLVIDO')}</span>
                </div>
                <div class="ticket-user"><strong>${currentLanguage === 'en' ? '👤 User:' :
                                                   currentLanguage === 'es' ? '👤 Usuario:' :
                                                   currentLanguage === 'de' ? '👤 Benutzer:' :
                                                   currentLanguage === 'it' ? '👤 Utente:' : '👤 Usuário:'}</strong> ${ticket.name} (${ticket.email})</div>
                <div class="ticket-user"><strong>${currentLanguage === 'en' ? '📂 Category:' :
                                                   currentLanguage === 'es' ? '📂 Categoría:' :
                                                   currentLanguage === 'de' ? '📂 Kategorie:' :
                                                   currentLanguage === 'it' ? '📂 Categoria:' : '📂 Categoria:'}</strong> ${ticket.category}</div>
                <div class="ticket-user"><strong>${currentLanguage === 'en' ? '📅 Date:' :
                                                   currentLanguage === 'es' ? '📅 Fecha:' :
                                                   currentLanguage === 'de' ? '📅 Datum:' :
                                                   currentLanguage === 'it' ? '📅 Data:' : '📅 Data:'}</strong> ${ticket.date} ${ticket.time}</div>
                <div class="ticket-message"><strong>${currentLanguage === 'en' ? '💬 Initial Message:' :
                                                     currentLanguage === 'es' ? '💬 Mensaje Inicial:' :
                                                     currentLanguage === 'de' ? '💬 Erste Nachricht:' :
                                                     currentLanguage === 'it' ? '💬 Messaggio Iniziale:' : '💬 Mensagem Inicial:'}</strong> ${ticket.message}</div>
                
                <!-- Conversation History -->
                <div class="ticket-conversation">
                    ${hasConversation ? conversations.map((msg, msgIndex) => `
                        <div class="message-item ${msg.type}">
                            <div class="message-header">
                                <div class="message-author ${msg.type}">
                                    ${msg.type === 'staff' ? '👨‍💼 ' : '👤 '}
                                    ${msg.type === 'staff' ? 
                                        (currentLanguage === 'en' ? 'Staff' :
                                         currentLanguage === 'es' ? 'Staff' :
                                         currentLanguage === 'de' ? 'Mitarbeiter' :
                                         currentLanguage === 'it' ? 'Staff' : 'Staff') : 
                                        ticket.name}
                                </div>
                                <div class="message-time">${msg.time}</div>
                            </div>
                            <div class="message-content">${msg.content}</div>
                        </div>
                    `).join('') : `
                        <div class="no-messages">
                            ${currentLanguage === 'en' ? 'No responses yet.' :
                              currentLanguage === 'es' ? 'Sin respuestas aún.' :
                              currentLanguage === 'de' ? 'Noch keine Antworten.' :
                              currentLanguage === 'it' ? 'Nessuna risposta ancora.' : 'Sem respostas ainda.'}
                        </div>
                    `}
                </div>
                
                <!-- Response Section -->
                <div class="ticket-response-section" id="responseSection-${index}">
                    <form class="response-form" onsubmit="submitResponse(event, ${index})">
                        <textarea id="responseMessage-${index}" 
                                  placeholder="${currentLanguage === 'en' ? 'Type your response to the user...' :
                                                currentLanguage === 'es' ? 'Escribe tu respuesta al usuario...' :
                                                currentLanguage === 'de' ? 'Schreiben Sie Ihre Antwort an den Benutzer...' :
                                                currentLanguage === 'it' ? 'Scrivi la tua risposta all\'utente...' :
                                                'Digite sua resposta para o usuário...'}" 
                                  required></textarea>
                        <button type="submit" class="btn-response-submit">
                            <i class="fas fa-paper-plane"></i> ${currentLanguage === 'en' ? 'Send Response' :
                                                                 currentLanguage === 'es' ? 'Enviar Respuesta' :
                                                                 currentLanguage === 'de' ? 'Antwort senden' :
                                                                 currentLanguage === 'it' ? 'Invia Risposta' : 'Enviar Resposta'}
                        </button>
                    </form>
                </div>
                
                <!-- Action Buttons -->
                <div class="ticket-actions">
                    <button class="ticket-action-btn response" onclick="toggleResponseSection(${index})">
                        <i class="fas fa-reply"></i> ${currentLanguage === 'en' ? 'Respond' :
                                                     currentLanguage === 'es' ? 'Responder' :
                                                     currentLanguage === 'de' ? 'Antworten' :
                                                     currentLanguage === 'it' ? 'Rispondi' : 'Responder'}
                    </button>
                    <button class="ticket-action-btn resolve" onclick="resolveTicket(${index})">
                        <i class="fas fa-check"></i> ${currentLanguage === 'en' ? 'Resolve' :
                                                     currentLanguage === 'es' ? 'Resolver' :
                                                     currentLanguage === 'de' ? 'Lösen' :
                                                     currentLanguage === 'it' ? 'Risolvi' : 'Resolver'}
                    </button>
                    <button class="ticket-action-btn delete" onclick="deleteTicket(${index})">
                        <i class="fas fa-trash"></i> ${currentLanguage === 'en' ? 'Delete' :
                                                     currentLanguage === 'es' ? 'Eliminar' :
                                                     currentLanguage === 'de' ? 'Löschen' :
                                                     currentLanguage === 'it' ? 'Elimina' : 'Deletar'}
                    </button>
                </div>
            </div>
        `;
    }).join('');
    
    // Adicionar event listeners para os formulários de resposta
    attachResponseFormListeners();
}

// Função para alternar a seção de resposta
function toggleResponseSection(ticketIndex) {
    const responseSection = document.getElementById(`responseSection-${ticketIndex}`);
    responseSection.classList.toggle('show');
    
    // Focar no textarea quando abrir
    if (responseSection.classList.contains('show')) {
        setTimeout(() => {
            const textarea = document.getElementById(`responseMessage-${ticketIndex}`);
            if (textarea) {
                textarea.focus();
            }
        }, 100);
    }
}

// Função para enviar resposta
function submitResponse(event, ticketIndex) {
    event.preventDefault();
    
    const messageInput = document.getElementById(`responseMessage-${ticketIndex}`);
    const responseMessage = messageInput.value.trim();
    
    if (!responseMessage) {
        alert(currentLanguage === 'en' ? 'Please enter a response message!' :
              currentLanguage === 'es' ? '¡Por favor ingrese un mensaje de respuesta!' :
              currentLanguage === 'de' ? 'Bitte geben Sie eine Antwortnachricht ein!' :
              currentLanguage === 'it' ? 'Per favore inserisci un messaggio di risposta!' :
              'Por favor, insira uma mensagem de resposta!');
        return;
    }
    
    // Adicionar a resposta ao ticket
    if (!supportTickets[ticketIndex].conversations) {
        supportTickets[ticketIndex].conversations = [];
    }
    
    // Adicionar a resposta da staff
    supportTickets[ticketIndex].conversations.push({
        type: 'staff',
        content: responseMessage,
        time: new Date().toLocaleTimeString(currentLanguage === 'pt' ? 'pt-BR' : 
                                           currentLanguage === 'es' ? 'es-ES' :
                                           currentLanguage === 'de' ? 'de-DE' :
                                           currentLanguage === 'it' ? 'it-IT' : 'en-US', { 
                                               hour: '2-digit', 
                                               minute: '2-digit' 
                                           }),
        date: new Date().toLocaleDateString(currentLanguage === 'pt' ? 'pt-BR' : 
                                           currentLanguage === 'es' ? 'es-ES' :
                                           currentLanguage === 'de' ? 'de-DE' :
                                           currentLanguage === 'it' ? 'it-IT' : 'en-US')
    });
    
    // Atualizar localStorage
    localStorage.setItem('xpr_support_tickets', JSON.stringify(supportTickets));
    
    // Limpar o campo de texto
    messageInput.value = '';
    
    // Fechar a seção de resposta
    const responseSection = document.getElementById(`responseSection-${ticketIndex}`);
    responseSection.classList.remove('show');
    
    // Recarregar o painel para mostrar a nova mensagem
    loadStaffPanel();
    
    // Mostrar confirmação
    const successMessage = currentLanguage === 'en' ? '✅ Response sent successfully!' :
                          currentLanguage === 'es' ? '✅ ¡Respuesta enviada con éxito!' :
                          currentLanguage === 'de' ? '✅ Antwort erfolgreich gesendet!' :
                          currentLanguage === 'it' ? '✅ Risposta inviata con successo!' :
                          '✅ Resposta enviada com sucesso!';
    
    alert(successMessage);
}

// Função para anexar listeners aos formulários
function attachResponseFormListeners() {
    // Os listeners já estão no HTML via onsubmit
}

// Modificar a função submitSupportTicket para incluir conversas
function submitSupportTicket(event) {
    event.preventDefault();

    const ticket = {
        id: 'TICKET-' + Math.random().toString(36).substr(2, 9).toUpperCase(),
        name: document.getElementById('ticketName').value,
        email: document.getElementById('ticketEmail').value,
        category: document.getElementById('ticketCategory').value,
        message: document.getElementById('ticketMessage').value,
        status: 'open',
        date: new Date().toLocaleDateString(currentLanguage === 'pt' ? 'pt-BR' : 
                                           currentLanguage === 'es' ? 'es-ES' :
                                           currentLanguage === 'de' ? 'de-DE' :
                                           currentLanguage === 'it' ? 'it-IT' : 'en-US'),
        time: new Date().toLocaleTimeString(currentLanguage === 'pt' ? 'pt-BR' : 
                                           currentLanguage === 'es' ? 'es-ES' :
                                           currentLanguage === 'de' ? 'de-DE' :
                                           currentLanguage === 'it' ? 'it-IT' : 'en-US'),
        user: currentUser ? currentUser.username : 'Anônimo',
        conversations: [] // Array vazio para conversas futuras
    };

    // Adicionar a mensagem inicial como primeira conversa
    ticket.conversations.push({
        type: 'user',
        content: ticket.message,
        time: ticket.time,
        date: ticket.date
    });

    supportTickets.push(ticket);
    localStorage.setItem('xpr_support_tickets', JSON.stringify(supportTickets));

    // Limpar formulário
    document.getElementById('ticketName').value = '';
    document.getElementById('ticketEmail').value = '';
    document.getElementById('ticketCategory').value = '';
    document.getElementById('ticketMessage').value = '';

    // Mostrar mensagem de sucesso (mantenha o código existente)
    // ... resto do código de alerta ...

    // Atualizar painéis
    updateSupportPanels();
}

// Modificar loadUserTickets para mostrar conversas
function loadUserTickets() {
    const userTicketsList = document.getElementById('userTicketsList');
    const userTickets = supportTickets.filter(t => 
        t.user === (currentUser ? currentUser.username : 
                   currentLanguage === 'en' ? 'Anonymous' :
                   currentLanguage === 'es' ? 'Anónimo' :
                   currentLanguage === 'de' ? 'Anonym' :
                   currentLanguage === 'it' ? 'Anonimo' : 'Anônimo') || 
        t.email === (currentUser ? currentUser.email : '')
    );

    if (userTickets.length === 0) {
        userTicketsList.innerHTML = `<div class="no-tickets">🔭 ${currentLanguage === 'en' ? 'You haven\'t sent any support requests yet.' :
                                                             currentLanguage === 'es' ? 'Aún no has enviado ninguna solicitud de soporte.' :
                                                             currentLanguage === 'de' ? 'Sie haben noch keine Support-Anfragen gesendet.' :
                                                             currentLanguage === 'it' ? 'Non hai ancora inviato richieste di supporto.' :
                                                             'Você ainda não enviou nenhum pedido de suporte.'}</div>`;
        return;
    }

    userTicketsList.innerHTML = userTickets.map((ticket, index) => {
        const hasConversation = ticket.conversations && ticket.conversations.length > 0;
        const conversations = ticket.conversations || [];
        
        return `
            <div class="support-ticket">
                <div class="ticket-header">
                    <span class="ticket-id">${ticket.id}</span>
                    <span class="ticket-status ${ticket.status}">${ticket.status === 'open' ? 
                        (currentLanguage === 'en' ? '🔴 AWAITING RESPONSE' :
                         currentLanguage === 'es' ? '🔴 ESPERANDO RESPUESTA' :
                         currentLanguage === 'de' ? '🔴 WARTET AUF ANTWORT' :
                         currentLanguage === 'it' ? '🔴 IN ATTESA DI RISPOSTA' : '🔴 AGUARDANDO RESPOSTA') : 
                        (currentLanguage === 'en' ? '🟢 RESOLVED' :
                         currentLanguage === 'es' ? '🟢 RESUELTO' :
                         currentLanguage === 'de' ? '🟢 GELÖST' :
                         currentLanguage === 'it' ? '🟢 RISOLTO' : '🟢 RESOLVIDO')}</span>
                </div>
                <div class="ticket-user"><strong>${currentLanguage === 'en' ? '📂 Category:' :
                                                   currentLanguage === 'es' ? '📂 Categoría:' :
                                                   currentLanguage === 'de' ? '📂 Kategorie:' :
                                                   currentLanguage === 'it' ? '📂 Categoria:' : '📂 Categoria:'}</strong> ${ticket.category}</div>
                <div class="ticket-user"><strong>${currentLanguage === 'en' ? '📅 Date:' :
                                                   currentLanguage === 'es' ? '📅 Fecha:' :
                                                   currentLanguage === 'de' ? '📅 Datum:' :
                                                   currentLanguage === 'it' ? '📅 Data:' : '📅 Data:'}</strong> ${ticket.date} ${ticket.time}</div>
                
                <!-- Conversation History -->
                <div class="ticket-conversation">
                    ${hasConversation ? conversations.map((msg, msgIndex) => `
                        <div class="message-item ${msg.type}">
                            <div class="message-header">
                                <div class="message-author ${msg.type}">
                                    ${msg.type === 'staff' ? '👨‍💼 ' : '👤 '}
                                    ${msg.type === 'staff' ? 
                                        (currentLanguage === 'en' ? 'Staff' :
                                         currentLanguage === 'es' ? 'Staff' :
                                         currentLanguage === 'de' ? 'Mitarbeiter' :
                                         currentLanguage === 'it' ? 'Staff' : 'Staff') : 
                                        ticket.name}
                                </div>
                                <div class="message-time">${msg.time}</div>
                            </div>
                            <div class="message-content">${msg.content}</div>
                        </div>
                    `).join('') : `
                        <div class="no-messages">
                            ${currentLanguage === 'en' ? 'No responses from staff yet.' :
                              currentLanguage === 'es' ? 'Sin respuestas del staff aún.' :
                              currentLanguage === 'de' ? 'Noch keine Antworten vom Mitarbeiter.' :
                              currentLanguage === 'it' ? 'Nessuna risposta dallo staff ancora.' : 'Sem respostas da equipe ainda.'}
                        </div>
                    `}
                </div>
                
                <!-- User can reply if ticket is open -->
                ${ticket.status === 'open' ? `
                <div class="ticket-response-section show" id="userResponseSection-${index}">
                    <form class="response-form" onsubmit="submitUserReply(event, ${supportTickets.findIndex(t => t.id === ticket.id)})">
                        <textarea id="userReplyMessage-${index}" 
                                  placeholder="${currentLanguage === 'en' ? 'Add additional information or reply to staff...' :
                                                currentLanguage === 'es' ? 'Añadir información adicional o responder al staff...' :
                                                currentLanguage === 'de' ? 'Fügen Sie zusätzliche Informationen hinzu oder antworten Sie dem Mitarbeiter...' :
                                                currentLanguage === 'it' ? 'Aggiungi informazioni aggiuntive o rispondi allo staff...' :
                                                'Adicionar informações adicionais ou responder à equipe...'}" 
                                  required></textarea>
                        <button type="submit" class="btn-response-submit">
                            <i class="fas fa-paper-plane"></i> ${currentLanguage === 'en' ? 'Send Reply' :
                                                                 currentLanguage === 'es' ? 'Enviar Respuesta' :
                                                                 currentLanguage === 'de' ? 'Antwort senden' :
                                                                 currentLanguage === 'it' ? 'Invia Risposta' : 'Enviar Resposta'}
                        </button>
                    </form>
                </div>
                ` : ''}
            </div>
        `;
    }).join('');
}

// Função para usuário responder ao ticket
function submitUserReply(event, ticketIndex) {
    event.preventDefault();
    
    const userReplyInput = document.getElementById(`userReplyMessage-${ticketIndex}`);
    const replyMessage = userReplyInput.value.trim();
    
    if (!replyMessage) {
        alert(currentLanguage === 'en' ? 'Please enter your reply!' :
              currentLanguage === 'es' ? '¡Por favor ingrese su respuesta!' :
              currentLanguage === 'de' ? 'Bitte geben Sie Ihre Antwort ein!' :
              currentLanguage === 'it' ? 'Per favore inserisci la tua risposta!' :
              'Por favor, insira sua resposta!');
        return;
    }
    
    // Adicionar a resposta do usuário
    if (!supportTickets[ticketIndex].conversations) {
        supportTickets[ticketIndex].conversations = [];
    }
    
    supportTickets[ticketIndex].conversations.push({
        type: 'user',
        content: replyMessage,
        time: new Date().toLocaleTimeString(currentLanguage === 'pt' ? 'pt-BR' : 
                                           currentLanguage === 'es' ? 'es-ES' :
                                           currentLanguage === 'de' ? 'de-DE' :
                                           currentLanguage === 'it' ? 'it-IT' : 'en-US', { 
                                               hour: '2-digit', 
                                               minute: '2-digit' 
                                           }),
        date: new Date().toLocaleDateString(currentLanguage === 'pt' ? 'pt-BR' : 
                                           currentLanguage === 'es' ? 'es-ES' :
                                           currentLanguage === 'de' ? 'de-DE' :
                                           currentLanguage === 'it' ? 'it-IT' : 'en-US')
    });
    
    // Atualizar localStorage
    localStorage.setItem('xpr_support_tickets', JSON.stringify(supportTickets));
    
    // Limpar o campo de texto
    userReplyInput.value = '';
    
    // Recarregar os painéis
    loadUserTickets();
    
    // Mostrar confirmação
    const successMessage = currentLanguage === 'en' ? '✅ Your reply has been sent!' :
                          currentLanguage === 'es' ? '✅ ¡Tu respuesta ha sido enviada!' :
                          currentLanguage === 'de' ? '✅ Ihre Antwort wurde gesendet!' :
                          currentLanguage === 'it' ? '✅ La tua risposta è stata inviata!' :
                          '✅ Sua resposta foi enviada!';
    
    alert(successMessage);
}
    function resolveTicket(index) {
    supportTickets[index].status = 'resolved';
    
    // Adicionar mensagem automática de resolução
    if (!supportTickets[index].conversations) {
        supportTickets[index].conversations = [];
    }
    
    supportTickets[index].conversations.push({
        type: 'staff',
        content: currentLanguage === 'en' ? '✅ This ticket has been marked as resolved by the support team.' :
                currentLanguage === 'es' ? '✅ Este ticket ha sido marcado como resuelto por el equipo de soporte.' :
                currentLanguage === 'de' ? '✅ Dieses Ticket wurde vom Support-Team als gelöst markiert.' :
                currentLanguage === 'it' ? '✅ Questo ticket è stato contrassegnato come risolto dal team di supporto.' :
                '✅ Este ticket foi marcado como resolvido pela equipe de suporte.',
        time: new Date().toLocaleTimeString(currentLanguage === 'pt' ? 'pt-BR' : 
                                           currentLanguage === 'es' ? 'es-ES' :
                                           currentLanguage === 'de' ? 'de-DE' :
                                           currentLanguage === 'it' ? 'it-IT' : 'en-US', { 
                                               hour: '2-digit', 
                                               minute: '2-digit' 
                                           }),
        date: new Date().toLocaleDateString(currentLanguage === 'pt' ? 'pt-BR' : 
                                           currentLanguage === 'es' ? 'es-ES' :
                                           currentLanguage === 'de' ? 'de-DE' :
                                           currentLanguage === 'it' ? 'it-IT' : 'en-US')
    });
    
    localStorage.setItem('xpr_support_tickets', JSON.stringify(supportTickets));
    loadStaffPanel();
    
    alert(currentLanguage === 'en' ? '✅ Ticket marked as resolved and user notified!' :
          currentLanguage === 'es' ? '✅ ¡Ticket marcado como resuelto y usuario notificado!' :
          currentLanguage === 'de' ? '✅ Ticket als gelöst markiert und Benutzer benachrichtigt!' :
          currentLanguage === 'it' ? '✅ Ticket contrassegnato come risolto e utente notificato!' :
          '✅ Ticket marcado como resolvido e usuário notificado!');
}

    function deleteTicket(index) {
        if (confirm(currentLanguage === 'en' ? 'Are you sure you want to delete this ticket?' :
                   currentLanguage === 'es' ? '¿Estás seguro de que quieres eliminar este ticket?' :
                   currentLanguage === 'de' ? 'Sind Sie sicher, dass Sie dieses Ticket löschen möchten?' :
                   currentLanguage === 'it' ? 'Sei sicuro di voler eliminare questo ticket?' :
                   'Tem certeza que deseja deletar este ticket?')) {
            supportTickets.splice(index, 1);
            localStorage.setItem('xpr_support_tickets', JSON.stringify(supportTickets));
            loadStaffPanel();
            alert(currentLanguage === 'en' ? '🗑️ Ticket deleted!' :
                  currentLanguage === 'es' ? '🗑️ ¡Ticket eliminado!' :
                  currentLanguage === 'de' ? '🗑️ Ticket gelöscht!' :
                  currentLanguage === 'it' ? '🗑️ Ticket eliminato!' :
                  '🗑️ Ticket deletado!');
        }
    }

    // ===== BUSINESS MODAL FUNCTIONS =====
    const modalTitles = {
        'partnership': `<i class="fas fa-handshake"></i> ${currentLanguage === 'en' ? 'Partnership Proposal' :
                                                       currentLanguage === 'es' ? 'Propuesta de Asociación' :
                                                       currentLanguage === 'de' ? 'Partnerschaftsvorschlag' :
                                                       currentLanguage === 'it' ? 'Proposta di Partnership' : 'Proposta de Parceria'}`,
        'hiring': `<i class="fas fa-user-plus"></i> ${currentLanguage === 'en' ? 'Hiring Request' :
                                                   currentLanguage === 'es' ? 'Solicitud de Contratación' :
                                                   currentLanguage === 'de' ? 'Einstellungsanfrage' :
                                                   currentLanguage === 'it' ? 'Richiesta di Assunzione' : 'Solicitação de Contratação'}`,
        'work': `<i class="fas fa-briefcase"></i> ${currentLanguage === 'en' ? 'Application - Work With Us' :
                                                  currentLanguage === 'es' ? 'Candidatura - Trabaja Con Nosotros' :
                                                  currentLanguage === 'de' ? 'Bewerbung - Arbeite mit uns' :
                                                  currentLanguage === 'it' ? 'Candidatura - Lavora Con Noi' : 'Candidatura - Trabalhe Conosco'}`,
        'policy': `<i class="fas fa-shield-alt"></i> ${currentLanguage === 'en' ? 'Report Policy Violation' :
                                                     currentLanguage === 'es' ? 'Reportar Violación de Política' :
                                                     currentLanguage === 'de' ? 'Richtlinienverstoß melden' :
                                                     currentLanguage === 'it' ? 'Segnala Violazione di Politica' : 'Reportar Violação de Política'}`,
        'report': `<i class="fas fa-exclamation-triangle"></i> ${currentLanguage === 'en' ? 'Report Staff' :
                                                              currentLanguage === 'es' ? 'Reportar Staff' :
                                                              currentLanguage === 'de' ? 'Mitarbeiter melden' :
                                                              currentLanguage === 'it' ? 'Segnala Staff' : 'Reportar Staff'}`,
        'general': `<i class="fas fa-at"></i> ${currentLanguage === 'en' ? 'General Contact' :
                                               currentLanguage === 'es' ? 'Contacto General' :
                                               currentLanguage === 'de' ? 'Allgemeiner Kontakt' :
                                               currentLanguage === 'it' ? 'Contatto Generale' : 'Contato Geral'}`
    };

    function openBusinessModal(type) {
        const modal = document.getElementById('businessModal');
        const modalTitle = document.getElementById('modalTitle');
        const contactType = document.getElementById('contactType');
        
        modalTitle.innerHTML = modalTitles[type] || `<i class="fas fa-envelope"></i> ${currentLanguage === 'en' ? 'Contact' :
                                                                                    currentLanguage === 'es' ? 'Contacto' :
                                                                                    currentLanguage === 'de' ? 'Kontakt' :
                                                                                    currentLanguage === 'it' ? 'Contatto' : 'Contato'}`;
        contactType.value = type;
        
        modal.style.display = 'flex';
        document.body.style.overflow = 'hidden';
    }

    function closeBusinessModal() {
        const modal = document.getElementById('businessModal');
        modal.style.display = 'none';
        document.body.style.overflow = 'auto';
        
        // Clear form
        document.getElementById('businessName').value = '';
        document.getElementById('businessEmail').value = '';
        document.getElementById('businessCompany').value = '';
        document.getElementById('businessSubject').value = '';
        document.getElementById('businessMessage').value = '';
    }

    function submitBusinessForm(event) {
        event.preventDefault();
        
        const contactType = document.getElementById('contactType').value;
        const name = document.getElementById('businessName').value;
        const email = document.getElementById('businessEmail').value;
        const company = document.getElementById('businessCompany').value;
        const subject = document.getElementById('businessSubject').value;
        const message = document.getElementById('businessMessage').value;

        const typeLabels = {
            'partnership': currentLanguage === 'en' ? 'Partnership' :
                          currentLanguage === 'es' ? 'Asociación' :
                          currentLanguage === 'de' ? 'Partnerschaft' :
                          currentLanguage === 'it' ? 'Partnership' : 'Parceria',
            'hiring': currentLanguage === 'en' ? 'Hiring' :
                     currentLanguage === 'es' ? 'Contratación' :
                     currentLanguage === 'de' ? 'Einstellung' :
                     currentLanguage === 'it' ? 'Assunzione' : 'Contratação',
            'work': currentLanguage === 'en' ? 'Application' :
                   currentLanguage === 'es' ? 'Candidatura' :
                   currentLanguage === 'de' ? 'Bewerbung' :
                   currentLanguage === 'it' ? 'Candidatura' : 'Candidatura',
            'policy': currentLanguage === 'en' ? 'Policy Violation' :
                     currentLanguage === 'es' ? 'Violación de Política' :
                     currentLanguage === 'de' ? 'Richtlinienverstoß' :
                     currentLanguage === 'it' ? 'Violazione di Politica' : 'Violação de Política',
            'report': currentLanguage === 'en' ? 'Report Staff' :
                     currentLanguage === 'es' ? 'Reportar Staff' :
                     currentLanguage === 'de' ? 'Mitarbeiter melden' :
                     currentLanguage === 'it' ? 'Segnala Staff' : 'Reportar Staff',
            'general': currentLanguage === 'en' ? 'General Contact' :
                      currentLanguage === 'es' ? 'Contacto General' :
                      currentLanguage === 'de' ? 'Allgemeiner Kontakt' :
                      currentLanguage === 'it' ? 'Contatto Generale' : 'Contato Geral'
        };

        const typeEmojis = {
            'partnership': '🤝',
            'hiring': '👥',
            'work': '💼',
            'policy': '🛡️',
            'report': '⚠️',
            'general': '📧'
        };

        // Criar corpo do email detalhado
        const emailBody = `${typeEmojis[contactType]} ${currentLanguage === 'en' ? 'REQUEST FOR' :
                                                       currentLanguage === 'es' ? 'SOLICITUD DE' :
                                                       currentLanguage === 'de' ? 'ANFRAGE FÜR' :
                                                       currentLanguage === 'it' ? 'RICHIESTA DI' : 'SOLICITAÇÃO DE'} ${typeLabels[contactType].toUpperCase()}%0D%0A` +
            `━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━%0D%0A%0D%0A` +
            `👤 ${currentLanguage === 'en' ? 'REQUESTER DATA:' :
                currentLanguage === 'es' ? 'DATOS DEL SOLICITANTE:' :
                currentLanguage === 'de' ? 'ANFRAGERDATEN:' :
                currentLanguage === 'it' ? 'DATI DEL RICHIEDENTE:' : 'DADOS DO SOLICITANTE:'}%0D%0A` +
            `${currentLanguage === 'en' ? 'Name:' :
              currentLanguage === 'es' ? 'Nombre:' :
              currentLanguage === 'de' ? 'Name:' :
              currentLanguage === 'it' ? 'Nome:' : 'Nome:'} ${name}%0D%0A` +
            `${currentLanguage === 'en' ? 'Email:' :
              currentLanguage === 'es' ? 'Email:' :
              currentLanguage === 'de' ? 'E-Mail:' :
              currentLanguage === 'it' ? 'Email:' : 'Email:'} ${email}%0D%0A` +
            `${currentLanguage === 'en' ? 'Company/Organization:' :
              currentLanguage === 'es' ? 'Empresa/Organización:' :
              currentLanguage === 'de' ? 'Unternehmen/Organisation:' :
              currentLanguage === 'it' ? 'Azienda/Organizzazione:' : 'Empresa/Organização:'} ${company || 
              (currentLanguage === 'en' ? 'Not informed' :
               currentLanguage === 'es' ? 'No informado' :
               currentLanguage === 'de' ? 'Nicht angegeben' :
               currentLanguage === 'it' ? 'Non informato' : 'Não informado')}%0D%0A%0D%0A` +
            `📋 ${currentLanguage === 'en' ? 'SUBJECT:' :
                currentLanguage === 'es' ? 'ASUNTO:' :
                currentLanguage === 'de' ? 'BETREFF:' :
                currentLanguage === 'it' ? 'OGGETTO:' : 'ASSUNTO:'}%0D%0A` +
            `${subject}%0D%0A%0D%0A` +
            `💬 ${currentLanguage === 'en' ? 'MESSAGE:' :
                currentLanguage === 'es' ? 'MENSAJE:' :
                currentLanguage === 'de' ? 'NACHRICHT:' :
                currentLanguage === 'it' ? 'MESSAGGIO:' : 'MENSAGEM:'}%0D%0A` +
            `${message}%0D%0A%0D%0A` +
            `━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━%0D%0A` +
            `📅 ${currentLanguage === 'en' ? 'Date:' :
                currentLanguage === 'es' ? 'Fecha:' :
                currentLanguage === 'de' ? 'Datum:' :
                currentLanguage === 'it' ? 'Data:' : 'Data:'} ${new Date().toLocaleString(currentLanguage === 'pt' ? 'pt-BR' : 
                                                                                       currentLanguage === 'es' ? 'es-ES' :
                                                                                       currentLanguage === 'de' ? 'de-DE' :
                                                                                       currentLanguage === 'it' ? 'it-IT' : 'en-US')}%0D%0A` +
            `🌐 ${currentLanguage === 'en' ? 'Origin:' :
                currentLanguage === 'es' ? 'Origen:' :
                currentLanguage === 'de' ? 'Herkunft:' :
                currentLanguage === 'it' ? 'Origine:' : 'Origem:'} XPR Studio Website - Business Contact`;

        const emailSubject = `[XPR Studio - ${typeLabels[contactType]}] ${subject}`;

        // Abrir cliente de email direcionado para 
        window.location.href = `mailto:?subject=${encodeURIComponent(emailSubject)}&body=${emailBody}`;

        // Mostrar confirmação
        setTimeout(() => {
            const confirmMessage = `✅ ${currentLanguage === 'en' ? 'Email client opened!' :
                                   currentLanguage === 'es' ? '¡Cliente de email abierto!' :
                                   currentLanguage === 'de' ? 'E-Mail-Client geöffnet!' :
                                   currentLanguage === 'it' ? 'Client email aperto!' : 'Cliente de email aberto!'}\n\n` +
                `${typeEmojis[contactType]} ${currentLanguage === 'en' ? 'Type:' :
                                           currentLanguage === 'es' ? 'Tipo:' :
                                           currentLanguage === 'de' ? 'Typ:' :
                                           currentLanguage === 'it' ? 'Tipo:' : 'Tipo:'} ${typeLabels[contactType]}\n` +
                `📨 ${currentLanguage === 'en' ? 'Recipient:' :
                    currentLanguage === 'es' ? 'Destinatario:' :
                    currentLanguage === 'de' ? 'Empfänger:' :
                    currentLanguage === 'it' ? 'Destinatario:' : 'Destinatário:'} \n\n` +
                `${currentLanguage === 'en' ? 'Please send the email through your email client.' :
                  currentLanguage === 'es' ? 'Por favor, envía el email a través de tu cliente de email.' :
                  currentLanguage === 'de' ? 'Bitte senden Sie die E-Mail über Ihren E-Mail-Client.' :
                  currentLanguage === 'it' ? 'Per favore, invia l\'email attraverso il tuo client email.' :
                  'Por favor, envie o email através do seu cliente de email.'}\n\n` +
                `${currentLanguage === 'en' ? 'Your request will be processed soon!' :
                  currentLanguage === 'es' ? '¡Tu solicitud será procesada pronto!' :
                  currentLanguage === 'de' ? 'Ihre Anfrage wird bald bearbeitet!' :
                  currentLanguage === 'it' ? 'La tua richiesta sarà elaborata presto!' :
                  'Sua solicitação será processada em breve!'}`;

            alert(confirmMessage);
            closeBusinessModal();
        }, 500);
    }

    // ===== STAFF MANAGEMENT =====
    window.grantStaffPermission = function(username) {
        const users = JSON.parse(localStorage.getItem('xpr_users'));
        const staffList = JSON.parse(localStorage.getItem('xpr_staff_list'));

        if (!users[username]) {
            console.log('❌ ' + (currentLanguage === 'en' ? 'User not found!' :
                                currentLanguage === 'es' ? '¡Usuario no encontrado!' :
                                currentLanguage === 'de' ? 'Benutzer nicht gefunden!' :
                                currentLanguage === 'it' ? 'Utente non trovato!' : 'Usuário não encontrado!'));
            return;
        }

        if (staffList.includes(username)) {
            console.log('❌ ' + (currentLanguage === 'en' ? 'User already is staff!' :
                                currentLanguage === 'es' ? '¡El usuario ya es staff!' :
                                currentLanguage === 'de' ? 'Benutzer ist bereits Mitarbeiter!' :
                                currentLanguage === 'it' ? 'L\'utente è già staff!' : 'Usuário já é staff!'));
            return;
        }

        users[username].type = 'staff';
        staffList.push(username);

        localStorage.setItem('xpr_users', JSON.stringify(users));
        localStorage.setItem('xpr_staff_list', JSON.stringify(staffList));

        console.log(`✅ ${username} ` + (currentLanguage === 'en' ? 'is now staff!' :
                                        currentLanguage === 'es' ? 'ahora es staff!' :
                                        currentLanguage === 'de' ? 'ist jetzt Mitarbeiter!' :
                                        currentLanguage === 'it' ? 'è ora staff!' : 'agora é staff!'));
    };

    window.revokeStaffPermission = function(username) {
        const users = JSON.parse(localStorage.getItem('xpr_users'));
        const staffList = JSON.parse(localStorage.getItem('xpr_staff_list'));

        if (!users[username]) {
            console.log('❌ ' + (currentLanguage === 'en' ? 'User not found!' :
                                currentLanguage === 'es' ? '¡Usuario no encontrado!' :
                                currentLanguage === 'de' ? 'Benutzer nicht gefunden!' :
                                currentLanguage === 'it' ? 'Utente non trovato!' : 'Usuário não encontrado!'));
            return;
        }

        if (username === 'admin1') {
            console.log('❌ ' + (currentLanguage === 'en' ? 'Cannot remove admin permissions!' :
                                currentLanguage === 'es' ? '¡No se pueden eliminar permisos de admin!' :
                                currentLanguage === 'de' ? 'Admin-Berechtigungen können nicht entfernt werden!' :
                                currentLanguage === 'it' ? 'Impossibile rimuovere i permessi admin!' : 'Não é possível remover permissões do admin!'));
            return;
        }

        users[username].type = 'normal';
        const index = staffList.indexOf(username);
        if (index > -1) {
            staffList.splice(index, 1);
        }

        localStorage.setItem('xpr_users', JSON.stringify(users));
        localStorage.setItem('xpr_staff_list', JSON.stringify(staffList));

        console.log(`✅ ` + (currentLanguage === 'en' ? 'Staff permissions removed from' :
                            currentLanguage === 'es' ? 'Permisos de staff removidos de' :
                            currentLanguage === 'de' ? 'Mitarbeiterberechtigungen entfernt von' :
                            currentLanguage === 'it' ? 'Permessi staff rimossi da' : 'Permissões de staff removidas de') + ` ${username}!`);
    };

    // Função para verificar se o Yagami está logado e mostrar o painel
function checkYagamiAccess() {
    const yagamiPanel = document.getElementById('yagamiRecruitPanel');
    if (currentUser && currentUser.username === 'Yagami_TheScripter') {
        yagamiPanel.style.display = 'block';
    } else {
        yagamiPanel.style.display = 'none';
    }
}

// Chame esta função dentro da sua função showMainContent() já existente
// window.showMainContent = function() { ... checkYagamiAccess(); ... }

function yagamiPromoteUser() {
    const usernameToPromote = document.getElementById('recruitUsername').value.trim();
    const feedback = document.getElementById('recruitFeedback');
    
    if (!usernameToPromote) {
        feedback.style.color = "#ff6b6b";
        feedback.innerText = "Por favor, digite um nome de usuário.";
        return;
    }

    let users = JSON.parse(localStorage.getItem('xpr_users') || '{}');
    let staffList = JSON.parse(localStorage.getItem('xpr_staff_list') || '[]');

    if (users[usernameToPromote]) {
        // Atualiza o tipo do usuário para staff
        users[usernameToPromote].type = 'staff';
        
        // Adiciona à lista de staff se não estiver nela
        if (!staffList.includes(usernameToPromote)) {
            staffList.push(usernameToPromote);
        }

        // Salva as alterações
        localStorage.setItem('xpr_users', JSON.stringify(users));
        localStorage.setItem('xpr_staff_list', JSON.stringify(staffList));

        feedback.style.color = "#00d4ff";
        feedback.innerText = `Sucesso! ${usernameToPromote} agora é um membro da Staff.`;
        document.getElementById('recruitUsername').value = '';
    } else {
        feedback.style.color = "#ff6b6b";
        feedback.innerText = "Usuário não encontrado no banco de dados.";
    }
}

    // ===== INITIALIZATION =====
    document.addEventListener('DOMContentLoaded', function() {
        initializeDataStore();
        generateParticles();
        updateHeaderUserInfo();
        
        if (typeof AOS !== 'undefined') {
            AOS.init({
                duration: 1000,
                easing: 'ease-in-out-cubic',
                once: false,
                offset: 100,
                disable: false,
                startEvent: 'DOMContentLoaded'
            });
        }
        
        setupFAQ();
        
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    animateCounters();
                }
            });
        }, {
            threshold: 0.3
        });
        
        const statsSection = document.getElementById('stats');
        if (statsSection) {
            observer.observe(statsSection);
        }

        setTimeout(() => {
            if (typeof AOS !== 'undefined') {
                AOS.refresh();
            }
        }, 100);
    });

    // Smooth scroll for anchor links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            const href = this.getAttribute('href');
            if (href !== '#' && document.querySelector(href)) {
                e.preventDefault();
                const target = document.querySelector(href);
                target.scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'
                });
            }
        });
    });

    // Header shadow on scroll
    window.addEventListener('scroll', function() {
        const header = document.querySelector('header');
        if (window.scrollY > 50) {
            header.style.boxShadow = '0 12px 40px rgba(0, 0, 0, 0.5)';
        } else {
            header.style.boxShadow = '0 8px 32px rgba(0, 0, 0, 0.4)';
        }
    });

    // Refresh AOS on scroll
    window.addEventListener('scroll', function() {
        if (typeof AOS !== 'undefined') {
            AOS.refresh();
        }
    }, false);

    // Close modal when clicking ESC key
    document.addEventListener('keydown', function(event) {
        if (event.key === 'Escape') {
            closeBusinessModal();
        }
    });

    
    /* WIKI_START */
    
    const wikiArticles = [
        {
            id: 1,
            category: 'Guias Iniciais',
            title: 'Attack On Titan',
            excerpt: 'Attack on Titan: New Hope is an action RPG based on the popular anime/manga. This guide will help you begin your journey as a soldier fighting against the Titans.',
            content: `
                <h3 class="wiki-article-full-title">Attack On Titan</h3>` +
                `
                <div class="wiki-article-body">
                    <p>Luau é uma versão derivada da linguagem Lua 5.1, criada especificamente pelo Roblox para ser mais rápida, segura e fácil de usar.</p>
                    <h4>Por que Luau?</h4>
                    <ul>
                        <li><strong>Performance:</strong> É uma das linguagens de script mais rápidas do mundo.</li>
                        <li><strong>Tipagem Gradual:</strong> Você pode definir tipos para suas variáveis, o que ajuda a evitar erros bobos.</li>
                        <li><strong>Compatibilidade:</strong> Quase tudo que funciona em Lua funciona em Luau.</li>
                    </ul>
                    <p>No XPR Studio, usamos Luau para criar desde sistemas simples de portas até inteligências artificiais complexas para nossos NPCs.</p>
                </div>
            `,
            views: '3.0K',
            time: '1 min'
        },
        {
            id: 2,
            category: 'Desenvolvimento',
            title: '-',
            excerpt: '-',
            content: `
                <h3 class="wiki-article-full-title">-</h3>
                <div class="wiki-article-body">
                    <p>No Roblox, o código roda em dois lugares: no Servidor (Server) e no computador do jogador (Client). Para eles conversarem, usamos <strong>RemoteEvents</strong>.</p>
                    <h4>Exemplo Prático:</h4>
                    <p>Imagine que o jogador clica em um botão para comprar um item. O clique acontece no <em>Client</em>, mas a retirada do dinheiro deve acontecer no <em>Server</em> por segurança.</p>
                    <pre style="background: #111; padding: 15px; border-radius: 10px; color: #00d4ff; overflow-x: auto;">
-- No Client (LocalScript)
local event = game.ReplicatedStorage.ComprarItem
event:FireServer("Espada_Lendaria")

-- No Server (Script)
local event = game.ReplicatedStorage.ComprarItem
event.OnServerEvent:Connect(function(player, itemName)
    print(player.Name .. " comprou " .. itemName)
end)
                    </pre>
                    <p><strong>Dica XPR:</strong> Nunca confie no cliente! Sempre verifique no servidor se o jogador realmente tem dinheiro antes de dar o item.</p>
                </div>
            `,
            views: '3.0K',
            time: '1 min'
        },
        {
            id: 3,
            category: 'Gameplay',
            title: '-',
            excerpt: '-.',
            content: `
                <h3 class="wiki-article-full-title">-</h3>
                <div class="wiki-article-body">
                    <p>Nossos mapas são cheios de segredos. Aqui estão alguns que a comunidade do XPR Studio descobriu recentemente:</p>
                    <ul>
                        <li><strong>A Caverna de Cristal:</strong> Atrás da cachoeira principal, existe uma passagem secreta que leva a um minerador de gemas raras.</li>
                        <li><strong>O Código do Cofre:</strong> No escritório do prefeito, as cores dos livros na estante revelam a senha do cofre do banco.</li>
                        <li><strong>Easter Egg do Desenvolvedor:</strong> Se você dançar (/e dance) na frente da estátua do dragão por 30 segundos, ganhará uma aura temporária.</li>
                    </ul>
                    <p>Explorar compensa! Jogadores que encontram segredos ganham Badges exclusivas em nosso perfil.</p>
                </div>
            `,
            views: '1.5K',
            time: '1 min'
        },
        {
            id: 4,
            category: 'Desenvolvimento',
            title: '-',
            excerpt: '-',
            content: `
                <h3 class="wiki-article-full-title">-</h3>
                <div class="wiki-article-body">
                    <p>Um jogo travando afasta jogadores. Siga estas regras de ouro do XPR Studio:</p>
                    <h4>1. Evite o 'wait()'</h4>
                    <p>Use <code>task.wait()</code> em vez de <code>wait()</code>. Ele é muito mais preciso e eficiente.</p>
                    <h4>2. Use Eventos, não Loops</h4>
                    <p>Em vez de ficar checando toda hora se uma porta abriu com um <code>while true do</code>, use o evento <code>.Changed</code> ou <code>:GetPropertyChangedSignal()</code>.</p>
                    <h4>3. Limpeza de Memória</h4>
                    <p>Sempre desconecte eventos que não são mais usados para evitar o famoso 'Memory Leak'.</p>
                </div>
            `,
            views: '2.1K',
            time: '30 sec'
        }
    ];

function initializeDataStore() {
    // Inicializar usuários
    if (!localStorage.getItem('xpr_users')) {
        const defaultUsers = {
            'admin': {
                username: 'admin1',
                password: protectData('admin1234'), // Senha protegida
                email: 'admin@xprstudio.com',
                type: 'staff',
                createdAt: new Date().toISOString()
            },

            'Yagami_TheScripter': {
                username: 'Yagami_TheScripter',
                password: protectData('Yagami_110308'), // Senha protegida
                email: 'yagami@xprstudio.com',
                type: 'staff',
                createdAt: new Date().toISOString()
            }
        };
        localStorage.setItem('xpr_users', JSON.stringify(defaultUsers));
    }

    // Inicializar lista de staff
    if (!localStorage.getItem('xpr_staff_list')) {
        const defaultStaff = ['admin1'];
        localStorage.setItem('xpr_staff_list', JSON.stringify(defaultStaff));
    }

    // Carregar tickets de suporte
    const savedTickets = localStorage.getItem('xpr_support_tickets');
    if (savedTickets) {
        supportTickets = JSON.parse(savedTickets);
    }

    // Verificar se há usuário logado
    const savedUser = localStorage.getItem('xpr_current_user');
    if (savedUser) {
        currentUser = JSON.parse(savedUser);
        showMainContent();
    }

    // Carregar preferência de idioma
    const savedLanguage = localStorage.getItem('xpr_language');
    if (savedLanguage && translations[savedLanguage]) {
        currentLanguage = savedLanguage;
    }
    
    updateLanguage();
    if (typeof renderWikiArticles === "function") renderWikiArticles();
}

function handleRegister(event) {
    event.preventDefault();
    
    const username = document.getElementById('registerUsername').value.trim();
    const email = document.getElementById('registerEmail').value.trim();
    const password = document.getElementById('registerPassword').value;
    const passwordConfirm = document.getElementById('registerPasswordConfirm').value;
    const messageEl = document.getElementById('registerMessage');

    // Validações
    if (username.length < 3) {
        showMessage(messageEl, translations[currentLanguage].auth_error_username_length || 'Usuário deve ter no mínimo 3 caracteres!', 'error');
        return;
    }

    if (password.length < 6) {
        showMessage(messageEl, translations[currentLanguage].auth_error_password_length || 'Senha deve ter no mínimo 6 caracteres!', 'error');
        return;
    }

    if (password !== passwordConfirm) {
        showMessage(messageEl, translations[currentLanguage].auth_error_password_mismatch || 'As senhas não coincidem!', 'error');
        return;
    }

    const users = JSON.parse(localStorage.getItem('xpr_users'));
    
    // Verificar se o usuário já existe
    if (users[username]) {
        showMessage(messageEl, translations[currentLanguage].auth_error_user_exists || 'Usuário já existe! Escolha outro nome.', 'error');
        return;
    }

    // Verificar se o email já existe
    const emailExists = Object.values(users).some(user => user.email === email);
    if (emailExists) {
        showMessage(messageEl, translations[currentLanguage].auth_error_email_exists || 'Email já cadastrado!', 'error');
        return;
    }

    // Criar novo usuário com a senha protegida
    users[username] = {
        username: username,
        email: email,
        password: protectData(password), // Senha protegida
        type: 'normal',
        createdAt: new Date().toISOString()
    };

    // Atualizar localStorage
    localStorage.setItem('xpr_users', JSON.stringify(users));
    
    showMessage(messageEl, translations[currentLanguage].auth_success_account_created || 'Conta criada com sucesso! Redirecionando...', 'success');
    
    // Limpar formulário
    document.getElementById('registerUsername').value = '';
    document.getElementById('registerEmail').value = '';
    document.getElementById('registerPassword').value = '';
    document.getElementById('registerPasswordConfirm').value = '';
    document.getElementById('passwordStrength').style.display = 'none';
    document.getElementById('passwordStrengthText').textContent = '';

    // Fazer login automático após registro
    setTimeout(() => {
        currentUser = users[username];
        localStorage.setItem('xpr_current_user', JSON.stringify(currentUser));
        showMainContent();
    }, 1500);
}

function handleLogin(event) {
    event.preventDefault();
    
    const username = document.getElementById('loginUsername').value.trim();
    const password = document.getElementById('loginPassword').value;
    const messageEl = document.getElementById('loginMessage');

    if (!username || !password) {
        showMessage(messageEl, translations[currentLanguage].auth_error_fill_all || 'Por favor, preencha todos os campos!', 'error');
        return;
    }

    // Obter usuários do localStorage
    const users = JSON.parse(localStorage.getItem('xpr_users')) || {};
    
    // Verificar se o usuário existe
    if (!users[username]) {
        // Fallback para o admin padrão (para compatibilidade com versão anterior)
        if (username === 'admin1' && password === 'admin1234') {
            currentUser = { username: 'admin', type: 'staff', email: 'admin@xprstudio.com' };
            localStorage.setItem('xpr_current_user', JSON.stringify(currentUser));
            showMessage(messageEl, `${translations[currentLanguage].auth_welcome || 'Bem-vindo'}, admin!`, 'success');
            setTimeout(() => {
                showMainContent();
            }, 1000);
            return;
        }
        showMessage(messageEl, translations[currentLanguage].auth_error_user_not_found || 'Usuário não encontrado!', 'error');
        return;
    }

    // Verificar senha (comparando a versão protegida)
    if (users[username].password !== protectData(password)) {
        showMessage(messageEl, translations[currentLanguage].auth_error_wrong_password || 'Senha incorreta!', 'error');
        return;
    }

    // Login bem-sucedido
    currentUser = users[username];
    localStorage.setItem('xpr_current_user', JSON.stringify(currentUser));
    
    showMessage(messageEl, `${translations[currentLanguage].auth_welcome || 'Bem-vindo'}, ${currentUser.username}!`, 'success');
    
    setTimeout(() => {
        showMainContent();
    }, 1000);
}

function protectData(data) {
    return btoa(data).split('').reverse().join(''); // Ofuscação simples para não deixar texto puro
}

function validateUser(username, password) {
    const users = JSON.parse(localStorage.getItem('xpr_users')) || {};
    const protectedPass = protectData(password);
    
    if (users[username] && users[username].password === protectedPass) {
        return users[username];
    }
    // Fallback para o admin padrão se for a primeira vez
    if (username === 'admin1' && password === 'admin1234') {
        return { username: 'admin', type: 'staff', email: 'admin@xprstudio.com' };
    }
    return null;
}
    // ===== WIKI FUNCTIONS =====
    function renderWikiArticles(filter = '') {
        const container = document.querySelector('.wiki-articles');
        if (!container) return;
        
        const filtered = wikiArticles.filter(art => 
            art.title.toLowerCase().includes(filter.toLowerCase()) || 
            art.excerpt.toLowerCase().includes(filter.toLowerCase())
        );

        container.innerHTML = filtered.map(art => `
            <div class="wiki-article" data-aos="fade-up">
                <div class="wiki-article-title">
                    <i class="fas fa-file-alt"></i>
                    <span>${art.title}</span>
                </div>
                <div class="wiki-article-excerpt">
                    ${art.excerpt}
                </div>
                <div class="wiki-article-meta">
                    <span><i class="fas fa-eye"></i> ${art.views} visualizações</span>
                    <span><i class="fas fa-clock"></i> ${art.time} leitura</span>
                </div>
            </div>
        `).join('');
        
        if (window.AOS) AOS.refresh();
    }

    // Inicializar busca da Wiki
    document.addEventListener('DOMContentLoaded', () => {
        const searchInput = document.getElementById('wikiSearch');
        if (searchInput) {
            searchInput.addEventListener('input', (e) => {
                renderWikiArticles(e.target.value);
            });
        }
        renderWikiArticles();
    });

    // ===== THEME FUNCTIONS =====
    function toggleThemeDropdown() {
        const dropdown = document.getElementById('themeDropdown');
        const langDropdown = document.getElementById('languageDropdown');
        if (langDropdown) langDropdown.classList.remove('show');
        dropdown.classList.toggle('show');
    }

    function changeTheme(theme) {
        document.body.classList.remove('theme-ocean', 'theme-midnight', 'theme-abyss', 'theme-ember', 'theme-forest', 'theme-purple', 'theme-dark');
        document.body.classList.add('theme-' + theme);
        
        // Update active class
        document.querySelectorAll('.theme-option').forEach(option => {
            option.classList.remove('active');
            if (option.getAttribute('onclick').includes(theme)) {
                option.classList.add('active');
            }
        });
        
        localStorage.setItem('xpr_theme', theme);
        const dropdown = document.getElementById('themeDropdown');
        if (dropdown) dropdown.classList.remove('show');
    }

    // Load saved theme
    document.addEventListener('DOMContentLoaded', () => {
        const savedTheme = localStorage.getItem('xpr_theme') || 'ocean';
        changeTheme(savedTheme);
    });

    // Close dropdowns on click outside
    document.addEventListener('click', (e) => {
        if (!e.target.closest('.theme-selector')) {
            const dropdown = document.getElementById('themeDropdown');
            if (dropdown) dropdown.classList.remove('show');
        }
        if (!e.target.closest('.language-selector')) {
            const dropdown = document.getElementById('languageDropdown');
            if (dropdown) dropdown.classList.remove('show');
        }
    });


    function applyThemeStyles(theme) {
        const colors = {
            'ocean': { text: '#e0f7fa', head: '#00d4ff' },
            'midnight': { text: '#00d4ff', head: '#ffffff' },
            'abyss': { text: '#888888', head: '#ffffff' },
            'ember': { text: '#ffd700', head: '#ff4500' },
            'forest': { text: '#d4edda', head: '#28a745' },
            'purple': { text: '#e1bee7', head: '#9c27b0' },
            'dark': { text: '#cccccc', head: '#ffffff' }
        };
        const c = colors[theme] || colors['ocean'];
        document.documentElement.style.setProperty('--theme-text', c.text);
        document.documentElement.style.setProperty('--theme-head', c.head);
    }

    function startSecretShow() {
        window.scrollTo({ top: 0, behavior: 'smooth' });
        const overlay = document.getElementById('secretOverlay');
        if (overlay) overlay.style.display = 'flex';
        if (window.pJSDom && window.pJSDom[0]) {
            const pJS = window.pJSDom[0].pJS;
            const originalSpeed = pJS.particles.move.speed;
            pJS.particles.move.speed = 100;
            pJS.fn.particlesRefresh();
            setTimeout(() => {
                if (overlay) overlay.style.display = 'none';
                pJS.particles.move.speed = originalSpeed;
                pJS.fn.particlesRefresh();
            }, 7000);
        }
    }
    const originalChangeTheme = window.changeTheme;
    window.changeTheme = function(theme) {
        if (typeof originalChangeTheme === 'function') originalChangeTheme(theme);
        applyThemeStyles(theme);
    };
    document.addEventListener('DOMContentLoaded', () => {
        const savedTheme = localStorage.getItem('xpr_theme') || 'ocean';
        applyThemeStyles(savedTheme);
    });
</script>


    <!-- Wiki Article Modal -->
    <div class="wiki-modal" id="wikiModal">
        <div class="wiki-modal-content">
            <span class="wiki-modal-close" onclick="closeWikiModal()">&times;</span>
            <div id="wikiModalBody">
                <!-- Content injected via JS -->
            </div>
        </div>
    </div>


    <div id="secretOverlay" style="position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.4);display:none;flex-direction:column;align-items:center;justify-content:center;z-index:10000;text-align:center;pointer-events:none;">
        <h1 style="color:#FFD700;text-shadow:0 0 20px #FFD700;font-size:4rem;font-weight:bold;margin:0;">天の宝</h1>
        <p style="color:white;font-size:1.5rem;margin:10px 0 0 0;">"He's the best developer in the world."</p>
    </div>
    <div style="text-align:center;padding:10px;opacity:0.3;">
        <button onclick="startSecretShow()" style="background:none;border:none;cursor:pointer;color:inherit;font-size:1.2rem;"><i class="fas fa-star"></i></button>
    </div>

    <!-- Adicionar no final do body -->
<div id="keyboardShortcuts" style="display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: rgba(20,30,48,0.98); padding: 30px; border-radius: 20px; z-index: 10001; width: 90%; max-width: 600px; max-height: 80vh; overflow-y: auto; border: 2px solid #00d4ff; box-shadow: 0 20px 60px rgba(0,0,0,0.5);">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
        <h3 style="color: #00d4ff; margin: 0;"><i class="fas fa-keyboard"></i> Atalhos de Teclado</h3>
        <button onclick="closeShortcuts()" style="background: none; border: none; color: #999; font-size: 1.5rem; cursor: pointer;">
            <i class="fas fa-times"></i>
        </button>
    </div>
        
        <div style="background: rgba(0,212,255,0.1); padding: 15px; border-radius: 10px;">
            <div style="display: flex; justify-content: space-between; align-items: center;">
                <span style="color: white;">Pomodoro Timer</span>
                <kbd style="background: rgba(0,0,0,0.3); padding: 5px 10px; border-radius: 5px; color: #00d4ff;">Ctrl + P</kbd>
            </div>
        </div>
        
        <div style="background: rgba(0,212,255,0.1); padding: 15px; border-radius: 10px;">
            <div style="display: flex; justify-content: space-between; align-items: center;">
                <span style="color: white;">Screenshot</span>
                <kbd style="background: rgba(0,0,0,0.3); padding: 5px 10px; border-radius: 5px; color: #00d4ff;">PrintScreen</kbd>
            </div>
        </div>
        
        <div style="background: rgba(0,212,255,0.1); padding: 15px; border-radius: 10px;">
            <div style="display: flex; justify-content: space-between; align-items: center;">
                <span style="color: white;">Wiki</span>
                <kbd style="background: rgba(0,0,0,0.3); padding: 5px 10px; border-radius: 5px; color: #00d4ff;">Ctrl + F</kbd>
            </div>
        </div>
        
        <div style="background: rgba(0,212,255,0.1); padding: 15px; border-radius: 10px;">
            <div style="display: flex; justify-content: space-between; align-items: center;">
                <span style="color: white;">Light/Dark</span>
                <kbd style="background: rgba(0,0,0,0.3); padding: 5px 10px; border-radius: 5px; color: #00d4ff;">Ctrl + D</kbd>
            </div>
        </div>
    </div>
    
    <div style="margin-top: 20px; padding-top: 20px; border-top: 1px solid rgba(255,255,255,0.1);">
        <p style="color: #999; font-size: 0.9rem; text-align: center;">
            <i class="fas fa-info-circle"></i> Pressione ESC para fechar qualquer modal
        </p>
    </div>
</div>

<script>
// Sistema de atalhos de teclado
document.addEventListener('keydown', function(e) {
    // Shift + / para abrir/fechar atalhos
    if (e.shiftKey && e.key === '/') {
        e.preventDefault();
        toggleShortcuts();
    }
    
    // Ctrl + N para nova anotação
    if (e.ctrlKey && e.key === 'n') {
        e.preventDefault();
        addNewNote();
    }
    
    
    // Ctrl + P para pomodoro
    if (e.ctrlKey && e.key === 'p') {
        e.preventDefault();
        togglePomodoro();
    }
    
    // Ctrl + T para tradutor
    if (e.ctrlKey && e.key === 't') {
        e.preventDefault();
        toggleTranslationTool();
    }
    
    // Ctrl + S para screenshot
    if (e.ctrlKey && e.key === 's') {
        e.preventDefault();
        takeScreenshot();
    }
    
    // Ctrl + D para alternar tema escuro
    if (e.ctrlKey && e.key === 'd') {
        e.preventDefault();
        toggleDarkMode();
    }
    
    // Ctrl + F para focar na busca da wiki
    if (e.ctrlKey && e.key === 'f') {
        e.preventDefault();
        const searchInput = document.getElementById('wikiSearch');
        if (searchInput) {
            searchInput.focus();
        }
    }
    
    // ESC para fechar modais
    if (e.key === 'Escape') {
        closeAllModals();
    }
});

function toggleShortcuts() {
    const modal = document.getElementById('keyboardShortcuts');
    modal.style.display = modal.style.display === 'none' ? 'block' : 'none';
}

function closeShortcuts() {
    document.getElementById('keyboardShortcuts').style.display = 'none';
}

function closeAllModals() {
    const modals = ['keyboardShortcuts', 'screenshotModal', 'pomodoroPanel', 'notesPanel', 'translationTool'];
    modals.forEach(id => {
        const modal = document.getElementById(id);
        if (modal) modal.style.display = 'none';
    });
}

function toggleDarkMode() {
    const currentTheme = localStorage.getItem('xpr_theme') || 'ocean';
    const newTheme = currentTheme === 'dark' ? 'ocean' : 'dark';
    changeTheme(newTheme);
}

// Inicializar tooltips para atalhos
document.addEventListener('DOMContentLoaded', function() {
    // Adicionar tooltips para botões
    const buttons = [
        { selector: '[onclick*="addNewNote"]', title: 'Nova Anotação (Ctrl+N)' },
        { selector: '[onclick*="togglePomodoro"]', title: 'Pomodoro (Ctrl+P)' },
        { selector: '[onclick*="toggleTranslationTool"]', title: 'Tradutor (Ctrl+T)' },
        { selector: '[onclick*="takeScreenshot"]', title: 'Screenshot (Ctrl+S)' }
    ];
    
    buttons.forEach(btn => {
        const element = document.querySelector(btn.selector);
        if (element) {
            element.title = btn.title;
        }
    });
    
    // Adicionar botão de atalhos no header
    const header = document.querySelector('header .header-content');
    if (header) {
        const shortcutsBtn = document.createElement('button');
        shortcutsBtn.innerHTML = '<i class="fas fa-keyboard"></i>';
        shortcutsBtn.onclick = toggleShortcuts;
        shortcutsBtn.style.background = 'rgba(0,212,255,0.1)';
        shortcutsBtn.style.color = 'white';
        shortcutsBtn.style.border = '2px solid rgba(0,212,255,0.3)';
        shortcutsBtn.style.borderRadius = '20px';
        shortcutsBtn.style.padding = '8px 16px';
        shortcutsBtn.style.cursor = 'pointer';
        shortcutsBtn.style.marginLeft = '10px';
        shortcutsBtn.title = 'Atalhos de Teclado (Shift+/)';
        
        header.appendChild(shortcutsBtn);
    }
});
</script>

<button id="toggleHeaderBtn" onclick="toggleHeader()" style="
    position: fixed;
    top: 20px;
    right: 20px;
    z-index: 9999;
    background: rgba(0, 212, 255, 0.8);
    color: white;
    border: 2px solid #00d4ff;
    border-radius: 50%;
    width: 45px;
    height: 45px;
    cursor: pointer;
    box-shadow: 0 4px 15px rgba(0,0,0,0.3);
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: center;">
    <i class="fas fa-eye-slash"></i>
</button>

<script>
function toggleHeader() {
    const header = document.querySelector('header');
    const btn = document.getElementById('toggleHeaderBtn');
    const icon = btn.querySelector('i');
    
    if (header.style.display === 'none') {
        // Mostrar Header
        header.style.display = 'block';
        icon.className = 'fas fa-eye-slash';
        btn.style.background = 'rgba(0, 212, 255, 0.8)';
    } else {
        // Esconder Header
        header.style.display = 'none';
        icon.className = 'fas fa-eye';
        btn.style.background = 'rgba(255, 107, 107, 0.8)';
    }
}

// Atalho de teclado opcional (Ctrl + H) para esconder/mostrar
document.addEventListener('keydown', function(e) {
    if (e.ctrlKey && e.key === 'h') {
        toggleHeader();
    }
});
</script>

<button onclick="toggleAchievements()" title="Ver Conquistas" id="achievementsBtn" style="
    position: fixed;
    bottom: 20px;
    left: 20px;
    z-index: 9998;
    background: linear-gradient(135deg, #ffd700 0%, #ffa502 100%);
    color: #1e3c72;
    border: 2px solid #fff;
    border-radius: 50%;
    width: 50px;
    height: 50px;
    cursor: pointer;
    box-shadow: 0 4px 15px rgba(255, 215, 0, 0.4);
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.5rem;
">
    <i class="fas fa-medal"></i>
</button>

<div id="achievementsModal" style="
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0,0,0,0.85);
    z-index: 10006;
    backdrop-filter: blur(5px);
    justify-content: center;
    align-items: center;
">
    <div style="
        background: #1e3c72;
        width: 90%;
        max-width: 600px;
        max-height: 80vh;
        border-radius: 20px;
        border: 1px solid #00d4ff;
        padding: 25px;
        overflow-y: auto;
        position: relative;
        box-shadow: 0 0 40px rgba(0, 212, 255, 0.3);
    ">
        <button onclick="toggleAchievements()" style="position: absolute; top: 15px; right: 15px; background: none; border: none; color: #fff; font-size: 1.5rem; cursor: pointer;"><i class="fas fa-times"></i></button>
        
        <h2 style="color: white; margin-bottom: 20px; display: flex; align-items: center; gap: 10px;">
            <i class="fas fa-trophy" style="color: #ffd700;"></i> 
            <span data-i18n="achievements.title">Suas Conquistas</span>
        </h2>
        
        <div id="achievementsList" style="display: flex; flex-direction: column; gap: 15px;">
            </div>
    </div>
</div>

<div id="achievementToast" style="
    position: fixed;
    top: -100px;
    left: 50%;
    transform: translateX(-50%);
    background: rgba(20, 30, 48, 0.95);
    border: 2px solid #ffd700;
    padding: 15px 25px;
    border-radius: 50px;
    z-index: 10007;
    display: flex;
    align-items: center;
    gap: 15px;
    box-shadow: 0 10px 40px rgba(0,0,0,0.5);
    transition: top 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
    min-width: 300px;
">
    <div style="background: #ffd700; width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: #1e3c72; font-size: 1.2rem;">
        <i class="fas fa-unlock"></i>
    </div>
    <div>
        <h4 style="color: #ffd700; margin: 0; font-size: 0.9rem; text-transform: uppercase; letter-spacing: 1px;" data-i18n="achievements.unlocked">Conquista Desbloqueada!</h4>
        <span id="toastTitle" style="color: white; font-weight: bold; font-size: 1.1rem;">Nome da Conquista</span>
    </div>
</div>

<div id="levelUpModal" style="
    display: none;
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
    padding: 30px;
    border-radius: 20px;
    z-index: 10005;
    text-align: center;
    border: 2px solid #00d4ff;
    box-shadow: 0 0 50px rgba(0, 212, 255, 0.5);
    animation: bounceIn 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
">
    <i class="fas fa-trophy" style="font-size: 4rem; color: #ffd700; margin-bottom: 20px; text-shadow: 0 0 20px rgba(255, 215, 0, 0.6);"></i>
    <h2 style="color: white; margin: 0; font-weight: 900; font-size: 2rem;" data-i18n="levelup.title">LEVEL UP!</h2>
    <p style="color: #00d4ff; font-size: 1.2rem; margin: 10px 0;">
        <span data-i18n="levelup.level_text">Você alcançou o Nível</span> <span id="newLevelSpan" style="color: white; font-weight: bold;">2</span>
    </p>
    <div style="background: rgba(0,0,0,0.3); padding: 10px; border-radius: 10px; margin-top: 15px; color: #ddd;">
        <span data-i18n="levelup.new_rank">Nova Patente:</span> <strong id="newRankSpan" style="color: #ffd700;"></strong>
    </div>
    <button onclick="closeLevelUp()" style="margin-top: 20px; background: white; color: #1e3c72; border: none; padding: 10px 30px; border-radius: 20px; font-weight: bold; cursor: pointer; box-shadow: 0 5px 15px rgba(0,0,0,0.2);" data-i18n="levelup.btn">INCRÍVEL!</button>
</div>

<button onclick="toggleCinemaMode()" title="Modo Cinema" id="cinemaBtn" style="
    position: fixed;
    bottom: 20px;
    left: 80px;
    z-index: 9998;
    background: rgba(0, 0, 0, 0.6);
    color: white;
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 50%;
    width: 40px;
    height: 40px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease;
">
    <i class="fas fa-camera"></i>
</button>

<style>
    @keyframes bounceIn {
        0% { transform: translate(-50%, -50%) scale(0.3); opacity: 0; }
        50% { transform: translate(-50%, -50%) scale(1.05); opacity: 1; }
        70% { transform: translate(-50%, -50%) scale(0.9); }
        100% { transform: translate(-50%, -50%) scale(1); }
    }
    
    .xp-bar-container {
        width: 100%;
        height: 4px;
        background: rgba(255,255,255,0.1);
        margin-top: 5px;
        border-radius: 2px;
        overflow: hidden;
    }
    
    .xp-bar-fill {
        height: 100%;
        background: #00d4ff;
        width: 0%;
        transition: width 0.5s ease;
    }

    .achievement-item {
        background: rgba(0,0,0,0.2);
        border-radius: 10px;
        padding: 15px;
        display: flex;
        align-items: center;
        gap: 15px;
        border: 1px solid transparent;
        transition: all 0.3s ease;
    }
    
    .achievement-item.locked {
        opacity: 0.6;
        filter: grayscale(1);
    }
    
    .achievement-item.unlocked {
        background: rgba(0, 212, 255, 0.1);
        border-color: #ffd700;
        box-shadow: 0 0 15px rgba(255, 215, 0, 0.1);
    }

    .achievement-icon {
        width: 50px;
        height: 50px;
        background: #333;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.5rem;
        color: #555;
    }

    .achievement-item.unlocked .achievement-icon {
        background: linear-gradient(135deg, #ffd700 0%, #ffa502 100%);
        color: #1e3c72;
    }

</style>

<style>
/* Estilos para Subseções da Wiki */
.wiki-category-wrapper {
    margin-bottom: 15px;
    border-radius: 12px;
    background: rgba(255, 255, 255, 0.05);
    overflow: hidden;
    border: 1px solid rgba(0, 212, 255, 0.1);
}

.wiki-category-header {
    padding: 15px 20px;
    background: rgba(0, 212, 255, 0.1);
    cursor: pointer;
    display: flex;
    justify-content: space-between;
    align-items: center;
    transition: all 0.3s ease;
}

.wiki-category-header:hover {
    background: rgba(0, 212, 255, 0.2);
}

.wiki-category-header h3 {
    margin: 0;
    font-size: 1.2rem;
    color: #00d4ff !important;
}

.wiki-category-content {
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.5s cubic-bezier(0, 1, 0, 1);
}

.wiki-category-wrapper.active .wiki-category-content {
    max-height: 2000px; /* Altura máxima para permitir expansão */
    transition: max-height 0.5s ease-in;
}

.wiki-category-wrapper.active .fa-chevron-down {
    transform: rotate(180deg);
}

.wiki-category-header .fa-chevron-down {
    transition: transform 0.3s ease;
    color: #00d4ff;

    
}

/* Estilo do Modal de Perfil */
.profile-modal-content {
    background: rgba(10, 10, 15, 0.95);
    border: 1px solid #00d4ff;
    box-shadow: 0 0 20px rgba(0, 212, 255, 0.2);
    border-radius: 15px;
    padding: 30px;
    color: white;
    max-width: 400px;
    margin: 50px auto;
    position: relative;
    text-align: center;
}

.profile-avatar-big {
    width: 100px;
    height: 100px;
    border-radius: 50%;
    border: 3px solid #00d4ff;
    margin-bottom: 15px;
}

.profile-info-group {
    margin-bottom: 20px;
    text-align: left;
}

.profile-info-group label {
    display: block;
    color: #00d4ff;
    font-size: 0.8rem;
    text-transform: uppercase;
    margin-bottom: 5px;
}

.profile-info-group p {
    background: rgba(255,255,255,0.05);
    padding: 10px;
    border-radius: 5px;
    border: 1px solid rgba(255,255,255,0.1);
}
</style>


<script>
/* --- EXTENSÃO DE IDIOMAS (Adicione isso ao seu dicionário de traduções) --- */
const gamificationTranslations = {
    'pt': {
        'achievements.title': 'Suas Conquistas',
        'achievements.unlocked': 'Conquista Desbloqueada!',
        'achievements.welcome.title': 'Bem-vindo!',
        'achievements.welcome.desc': 'Acesse o site pela primeira vez.',
        'achievements.scroller.title': 'Explorador',
        'achievements.scroller.desc': 'Role a página até o rodapé.',
        'achievements.clicker.title': 'Curioso',
        'achievements.clicker.desc': 'Clique em 5 elementos interativos.',
        'achievements.level5.title': 'Veterano',
        'achievements.level5.desc': 'Alcance o nível 5 de XP.',
        'achievements.cinema.title': 'Fotógrafo',
        'achievements.cinema.desc': 'Ative o Modo Cinema.',
        'levelup.title': 'LEVEL UP!',
        'levelup.level_text': 'Você alcançou o Nível',
        'levelup.new_rank': 'Nova Patente:',
        'levelup.btn': 'INCRÍVEL!',
        'cinema.hint': 'Pressione ESC para sair do Modo Cinema',
        'rank.0': ' ', 'rank.1': ' ', 'rank.2': ' ',
        'rank.3': ' ', 'rank.4': ' ', 'rank.5': ' '
    },
    'en': {
        'achievements.title': 'Your Achievements',
        'achievements.unlocked': 'Achievement Unlocked!',
        'achievements.welcome.title': 'Welcome!',
        'achievements.welcome.desc': 'Access the site for the first time.',
        'achievements.scroller.title': 'Explorer',
        'achievements.scroller.desc': 'Scroll to the bottom of the page.',
        'achievements.clicker.title': 'Curious',
        'achievements.clicker.desc': 'Click on 5 interactive elements.',
        'achievements.level5.title': 'Veteran',
        'achievements.level5.desc': 'Reach XP Level 5.',
        'achievements.cinema.title': 'Photographer',
        'achievements.cinema.desc': 'Activate Cinema Mode.',
        'levelup.title': 'LEVEL UP!',
        'levelup.level_text': 'You reached Level',
        'levelup.new_rank': 'New Rank:',
        'levelup.btn': 'AMAZING!',
        'cinema.hint': 'Press ESC to exit Cinema Mode',
        'rank.0': ' ', 'rank.1': ' ', 'rank.2': ' ',
        'rank.3': ' ', 'rank.4': ' ', 'rank.5': ' '
    },
    'es': {
        'achievements.title': 'Tus Logros',
        'achievements.unlocked': '¡Logro Desbloqueado!',
        'achievements.welcome.title': '¡Bienvenido!',
        'achievements.welcome.desc': 'Accede al sitio por primera vez.',
        'achievements.scroller.title': 'Explorador',
        'achievements.scroller.desc': 'Desplázate hasta el pie de página.',
        'achievements.clicker.title': 'Curioso',
        'achievements.clicker.desc': 'Haz clic en 5 elementos interactivos.',
        'achievements.level5.title': 'Veterano',
        'achievements.level5.desc': 'Alcanza el nivel 5 de XP.',
        'achievements.cinema.title': 'Fotógrafo',
        'achievements.cinema.desc': 'Activa el Modo Cine.',
        'levelup.title': '¡SUBIDA DE NIVEL!',
        'levelup.level_text': 'Has alcanzado el Nivel',
        'levelup.new_rank': 'Nuevo Rango:',
        'levelup.btn': '¡INCREÍBLE!',
        'cinema.hint': 'Presiona ESC para salir del Modo Cine',
        'rank.0': ' ', 'rank.1': ' ', 'rank.2': ' ',
        'rank.3': ' ', 'rank.4': ' ', 'rank.5': ' '
    },
    'de': {
        'achievements.title': 'Deine Erfolge',
        'achievements.unlocked': 'Erfolg freigeschaltet!',
        'achievements.welcome.title': 'Willkommen!',
        'achievements.welcome.desc': 'Besuche die Seite zum ersten Mal.',
        'achievements.scroller.title': 'Entdecker',
        'achievements.scroller.desc': 'Scrolle bis zum Ende der Seite.',
        'achievements.clicker.title': 'Neugierig',
        'achievements.clicker.desc': 'Klicke auf 5 interaktive Elemente.',
        'achievements.level5.title': 'Veteran',
        'achievements.level5.desc': 'Erreiche XP Level 5.',
        'achievements.cinema.title': 'Fotograf',
        'achievements.cinema.desc': 'Aktiviere den Kinomodus.',
        'levelup.title': 'LEVEL AUFSTIEG!',
        'levelup.level_text': 'Du hast Level erreicht:',
        'levelup.new_rank': 'Neuer Rang:',
        'levelup.btn': 'UNGLAUBLICH!',
        'cinema.hint': 'Drücke ESC zum Verlassen',
        'rank.0': ' ', 'rank.1': ' ', 'rank.2': ' ',
        'rank.3': ' ', 'rank.4': ' ', 'rank.5': ' '
    },
    'it': {
        'achievements.title': 'I Tuoi Successi',
        'achievements.unlocked': 'Successo Sbloccato!',
        'achievements.welcome.title': 'Benvenuto!',
        'achievements.welcome.desc': 'Accedi al sito per la prima volta.',
        'achievements.scroller.title': 'Esploratore',
        'achievements.scroller.desc': 'Scorri fino in fondo alla pagina.',
        'achievements.clicker.title': 'Curioso',
        'achievements.clicker.desc': 'Clicca su 5 elementi interattivi.',
        'achievements.level5.title': 'Veterano',
        'achievements.level5.desc': 'Raggiungi il livello 5 di XP.',
        'achievements.cinema.title': 'Fotografo',
        'achievements.cinema.desc': 'Attiva la Modalità Cinema.',
        'levelup.title': 'LEVEL UP!',
        'levelup.level_text': 'Hai raggiunto il Livello',
        'levelup.new_rank': 'Nuovo Grado:',
        'levelup.btn': 'INCREDIBILE!',
        'cinema.hint': 'Premi ESC per uscire dalla Modalità Cinema',
        'rank.0': ' ', 'rank.1': ' ', 'rank.2': ' ',
        'rank.3': ' ', 'rank.4': ' ', 'rank.5': ' '
    }
};

// Mesclar com o objeto global de traduções se ele existir
if (typeof translations !== 'undefined') {
    Object.keys(gamificationTranslations).forEach(lang => {
        if (!translations[lang]) translations[lang] = {};
        Object.assign(translations[lang], gamificationTranslations[lang]);
    });
}

// Função auxiliar para pegar texto seguro
function getText(key) {
    const lang = (typeof currentLanguage !== 'undefined') ? currentLanguage : 'pt';
    return translations[lang][key] || translations['pt'][key] || key;
}

/* --- 1. SISTEMA DE CONQUISTAS --- */
const allAchievements = [
    { id: 'welcome', keyBase: 'achievements.welcome', icon: 'fa-door-open' },
    { id: 'scroller', keyBase: 'achievements.scroller', icon: 'fa-arrow-down' },
    { id: 'clicker', keyBase: 'achievements.clicker', icon: 'fa-mouse-pointer' },
    { id: 'level5', keyBase: 'achievements.level5', icon: 'fa-star' },
    { id: 'cinema', keyBase: 'achievements.cinema', icon: 'fa-camera' }
];

let unlockedAchievements = JSON.parse(localStorage.getItem('xpr_achievements') || '[]');
let interactionCount = 0;

function checkAchievement(id) {
    if (!unlockedAchievements.includes(id)) {
        unlockAchievement(id);
    }
}

function unlockAchievement(id) {
    unlockedAchievements.push(id);
    localStorage.setItem('xpr_achievements', JSON.stringify(unlockedAchievements));
    
    // Tocar som suave
    const audio = new Audio('https://assets.mixkit.co/sfx/preview/mixkit-software-interface-start-2574.mp3');
    audio.volume = 0.3;
    audio.play().catch(e=>{});

    // Mostrar Toast
    const achievement = allAchievements.find(a => a.id === id);
    const toast = document.getElementById('achievementToast');
    
    // Traduzir o título do toast dinamicamente
    document.getElementById('toastTitle').innerText = getText(achievement.keyBase + '.title');
    // Atualizar o texto de "Conquista Desbloqueada"
    toast.querySelector('h4').innerText = getText('achievements.unlocked');
    
    toast.style.top = '30px';
    
    // Ganhar XP extra pela conquista
    gainXP(50);

    setTimeout(() => {
        toast.style.top = '-100px';
    }, 4000);
    
    // Se o modal estiver aberto, atualize a lista
    if(document.getElementById('achievementsModal').style.display === 'flex'){
        renderAchievementsList();
    }
}

function toggleAchievements() {
    const modal = document.getElementById('achievementsModal');
    if (modal.style.display === 'flex') {
        modal.style.display = 'none';
    } else {
        renderAchievementsList();
        modal.style.display = 'flex';
    }
}

function renderAchievementsList() {
    const list = document.getElementById('achievementsList');
    list.innerHTML = '';
    
    // Atualizar título do modal
    document.querySelector('[data-i18n="achievements.title"]').innerText = getText('achievements.title');
    
    allAchievements.forEach(ach => {
        const isUnlocked = unlockedAchievements.includes(ach.id);
        const title = getText(ach.keyBase + '.title');
        const desc = getText(ach.keyBase + '.desc');
        
        const html = `
            <div class="achievement-item ${isUnlocked ? 'unlocked' : 'locked'}">
                <div class="achievement-icon">
                    <i class="fas ${ach.icon}"></i>
                </div>
                <div style="flex: 1;">
                    <h4 style="margin: 0; color: ${isUnlocked ? '#ffd700' : '#aaa'};">${title}</h4>
                    <p style="margin: 5px 0 0; font-size: 0.9rem; color: #ddd;">${desc}</p>
                </div>
                ${isUnlocked ? '<i class="fas fa-check-circle" style="color: #00b894;"></i>' : '<i class="fas fa-lock" style="color: #555;"></i>'}
            </div>
        `;
        list.innerHTML += html;
    });
}

// Triggers de Conquistas
setTimeout(() => checkAchievement('welcome'), 1000); // Trigger Bem-vindo

window.addEventListener('scroll', () => {
    if ((window.innerHeight + window.scrollY) >= document.body.offsetHeight - 100) {
        checkAchievement('scroller');
    }
});

document.addEventListener('click', () => {
    interactionCount++;
    if (interactionCount === 5) checkAchievement('clicker');
});


/* --- 2. LÓGICA DO SISTEMA DE XP E NÍVEIS --- */
let userXP = 0;
let userLevel = 1;

if (localStorage.getItem('xpr_xp')) {
    userXP = parseInt(localStorage.getItem('xpr_xp'));
    userLevel = parseInt(localStorage.getItem('xpr_level') || 1);
}

function getRankName(level) {
    const rankIndex = Math.min(Math.floor((level - 1) / 5), 5);
    return getText(`rank.${rankIndex}`);
}

function gainXP(amount) {
    userXP += amount;
    const nextLevelXP = userLevel * 100;
    
    if (userXP >= nextLevelXP) {
        userLevel++;
        userXP = userXP - nextLevelXP;
        showLevelUp();
        
        if(userLevel === 5) checkAchievement('level5');
    }
    
    saveProgress();
    updateUIXP();
}

function showLevelUp() {
    // Atualizar textos do modal
    document.querySelector('[data-i18n="levelup.title"]').innerText = getText('levelup.title');
    document.querySelector('[data-i18n="levelup.level_text"]').innerText = getText('levelup.level_text');
    document.querySelector('[data-i18n="levelup.new_rank"]').innerText = getText('levelup.new_rank');
    document.querySelector('[data-i18n="levelup.btn"]').innerText = getText('levelup.btn');

    document.getElementById('newLevelSpan').textContent = userLevel;
    document.getElementById('newRankSpan').textContent = getRankName(userLevel);
    document.getElementById('levelUpModal').style.display = 'block';
    
    const sfx = new Audio('https://assets.mixkit.co/sfx/preview/mixkit-winning-chimes-2015.mp3');
    sfx.volume = 0.4;
    sfx.play().catch(e=>{});
}

function closeLevelUp() {
    document.getElementById('levelUpModal').style.display = 'none';
}

function saveProgress() {
    localStorage.setItem('xpr_xp', userXP);
    localStorage.setItem('xpr_level', userLevel);
}

function updateUIXP() {
    const headerInfo = document.querySelector('.user-info .user-details');
    if (headerInfo && !document.getElementById('xpDisplay')) {
        const xpDiv = document.createElement('div');
        xpDiv.id = 'xpDisplay';
        xpDiv.innerHTML = `
            <div style="font-size: 0.7rem; color: #ffd700; display: flex; justify-content: space-between;">
                <span>Lvl <span id="lvlNum">${userLevel}</span></span>
                <span id="rankName">${getRankName(userLevel)}</span>
            </div>
            <div class="xp-bar-container">
                <div class="xp-bar-fill" id="xpFill" style="width: 0%"></div>
            </div>
        `;
        headerInfo.appendChild(xpDiv);
    }
    
    // Se o elemento existe, atualiza valores e tradução do Rank
    if (document.getElementById('xpFill')) {
        const nextLevelXP = userLevel * 100;
        const percentage = (userXP / nextLevelXP) * 100;
        document.getElementById('xpFill').style.width = percentage + '%';
        document.getElementById('lvlNum').textContent = userLevel;
        document.getElementById('rankName').textContent = getRankName(userLevel);
    }
}

// Iniciar XP
setTimeout(() => {
    if (typeof currentUser !== 'undefined' && currentUser) {
        updateUIXP();
        gainXP(10);
    }
}, 2000);

let hasScrolled = false;
window.addEventListener('scroll', () => {
    if (!hasScrolled && window.scrollY > 500) {
        hasScrolled = true;
        gainXP(20);
    }
});


/* --- 3. MODO CINEMA (ATUALIZADO) --- */
let cinemaModeActive = false;
function toggleCinemaMode() {
    cinemaModeActive = !cinemaModeActive;
    
    // Se ativar, checar conquista
    if(cinemaModeActive) checkAchievement('cinema');
    
    // Elementos para esconder
    const elementsToHide = [
        document.getElementById('toggleHeaderBtn'),
        document.getElementById('achievementsBtn'),
        document.getElementById('keyboardShortcuts'),
        document.getElementById('pomodoroTimer'),
        document.getElementById('translationTool'),
        document.getElementById('notesWidget'),
        document.querySelector('button[onclick="toggleCinemaMode()"]'),
        document.querySelector('button[onclick="openCodeSnippet()"]'),
        document.querySelector('button[onclick="toggleTranslationTool()"]')
    ];
    
    const header = document.querySelector('header');
    
    if (cinemaModeActive) {
        elementsToHide.forEach(el => { if(el) el.style.display = 'none'; });
        if(header) header.style.display = 'none';
        
        const exitHint = document.createElement('div');
        exitHint.id = 'exitCinemaHint';
        // Tradução dinâmica da dica
        exitHint.innerHTML = getText('cinema.hint').replace('ESC', '<strong>ESC</strong>');
        exitHint.style.cssText = 'position: fixed; top: 20px; left: 50%; transform: translateX(-50%); background: rgba(0,0,0,0.7); color: white; padding: 10px 20px; border-radius: 20px; pointer-events: none; opacity: 0; transition: opacity 1s; z-index: 10000;';
        document.body.appendChild(exitHint);
        
        setTimeout(() => { exitHint.style.opacity = '1'; }, 100);
        setTimeout(() => { exitHint.style.opacity = '0'; }, 3000);
        
    } else {
        elementsToHide.forEach(el => { 
            if(el) {
                if (el.id === 'achievementsBtn') el.style.display = 'flex';
                else if (el.tagName === 'BUTTON') el.style.display = 'flex';
                else el.style.display = '';
            }
        });
        if(header) header.style.display = 'block';
        
        const hint = document.getElementById('exitCinemaHint');
        if(hint) hint.remove();
    }
}

document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape') {
        if (cinemaModeActive) toggleCinemaMode();
        document.getElementById('achievementsModal').style.display = 'none';
    }
});

// Listener para atualizar a UI quando o idioma mudar (caso você tenha uma função changeLanguage global)
const originalUpdateLanguage = window.updateLanguage;
window.updateLanguage = function() {
    if (typeof originalUpdateLanguage === 'function') originalUpdateLanguage();
    
    // Atualizar UI de XP e Lista de Conquistas se estiver aberta
    updateUIXP();
    if(document.getElementById('achievementsModal').style.display === 'flex') {
        renderAchievementsList();
    }
};
</script>

<script>
    // Carregar dados existentes ou iniciar novo array
let businessRequests = JSON.parse(localStorage.getItem('xpr_business_requests')) || [];

// Função disparada pelo formulário de business que você enviou
function submitBusinessForm(event) {
    event.preventDefault();
    
    const newRequest = {
        id: 'BIZ-' + Math.random().toString(36).substr(2, 6).toUpperCase(),
        name: document.getElementById('businessName').value,
        email: document.getElementById('businessEmail').value,
        company: document.getElementById('businessCompany').value || 'N/A',
        subject: document.getElementById('businessSubject').value,
        message: document.getElementById('businessMessage').value,
        status: 'open',
        date: new Date().toISOString(),
        conversations: []
    };

    database.ref('business_requests/' + newRequest.id).set(newRequest)
    .then(() => {
        alert("Enviado globalmente com sucesso!");
        closeBusinessModal();
    })
    .catch(error => console.error("Erro ao enviar:", error));


    businessRequests.push(newRequest);
    localStorage.setItem('xpr_business_requests', JSON.stringify(businessRequests));
    
    alert(currentLanguage === 'pt' ? "Solicitação enviada com sucesso!" : "Request sent successfully!");
    event.target.reset();
    closeBusinessModal();
    updateSupportPanels(); // Atualiza a visão se for staff
}

// Função para renderizar a lista no painel da staff
function loadBusinessPanel() {
    const list = document.getElementById('businessRequestsList');
    const panel = document.getElementById('staffBusinessPanel');
    
    if (!currentUser || currentUser.type !== 'staff') {
        panel.style.display = 'none';
        return;
    }
    
    panel.style.display = 'block';
    
    if (businessRequests.length === 0) {
        list.innerHTML = `<div class="no-tickets">💼 ${translations[currentLanguage]['business.no_requests']}</div>`;
        return;
    }

    list.innerHTML = businessRequests.map((req, index) => `
        <div class="support-ticket" style="background: rgba(255,255,255,0.05); margin-bottom: 15px; padding: 15px; border-radius: 10px; border-left: 4px solid #00d4ff;">
            <div class="ticket-header" style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                <span style="font-weight: bold; color: #00d4ff;">#${req.id}</span>
                <span class="badge" style="background: ${req.status === 'open' ? '#ff6b6b' : req.status === 'progress' ? '#fdcb6e' : '#00b894'}">
                    ${translations[currentLanguage]['business.status_' + req.status]}
                </span>
            </div>
            <div style="font-size: 0.9rem; margin-bottom: 10px;">
                <strong>${req.name}</strong> (${req.company})<br>
                <small>${req.email}</small>
                <p style="margin-top: 5px; background: rgba(0,0,0,0.2); padding: 8px; border-radius: 5px;">${req.message}</p>
            </div>
            <div class="actions" style="display: flex; gap: 5px; flex-wrap: wrap;">
                <select onchange="updateBizStatus(${index}, this.value)" class="form-control-sm" style="background: #1e3c72; color: white; border: 1px solid #00d4ff;">
                    <option value="open" ${req.status === 'open' ? 'selected' : ''}>Aberto</option>
                    <option value="progress" ${req.status === 'progress' ? 'selected' : ''}>Em Progresso</option>
                    <option value="closed" ${req.status === 'closed' ? 'selected' : ''}>Fechado</option>
                </select>
                <button onclick="replyBiz(${index})" class="btn-sm btn-info"><i class="fas fa-reply"></i> ${translations[currentLanguage]['business.reply']}</button>
                <button onclick="deleteBiz(${index})" class="btn-sm btn-danger"><i class="fas fa-trash"></i> ${translations[currentLanguage]['business.delete']}</button>
            </div>
        </div>
    `).join('');
}

// Funções de Ação
function updateBizStatus(index, newStatus) {
    businessRequests[index].status = newStatus;
    localStorage.setItem('xpr_business_requests', JSON.stringify(businessRequests));
    loadBusinessPanel();
}

function deleteBiz(index) {
    if(confirm("Deseja deletar esta proposta de business?")) {
        businessRequests.splice(index, 1);
        localStorage.setItem('xpr_business_requests', JSON.stringify(businessRequests));
        loadBusinessPanel();
    }
}

function replyBiz(index) {
    const reply = prompt("Resposta para " + businessRequests[index].name + ":");
    if (reply) {
        alert("Resposta enviada para o log do sistema!");
        // Aqui você pode adicionar lógica para enviar um e-mail real ou salvar no histórico
    }
}

// Vincule ao seu sistema de atualização de interface existente
const originalUpdateSupportPanels = window.updateSupportPanels;
window.updateSupportPanels = function() {
    if (typeof originalUpdateSupportPanels === 'function') originalUpdateSupportPanels();
    loadBusinessPanel();
};

// Sistema de Promoção do Yagami
// Função Unificada para Promover ou Remover Staff
function yagamiManageStaff(action) {
    const username = document.getElementById('recruitUsername').value.trim();
    const feedback = document.getElementById('recruitFeedback');
    
    if (!username) {
        feedback.style.color = "#ff6b6b";
        feedback.innerText = "Por favor, digite um nome de usuário.";
        return;
    }

    // Carrega dados atuais
    let users = JSON.parse(localStorage.getItem('xpr_users') || '{}');
    let staffList = JSON.parse(localStorage.getItem('xpr_staff_list') || '[]');

    if (users[username]) {
        if (action === 'promote') {
            // Lógica de Promoção
            users[username].type = 'staff';
            if (!staffList.includes(username)) {
                staffList.push(username);
            }
            feedback.style.color = "#00d4ff";
            feedback.innerText = `Sucesso! ${username} agora é Staff.`;
        } else if (action === 'demote') {
            // Lógica de Remoção
            users[username].type = 'user'; // Volta a ser usuário comum
            
            // Remove da lista de staff
            staffList = staffList.filter(u => u !== username);
            
            feedback.style.color = "#ff9f43";
            feedback.innerText = `Sucesso! ${username} foi removido da Staff.`;
        }

        // Salva as alterações no LocalStorage
        localStorage.setItem('xpr_users', JSON.stringify(users));
        localStorage.setItem('xpr_staff_list', JSON.stringify(staffList));
        
        // Limpa o campo
        document.getElementById('recruitUsername').value = '';
    } else {
        feedback.style.color = "#ff6b6b";
        feedback.innerText = "Usuário não encontrado no banco de dados.";
    }
}



// Verificação de Acesso
function checkYagamiIdentity() {
    const panel = document.getElementById('yagamiRecruitPanel');
    if (currentUser && currentUser.username === 'Yagami_TheScripter') {
        if(panel) panel.style.display = 'block';
    } else {
        if(panel) panel.style.display = 'none';
    }
}

const blogPosts = [
    {
        id: 1,
        tag: 'WIP-Tag',
        title: 'WIP',
        excerpt: 'WIP',
        date: 'Date',
        author: 'XPR Team',
        icon: 'fa-city'
    },
    {
        id: 2,
        tag: 'WIP-Tag',
        title: 'WIP',
        excerpt: 'WIP',
        date: 'Date',
        author: 'XPR Team',
        icon: 'fa-trophy'
    },
    {
        id: 3,
        tag: 'WIP-Tag',
        title: 'WIP',
        excerpt: '`WIP',
        date: 'Date',
        author: 'XPR Team',
        icon: 'fa-code'
    }
];

function renderBlogPosts() {
    const grid = document.getElementById('blogGrid');
    if (!grid) return;

    grid.innerHTML = blogPosts.map(post => `
        <div class="blog-post-card" data-aos="fade-up">
            <div class="blog-post-image">
                <i class="fas ${post.icon}"></i>
            </div>
            <div class="blog-post-content">
                <span class="blog-post-tag">${post.tag}</span>
                <h3 class="blog-post-title">${post.title}</h3>
                <p class="blog-post-excerpt">${post.excerpt}</p>
                <div class="blog-post-meta">
                    <span><i class="fas fa-calendar-alt"></i> ${post.date}</span>
                    <span><i class="fas fa-user"></i> ${post.author}</span>
                </div>
            </div>
        </div>
    `).join('');
}

// Chame a função quando o documento carregar
document.addEventListener('DOMContentLoaded', renderBlogPosts);

</script>

<script type="module">
  // Import the functions you need from the SDKs you need
  import { initializeApp } from "https://www.gstatic.com/firebasejs/12.7.0/firebase-app.js";
  import { getAnalytics } from "https://www.gstatic.com/firebasejs/12.7.0/firebase-analytics.js";
  // TODO: Add SDKs for Firebase products that you want to use
  // https://firebase.google.com/docs/web/setup#available-libraries

  // Your web app's Firebase configuration
  // For Firebase JS SDK v7.20.0 and later, measurementId is optional
  const firebaseConfig = {
    apiKey: "AIzaSyCkf_KTemBBtzNYjForVX7PE-BKYWyHSH4",
    authDomain: "xpr-studio-website.firebaseapp.com",
    projectId: "xpr-studio-website",
    storageBucket: "xpr-studio-website.firebasestorage.app",
    messagingSenderId: "875608407852",
    appId: "1:875608407852:web:52a27c8c72d0fff2c4f689",
    measurementId: "G-HGMQ6K663N"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const analytics = getAnalytics(app);

  {
  "rules"; {
    ".read"; true,
    ".write"; true
  }
}
</script>

</body>

</html>
